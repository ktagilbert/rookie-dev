/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 1.105.0_widgets_465
 -*- Capture UI Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 1.105.0_widgets_465
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var Vb,Eb,Fb,Ac,hd,re,se,Fa,Nd,te,ue,ve,we,ib,jb;function Wb(a){janrain.ready?a():document.addEventListener?document.addEventListener("DOMContentLoaded",a,!1):window.attachEvent("onload",a)}function Xb(a){D().setUseLocalStorage(!1).setDomain("."+document.location.host).setName(a).setValue("").remove();D().setUseLocalStorage(!1).setName(a).setValue("").remove()}function id(){var a;a="http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.2.19/":"https://d3hmp0045zy3cs.cloudfront.net/2.2.19/";
if(janrain.settings.capture&&janrain.settings.capture.quiltVersion){a=a.split("/");if("cdn.quilt.janrain.com"===a[2]||"d3hmp0045zy3cs.cloudfront.net"===a[2])a[a.length-2]=janrain.settings.capture.quiltVersion;a=a.join("/")}janrain.settings.capture&&janrain.settings.capture.quiltUrl&&(a=janrain.settings.capture.quiltUrl+"/2.2.19/");return a}function qa(a){function b(Xa){var E=a(Xa);j&&0===Xa%j&&k.error(n);E||(Xa<h?c=setTimeout(function(){b(Xa+1)},e):(k.warn("A poll operation failed."),L()))}var c,
e=100,h=1,j=0,n="",L=function(){},a="function"===typeof a?a:function(){return!0};return{start:function(){b(1);return this},stop:function(){clearTimeout(c);return this},setDelay:function(a){"number"===typeof a&&0<a&&(e=a);return this},setMaxAttempts:function(a){"number"===typeof a&&0<a&&(h=a);return this},setFailCallback:function(a){"function"===typeof a&&(L=a);return this},errorEvery:function(a,b){"number"===typeof a&&0<a&&"string"===typeof b&&(j=a,n=b);return this}}}function Bc(a,b,c){var e;if(document.getElementById(a))return!1;
if(g){e="";var h=document.createElement("div");h.innerHTML=e+"<iframe "+('name="'+a+'" ')+('id="'+a+'" ')+('src="'+b+'" ')+'style="display: none;"></iframe>';document.body&&document.body.appendChild(h);e=document.getElementById(a)}else e=document.createElement("iframe"),e.setAttribute("name",a),e.id=a,e.setAttribute("src",b),e.style.display="none",document.body&&document.body.appendChild(e);"function"===typeof c&&c();return e}function ua(a){for(var b="",c=0;c<a;)b+=ua.possible[Math.floor(Math.random()*
ua.possible.length)],c++;return b}function Cc(){function a(a,b,c,e){b={action:a,key:b,messageId:c};"set"===a&&(b.value=e);return"janrainCapture:"+M.stringify(b)}function b(a,b){qa(function(){return"undefined"!==typeof n[a]?("get"===n[a].action&&"function"===typeof b&&b(n[a].storedValue),!0):!1}).setDelay(50).setMaxAttempts(10).setFailCallback(function(){k.warn("Poll that checks message queue for request failed. requestId: "+a)}).start()}function c(c,e){var j=ua(40);window.setTimeout(function(){L.contentWindow.postMessage(a("get",
c,j),Xa)});b(j,e)}function e(a,b){if(j)jd?c(a,b):setTimeout(function(){e(a,b)},50);else return window.localStorage.getItem(a)}function h(a){if(0!==a.data.indexOf("janrainCapture:")||!A(E,a.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;a=M.parse(a.data.replace("janrainCapture:",""));n[a.messageId]=a}var j=!1,n={},L,Xa,E=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(c,e){if(j){var h=ua(40);window.setTimeout(function(){L.contentWindow.postMessage(a("set",
c,h,e),Xa)});return b(h)}return window.localStorage.setItem(c,e)},removeItem:function(c){if(j){var e=ua(40);window.setTimeout(function(){L.contentWindow.postMessage(a("remove",c,e),Xa)});return b(e)}return window.localStorage.removeItem(c)},getItem:e,setMultiDomain:function(a){if(j=a)window.addEventListener?window.addEventListener("message",h,!1):window.attachEvent?window.attachEvent("onmessage",h):document.attachEvent&&document.attachEvent("onmessage",h),L=document.getElementById("xDomainLocalStorageJanrain"),
Xa=janrain.settings.storageServerDomain}}}function D(){function a(){if(h&&Dc){var a=new Cc;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.removeItem(e);a.removeItem(e+"_Expires")}else{var a=n?"; domain="+n:"",b=new Date;b.setTime(b.getTime()+-864E6);document.cookie=e+"="+j+";expires="+b.toUTCString()+a+"; path="+L}}function b(b,c,j){var n,L,f,g,k,j="undefined"===typeof j?!0:j;if(h&&Dc)if(k=new Cc,janrain.settings.multiDomainLocalStorage)k.setMultiDomain(!0),k.getItem(b,function(n){n?
j?k.getItem(b+"_Expires",function(j){j?Math.round((new Date).getTime()/1E3)>Math.round((new Date(j)).getTime()/1E3)?(e=b,a(),"function"===typeof c&&c(!1)):"function"===typeof c&&c(n):(new D).getCookie(b+"_session")?"function"===typeof c&&c(n):(e=b,a())}):"function"===typeof c&&c(n):"function"===typeof c&&c(!1)});else if(g=k.getItem(b),n=k.getItem(b+"_Expires"),g){if(!j||!(n&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(n)).getTime()/1E3))&&(n||(new D).getCookie(b+"_session")))return g;
e=b;a()}else return!1;else{n=document.cookie.split(";");L=n.length;for(var q=0;q<L;q++)if(f=n.pop(),g=f.split("="),f=g[0],g=g[1],f.trim()===b)return g;return!1}}var c,e,h=!1,j,n,L="/";return{create:function(){if(h&&Dc){var a=new Cc;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.setItem(e,j);c?a.setItem(e+"_Expires",c):(new D).setName(e+"_session").setValue("session").create()}else document.cookie=e+"="+j+(c?"; expires="+c:"")+(n?"; domain="+n:"")+"; path="+L},remove:a,setExpirationDirectly:function(a){a&&
(c=a);return this},setExpiration:function(a){if(a){var b=new Date;b.setTime(b.getTime()+864E5*a);c=b.toUTCString()}return this},setName:function(a){a&&(e=a);return this},setValue:function(a){"undefined"!==typeof a&&(j=a);return this},setUseLocalStorage:function(a){h=a;return this},setPath:function(a){a&&(L=a);return this},setDomain:function(a){a&&(n=a);return this},getCookie:function(a,c,e){return b(a,c,e)}}}function Yb(a,b){a=a||navigator.appName;b=b||la;return"Microsoft Internet Explorer"===a&&
null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(b)?parseFloat(RegExp.$1):!1}function Ec(a){a=a||la;return!/CriOS\//.test(a||la)&&!/Chrome\//.test(a||la)&&/Safari\//.test(a)}function Fc(a){a=a||la;return-1<a.indexOf("iPod")?"iPod":-1<a.indexOf("iPhone")?"iPhone":-1<a.indexOf("iPad")?"iPad":0}function ra(a,b,c,e,h,j){"number"===typeof c&&"number"===typeof e&&"number"===typeof h&&"number"===typeof j?("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=c+"px "+e+"px "+h+"px "+j+"px"),"undefined"!==
typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=c+"px "+e+"px "+h+"px "+j+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=c+"px "+e+"px "+h+"px "+j+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=b+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=b+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=b+"px"));return a}function vb(a,b){if("undefined"===typeof a||"undefined"===
typeof b)return!1;var c=a-b;0>c&&(c=0);c>a&&(c=a);return c}function Pd(a,b){"undefined"!==typeof a.style.filter&&(a.style.filter="alpha(opacity="+100*b+")");"undefined"!==typeof a.style.opacity&&(a.style.opacity=b);"undefined"!==typeof a.style.KhtmlOpacity&&(a.style.KhtmlOpacity=b);"undefined"!==typeof a.style.MozOpacity&&(a.style.MozOpacity=b)}function ld(a,b){if(g&&(9>=g||document.documentMode&&9>=document.documentMode))return a.style.backgroundImage="url('"+nc("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+
"')",!0;var c;if(c=Ec()){a:{if((c=la)&&Ec(c))if((c=c.match(/ Version\/(\d)[\d\.]+ /))&&c[1]){c=1*c[1];break a}c=0}c=4>=c}if(c||va.getMobileDevice()){var e=c="",h="",j=b.split(","),n={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};j[0]&&n[j[0]]&&(c=n[j[0]]);j[1]&&(e="from("+j[1]+")");j[j.length-1]&&(h="to("+j[j.length-1]+")");a.style.backgroundImage="-webkit-gradient(linear,"+c+","+e+","+h+")"}a.style.backgroundImage="-moz-linear-gradient("+
b+")";a.style.backgroundImage="-webkit-linear-gradient("+b+")";a.style.backgroundImage="-ms-linear-gradient("+b+")";a.style.backgroundImage="-o-linear-gradient("+b+")";a.style.backgroundImage="linear-gradient("+b+")"}function Gb(a,b,c,e){var h=Gc(c),j=Gc(c,e);if(c=Qd(c))c.a=e,j="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<b){a.style.backgroundColor=h;a.style.padding=b+"px";if(0<g&&8>=g||g&&fa)return!1;a.style.backgroundColor=j;a.style.padding=b+"px"}else a.style.backgroundColor="",a.style.padding=
"0px"}function Qd(a){var b={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,"");a=a.split(",");if(3>a.length||4<a.length)return!1;b.r=a[0];b.g=a[1];b.b=a[2];b.a=a[3]?a[3]:1;return b}function Gc(a,b){var c=a.split("");if("#"!==c[0])return a;4===a.length&&(a=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);var a=a.substring(1,7),c=parseInt(a.substring(0,2),16),e=parseInt(a.substring(2,4),16),h=parseInt(a.substring(4,6),16);return isNaN(b)?"rgb("+c+","+
e+","+h+")":"rgba("+c+","+e+","+h+","+b+")"}function y(a,b,c){if(null==a)return!1;a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function wb(a,b){if(document.createEvent){var c=document.createEvent("HTMLEvents");c.initEvent(b,!1,!1);a.dispatchEvent(c)}else document.createEventObject&&a.fireEvent("on"+b)}function xb(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function Zb(){var a,b;"undefined"!=typeof window.innerWidth?(a=window.innerWidth,
b=window.innerHeight):(a=document.documentElement.offsetWidth,b=document.documentElement.offsetHeight);return{width:a,height:b}}function yb(a){return{width:a.style&&a.style.width?parseInt(a.style.width):a.offsetWidth?parseInt(a.offsetWidth):0,height:a.style&&a.style.height?parseInt(a.style.height):a.offsetHeight?parseInt(a.offsetHeight):0}}function xe(a,b){var c=document.getElementById(a);if(!c)return null;if("object"===typeof c.currentStyle)var e=c.currentStyle[b];else window.getComputedStyle&&(e=
document.defaultView.getComputedStyle(c,null).getPropertyValue(b));return e}function Rd(a){var b,c,e,h;if("string"!==typeof a)return!1;a=a.trim();if(0===a.length)return!1;b=document.createElement("a");-1===a.indexOf("//")?a="http://"+a:0===a.indexOf("//")&&(a="http:"+a);"#"===a.charAt(a.length-1)&&(a=a.slice(0,a.length-1));b.href=a;if(2>b.protocol.length||""===b.host||0===b.hostname.length)return!1;h=""!==b.port&&"0"!==b.port&&"21"!==b.port&&"80"!==b.port&&"443"!==b.port;e="/"!==b.pathname.charAt(0);
c=-1<a.indexOf(b.hostname+(h?":"+b.port:"")+(e?"/":"")+b.pathname+b.search+b.hash);b=b.protocol+"//"+b.hostname+(h?":"+b.port:"")+(c?(e?"/":"")+b.pathname:"")+b.search+b.hash;c=encodeURI(a);return 0===b.indexOf(a)||0===b.indexOf(c)?b:!1}function V(a,b,c,e,h){var j=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,n=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("array"===a){if(!t(e))return h||I.log(e+" is wrong type, must be array, using default value instead"),c;if(b&&t(b))for(var L=
0;L<e.length;L++)if(0>b.indexOf(e[L]))return h||I.log(e+" is not within the valid range, using default value instead"),c;return e}if("url"===a){if("string"!==typeof e)return c;e=e.trim();if(0===e.length)return c;if(L=Rd(e))return L;h||I.log(e+" failed url validation, please double check the url.");return e}if("text"===a){if(b){if(0<=b.indexOf(e))return e;h||I.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}return j.test(e)?
e:c}if("usertext"===a){if("string"!==typeof e&&"number"!==typeof e)return c;if(t(b)){if(1===b.length){if(e.length<=b[0])return e;h||I.log(e+" is too long, using default value instead");return c}if(2===b.length){if(e.length<=b[1]&&e.length>=b[0])return e;h||I.log(e+" is not within the valid range, using default value instead");return c}h||I.log("usertext range is invalid, using default value instead");return c}return e}"string"===typeof e&&0==e.length&&(e=" ");if(!j.test(e))return h||I.log(e+" contains invalid character(s)"),
c;if("boolean"===a){if("boolean"===typeof e)return e;h||I.log(e+" is wrong type, must be boolean, using default value instead");return c}if("text"===a)return e;if("number"===a){if(isNaN(parseInt(e)))return h||I.log(e+" is wrong type, must be a valid number"),c;e=parseFloat(e)}if("color"===a){e&&(e=e.trim());if("transparent"===e||n.test(e))return e;h||I.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if(typeof e!=a&&
"color"!=a)return h||I.log(e+" for "+arguments.callee.caller.name+" is "+typeof e+" expected "+a),c;if("object"===typeof b&&"string"===a){if(0<=b.indexOf(e))return e;h||I.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===typeof b&&"number"===a){2===b.length?(j=b[0],n=b[1]):(j=b.shift(),n=b.pop(),L=b);if(e<j)return h||I.log("Value of "+e+" for "+arguments.callee.caller.name+" is below minimum of "+j+", using minimum value of "+
j+" instead"),j;if(e>n)return h||I.log("Value of "+e+" for "+arguments.callee.caller.name+" is above maximum of "+n+", using maximum value of "+n+" instead"),n;if(L&&"number"===typeof L.indexOf(e)||e==j||e==n)return e;return L?(h||I.log("Value of "+e+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+c+" instead"),c):e}return 0!=e&&!e?c:e}function zb(a){for(var b=zb.options,a=b.parser[b.strictMode?"strict":"loose"].exec(a),c={},e=14;e--;)c[b.key[e]]=a[e]||"";c[b.q.name]=
{};c[b.key[12]].replace(b.q.parser,function(a,e,n){e&&(c[b.q.name][e]=n)});return c}function db(a){return document.getElementById(N(a).getAttribute("id"))}function N(a){return a.target?a.target:a.srcElement}function md(a,b){function c(a){q=!0;"undefined"!==typeof f&&clearTimeout(f);if("string"===typeof a)return"function"===typeof L&&L(a),!0;if("object"===typeof a||"undefined"===typeof a)return"object"===typeof a&&"error"===a.type?"function"===typeof L&&L(a):"function"===typeof h&&h(),!0}function e(){qa(function(){return q}).setDelay(50).setMaxAttempts(j).setFailCallback(function(){k.warn("Polling for script loader failed. src: "+
a);c("Load Timeout Error")}).start()}var h=b,j=200,n=!1,L,f,E=document.createElement("script"),g=document.getElementsByTagName("script")[0],q=!1;E.src=a;E.setAttribute("type","text/javascript");E.onload=E.onerror=E.onreadystatechange=function(a){!q&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&c(a)};return{setTimeoutCallback:function(a){n=!0;L=a;return this},setCallback:function(a){h=a;return this},setTimeoutLimit:function(a){j=a;return this},load:function(){g.parentNode.insertBefore(E,
g);n&&e()}}}function ma(a,b){md(a,b).load()}function ye(a,b){g&&9>g&&oc(a,b)}function oc(a,b,c){function e(c){cssNotFound=!1;"function"===typeof b&&b();var e=janrain.events.onCssLoad,c={source:a,noload:c,save:!0};e.fire(c);e.permaArgs||(e.permaArgs=[]);e.permaArgs.push(c)}function h(){qa(function(){for(f=L.length;0<=--f;)if(L[f].href===n.href)return e(),!0;return!1}).setDelay(50).setMaxAttempts(200).setFailCallback(function(){k.warn("Dynamic stylesheet poll check failed.");e(!0)}).start()}function j(){qa(function(){e();
return!0}).setDelay(50).setMaxAttempts(200).setFailCallback(function(){k.warn("Dynamic stylesheet poll check failed.")}).start()}if(A(nd,a))c&&"function"===typeof b&&b();else{nd.push(a);var n,L=document.styleSheets,f;"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=new Ab);Hc?(n=document.createElement("style"),n.innerHTML='@import "'+a+'";'):(n=document.createElement("link"),n.rel="stylesheet",n.href=a,n.type="text/css");Ic||Hc?(Ic&&h(),Hc&&j()):(n.onload=function(){e()},n.onerror=
function(){e(!0)});document.getElementsByTagName("head")[0].appendChild(n)}}function q(a){var b;b=a&&a.className?a.className.split(" "):[];return{append:function(c){-1===b.indexOf(c)&&(b.push(c),a&&(a.className=b.join(" ")));return this},remove:function(c){-1!==b.indexOf(c)&&(b.splice([b.indexOf(c)],1),a&&(a.className=b.join(" ").trim()));return this},has:function(a){return-1!==b.indexOf(a)}}}function ze(a,b){ya(a.style,b)}function za(a,b){a.appendChild(document.createTextNode(b))}function eb(a,b){a.innerHTML=
"";za(a,b)}function Sd(a){for(var b=a.lastChild;b;)a.removeChild(b),b=a.lastChild}function Td(a){var b=typeof a;return("number"===b||"string"===b&&0<a.length)&&rb(a)?parseFloat(a):null}function Ka(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getMonth())}function t(a){return"[object Array]"===Object.prototype.toString.call(a)}function fb(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)}function A(a,b){return!t(a)?!1:-1<a.indexOf(b)}function F(a,b){for(var c in a)wa(a,
c)&&b.call(a[c],c,a[c]);return a}function Ca(a,b){if("undefined"===typeof b||0===b.length||!fb(a)&&!t(a))return a;for(var c=b.split("."),e=a,h=0,j=c.length;h<j&&!(e=e[c[h]],void 0===e||null===e);++h);return e}function ha(a,b,c){for(var e=0,h=a.length;e<h;e++)b.call(c,a[e],e,a)}function Jc(a){a()}function Hb(a){a&&a.parentNode&&a.parentNode.removeChild(a);return a}function Ud(a,b){for(var c=b.parentNode;null!=c;){if(c==a)return!0;c=c.parentNode}return!1}function X(a){var b=t(a)?[]:{},c;for(c in a)wa(a,
c)&&(b[c]=X.isCloneable(a[c])?X(a[c]):a[c]);return b}function Kc(a,b){var c=[],e=!(b&&!1===b.encode),h=b&&!0===b.allowDupes;F(a,function(a,b){var f=h&&t(b)?b:[b];c.push.apply(c,f.map(function(b){return e?encodeURIComponent(a)+"="+encodeURIComponent(b):a+"="+b}))});return(c.length?"?":"")+c.join("&")}function Ze(a,b){for(var c,e={},h=a.split(b||"&"),j=0,n=h.length;j<n;j++)c=h[j].split("="),c[0]&&(e[c[0]]=c[1]);return e}function od(a,b,c){if(!a)return"";if(!b)return a;var e=zb(a),a=e.protocol+"://"+
e.authority+e.path,h=e.anchor?"#"+e.anchor:"",j={};F(b,function(a,b){var e=c&&t(b)?b:[b];j[encodeURIComponent(a)]=e.map(encodeURIComponent)});b=Kc(ya(e.queryKey,j),{encode:!1,allowDupes:c});return a+b+h}function Vd(a,b){F(b,function(b,e){wa(a,b)?t(a[b])?a[b].push(e):a[b]=[a[b],e]:a[b]=e});return a}function S(a){if(!a)return!1;if(a.preventDefault)a.preventDefault();else try{a.returnValue=!1}catch(b){}}function Lc(a){if(!a)return!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function $e(a){var b;
a&&(b=sb(a.getElementsByTagName("input")),b=b.concat(sb(a.getElementsByTagName("button"))),b=Ae(b,{type:"submit"})[0]);return b}function rb(a){return!isNaN(parseFloat(a))&&isFinite(a)}function Be(a){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){var b=a.split("/"),a=parseInt(b[1],10),c=parseInt(b[0],10),b=parseInt(b[2],10),e=new Date(b,c-1,a);return e.getFullYear()==b&&e.getMonth()==c-1&&e.getDate()==a?!0:!1}return!1}function Na(a,b,c){var e,h=Ce,j=Wd;void 0===a&&(a="{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}");
void 0===b&&(b=new Date);c&&(c.monthNames&&t(c.monthNames)&&12===c.monthNames.length&&(h=c.monthNames),c.dayNames&&t(c.dayNames)&&7===c.dayNames.length&&(j=c.dayNames));c=function(){var a=b.getHours();12<a&&(a-=12);0===a&&(a=12);return a};e=function(a){return 10>a?"0"+a:a};a=a.replace(/{yyyy}/g,b.getFullYear());a=a.replace(/{month}/g,h[b.getMonth()]);a=a.replace(/{mmm}/g,h[b.getMonth()].substring(0,3));a=a.replace(/{day}/g,j[b.getDay()]);a=a.replace(/{0m}/g,e(b.getMonth()+1));a=a.replace(/{m}/g,b.getMonth()+
1);a=a.replace(/{0d}/g,e(b.getDate()));a=a.replace(/{d}/g,b.getDate());a=a.replace(/{ord}/g,function(){var a=["th","st","nd","rd"],c=b.getDate()%100;return a[(c-20)%10]||a[c]||a[0]}());a=a.replace(/{0hour}/g,e(c()));a=a.replace(/{hour}/g,c());a=a.replace(/{0h}/g,e(b.getHours()));a=a.replace(/{h}/g,b.getHours());a=a.replace(/{minute}/g,e(b.getMinutes()));a=a.replace(/{second}/g,e(b.getSeconds()));return a=a.replace(/{ampm}/g,11<b.getHours()?"PM":"AM")}function pd(a,b,c){function e(){var a=g.search(E);
if(-1===a)return!1;var b=g.substring(a,a+2);isNaN(b)||12<b?(f.setMonth(g.substring(a,a+1)-1),g=g.substring(a+1)):(f.setMonth(b-1),g=g.substring(a+2));return y=!0}function h(){var a=g.search(E);if(-1===a)return!1;var b=g.substring(a,a+2);isNaN(b)||31<b?(f.setDate(g.substring(a,a+1)),g=g.substring(a+1)):(f.setDate(b),g=g.substring(a+2));return mc=!0}function j(){var a;a=g.search(E);if(-1===a)return!1;g=g.substring(a);a=g.match(k)[0];f.setFullYear(a);g=g.substring(a.length);return D=!0}function n(){var a,
b,c=-1,e;for(e=0;12>e;++e)a=g.search(q[e]),-1===c&&-1<a&&(c=a,b=e),-1<a&&a<c&&(c=a,b=e);if(-1===c)return!1;f.setMonth(b);g=g.substring(c);a=g.search(t);-1===a&&(a=g.length);g=g.substring(a);return y=!0}var f=new Date,a=a.match(/\{+([a-z0])+\}/g),g=b,E=/[0-9]{1}/,k=/[0-9]+/,q=[/jan/i,/feb/i,/mar/i,/apr/i,/may/i,/jun/i,/jul/i,/aug/i,/sep/i,/oct/i,/nov/i,/dec/i],t=/[^a-zA-Z]/,y=!1,D=!1,mc=!1;if("string"!==typeof b)return new Date("Invalid Date");"undefined"===typeof c&&(c=!1);f.setMonth(0);f.setFullYear(0);
f.setDate(1);f.setMinutes(0);f.setSeconds(0);f.setHours(0);f.setMilliseconds(0);for(var b=0,kd=a.length;b<kd;++b){var H=!0;switch(a[b]){case "{m}":y||(H=!1,c||(H=n()),H||(H=e()));break;case "{0m}":y||(H=!1,c||(H=n()),H||(H=e()));break;case "{month}":y||(H=n(),!H&&!c&&(H=e()));break;case "{mmm}":y||(H=n(),!H&&!c&&(H=e()));break;case "{d}":mc||(H=h());break;case "{0d}":mc||(H=h());break;case "{yyyy}":D||(H=j())}if(!H){f=new Date("Invalid Date");break}if(y&&D&&mc)break}return f}function af(a,b){var a=
a||{},c={};F(b,function(e){c[e]=e in a?a[e]:b[e]});return c}function ya(a,b){for(var c in b)wa(b,c)&&(a[c]=b[c]);return a}function De(a,b){if(!X.isCloneable(a)||!X.isCloneable(b))return a;for(var c in b)wa(b,c)&&(a[c]="undefined"===typeof a[c]||!X.isCloneable(a[c])?X.isCloneable(b[c])?X(b[c]):b[c]:X.isCloneable(b[c])?De(a[c],b[c]):b[c]);return a}function Ee(a,b){var c=!0;if(!X.isCloneable(a)||!X.isCloneable(b))return a===b;for(var e in a)if(wa(a,e)&&(c=X.isCloneable(a[e])?Ee(a[e],b[e]):a[e]===b[e],
!c))return!1;return!0}function G(a,b){for(var c=b,e=/\{\|(.*?)\|\}/,h;h=e.exec(c);)try{var j=h[1].trim(),n=Ca(a,j),n="undefined"!==typeof n?n:"",c=c.replace(h[0],n)}catch(f){return window.console&&window.console.log&&console.log(f.name+": "+f.message,"error"),!1}return c}function bf(a,b){var c=X(a);F(b,function(b,h){var j=Ca(a,b);if(j&&fb(h)&&"date"===h.type&&(j=pd("{yyyy}-{0m}-{0d}",j),j=Na(h.format,j),!("undefined"===typeof b||0===b.length||!fb(c)&&!t(c)))){for(var n=b.split("."),f=c,g,E=0,k=n.length-
1;E<k;++E)g=f[n[E]],X.isCloneable(g)||(f[n[E]]={}),f=f[n[E]];f[n.pop()]=j}});return c}function tb(a,b){if(a){if(a.nodeName.toLowerCase()===b.toLowerCase())return a;if(!a.parentNode)return!1;var c=a.parentNode.nodeName.toLowerCase();return"body"===c?!1:c===b.toLowerCase()?a.parentNode:tb(a.parentNode,b)}}function qd(a,b){return!a?!1:"body"===a.nodeName.toLowerCase()?!1:q(a).has(b)?a:qd(a.parentNode,b)}function Ib(a){var b=[],c;for(c in a)wa(a,c)&&b.push(c+'="'+a[c]+'"');return b.join(" ")}function sb(a){return"string"===
typeof a?a.split(""):Array.prototype.map.call(a,function(a){return a})}function Fe(a){if(a&&0<a.length)for(var a=a[0].children,b=a.length,c=0;c<b;++c)a[c].blur&&a[c].blur()}function Xd(a,b){for(var c=[],e=0,h=a.length;e<h;e++)b(a[e])&&c.push(a[e]);return c}function Ae(a,b){return Xd(a,function(a){for(var e in b)if(wa(b,e)&&a[e]!==b[e])return!1;return!0})}function cf(a,b,c){for(var e=[],h=0,j=a.length;h<j;h++)e.push(b.call(c,a[h],h,a));return e}function Ge(a){var b,c;if(a&&(a.blur&&a.blur(),a.children)){c=
a.children;a=0;for(b=c.length;a<b;a++)Ge(c[a])}}function wa(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function rd(a){if("string"!==typeof a)return a;for(var b=a.length,c=[],e;b--;)e=a.charCodeAt(b),c[b]="&#"+e+";";return c.join("")}function sd(){function a(a){var a=a||"img",c=document.createElement(a);c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=1E3;"a"===a?(c.setAttribute("href","#"),c.className="janrain_modal_closebutton",qa&&(c.innerHTML=qa)):(c.src=wa,la||(c.style.right=
"-6px",c.style.top="-7px",c.style.height="31px",c.style.width="28px"));c.onclick=ya?e:b;return c}function b(a){Da||(z.style.display="none",F.style.display="none",T.style.display="none");Sa&&va.deactivate();("object"===typeof a||!a)&&janrain.events.onModalClose.fire();("object"===typeof a||!a)&&ua.fire();"object"===typeof a&&S(a)}function c(){var a=document.createElement("div"),c=document.createElement("div"),e=document.createElement("a"),j=document.createElement("a"),h=document.createElement("h3");
e.innerHTML=ma;j.innerHTML=Ca;h.innerHTML=za;e.setAttribute("href","#");j.setAttribute("href","#");a.className="janrain_close_confirm_container";c.className="janrain_close_confirm";e.className="janrain_modal_confirm";j.className="janrain_modal_cancel";y(e,"click",function(a){b();z.removeChild(kb);kb=null;S(a)});y(j,"click",function(a){z.removeChild(kb);kb=null;S(a)});c.appendChild(h);c.appendChild(j);c.appendChild(e);a.appendChild(c);return a}function e(a){kb||(kb=c(),z.appendChild(kb));S(a)}function h(){function a(){var b,
c,e,j,s,h,n,f;e=document.documentElement?document.documentElement:{clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0,offsetWidth:0,offsetHeight:0};f=e.scrollWidth?e.scrollWidth:0;b=e.scrollHeight?e.scrollHeight:0;h=e.offsetWidth?e.offsetWidth:0;n=e.offsetHeight?e.offsetHeight:0;j=document.body.scrollWidth?document.body.scrollWidth:0;s=document.body.scrollHeight?document.body.scrollHeight:0;c=document.body.offsetWidth?document.body.offsetWidth:0;e=document.body.offsetHeight?document.body.offsetHeight:
0;h=Math.max(j,f,c,h);b=Math.max(s,b,e,n);e=T.style;e.width=h+"px";e.height=b+"px";e.position="absolute"}T=document.createElement("div");T.id=ha;var b=T.style;b.left="0px";b.top="0px";df?(a(),y(window,"resize",a)):(b.bottom="0px",b.right="0px",b.position="fixed");b.backgroundColor="#000000";Pd(T,"0.4");b.display="none";b.zIndex=ta;return T}function j(a){var b=document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,c=document.documentElement.scrollLeft>=
document.body.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,e=Zb(),j=yb(a),h=e.height-j.height,e=e.width-j.width,b=b+h/2,c=c+e/2;H()&&(0>h&&(document.documentElement.scrollTop=0,document.body.scrollTop=0,b=10),0>e&&(document.documentElement.scrollLeft=0,c=document.body.scrollLeft=0),a.style.top=b+"px",a.style.left=c+"px");"absolute"!==a.style.position&&(a.style.position="absolute")}function n(){if(Da){var a=document.getElementById("previewMode");a.style.position="relative";
a.appendChild(z)}else j(z);Da||I.show()}function f(a){Oa||(na=V("number",[0,20],10,a),lb.fire({radius:vb(Aa,na)}))}function k(a){Oa||($=V("color",null,"#000000",a))}function E(a){Oa||(Aa=V("number",[0,20],10,a),Ya.fire({radius:vb(Aa,na),refresh:!0}))}function q(a){Oa||(Pa=V("number",[0,1],0.5,a),"object"==typeof z&&Gb(z,na,$,Pa))}function t(){if("undefined"===typeof pb)return!0;var a=Zb();return!!Math.floor(pb)!==!!Math.floor(a.width/a.height)}function D(){var a=Zb();pb=a.width/a.height}function Od(a){if("portrait"===
a){Za="portrait";var b="one column"}"landscape"===a&&(Za="landscape",b="two column");Ga.fire({orientation:Za,format:b,width:ga,height:N});t()&&n();D()}function A(a){a&&(sa=a);g&&fa&&(sa+=na-2);"object"==typeof z&&(z.style.width=sa+"px");return this}function mc(a){a&&(X=a);g&&fa&&(X=X+2*na-4);a&&"object"==typeof z&&(z.style.height=X+"px");return this}function kd(){var a=Zb(),a=a.width>=a.height,b="undefined"===typeof window.orientation,a=90===window.orientation||-90===window.orientation||b&&a?"landscape":
"portrait";Za!==a&&Od(a);n()}function H(){return"object"===typeof z&&"none"!==z.style.display}var ga=380,N=131,z,M="janrainModal",F,T,ha="janrainModalOverlay",G,sa=ga,X=N,na=10,$="#000000",Aa=10,Pa=0.5,ta=1E3,ya=!1,wa=nc("rel/img/17c96fc4b9c8464d1c95cd785dd3120b.png"),qa="",Oa=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,la=!1,za="Are you sure you want to quit?",ma="Yes, quit",Ca="No, stay",kb,Za="landscape",gb=!0,Sa="boolean"===typeof Sa?Sa:"number"===
typeof window.orientation?!0:!1,P="boolean"===typeof P?P:janrain.settings.previewMode,Da=P,Ha=Ha||!1,pb,xa=!1;janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(wa=janrain.settings.capture.modalCloseImage,la=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(qa=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=W());window.janrain.events.onModalOpen||(window.janrain.events.onModalOpen=
W());var ua=W(),ja=W(),Ya=W(),lb=W(),Ga=W();va&&va.onOrientationChange&&va.onViewportChange&&(va.onOrientationChange.addHandler(function(a){Od(a.orientation)},!0),va.onViewportChange.addHandler(function(){t()&&j(z);D()},!0));"undefined"!==typeof janrain.events.onCaptureRenderComplete&&(janrain.events.onCaptureRenderComplete.addHandler(function(){H()&&(xa=!0)},!0),janrain.events.onCaptureContentChange.addHandler(function(){H()&&xa&&(n(),xa=!1)},!0));return{isOpen:function(){return H()},setWidth:function(a){A(a);
return this},setHeight:function(a){mc(a);return this},setBorder:function(a){("string"==typeof a||"number"==typeof a)&&f(a);Oa||"object"==typeof z&&Gb(z,na,$,Pa);return this},setBorderColor:function(a){a&&k(a);Oa||"object"==typeof z&&Gb(z,na,$,Pa);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&E(a);Oa||"object"==typeof z&&ra(z,Aa);return this},setBorderOpacity:function(a){("number"===typeof a||"string"===typeof a)&&q(a);return this},setZIndex:function(a){T.style.zIndex=
a},setPreviewMode:function(a){"boolean"===typeof a&&(Da=a);return this},setId:function(a){M=a;z&&(z.id=a);return this},show:function(){Sa||(z.style.display="block");"object"==typeof F&&gb&&(F.style.display="block");Da?Sa&&(z.style.display="block"):(T.style.display="block",Sa?(va.setElement(z).activate(),z.style.display="block"):(y(window,"resize",kd),kd()));Oa||Ya.fire({radius:vb(Aa,na),refresh:!1});ja.fire();janrain.events.onModalOpen.fire();Vb.fire();z.focus()},close:function(a){b(a)},closeConfirm:function(){e()},
refresh:function(a){Ha||z.appendChild(G);a&&a.center&&n()},remove:function(){if(Da){var a=document.getElementById("previewMode");"object"===typeof G&&z.removeChild(G);"object"===typeof z&&a.removeChild(z);"object"===typeof T&&document.body.removeChild(T);if(a=document.getElementById("janrainEngageEmbed_old"))a.id="janrainEngageEmbed";T=z=""}else"object"===typeof G&&z.removeChild(G),"object"===typeof T&&document.body.removeChild(T),"object"===typeof z&&document.body.removeChild(z)},addContent:function(b){var c=
janrain.events.onAuthWidgetContentPlaced;c&&c.fire();F=b;if(!z){z=document.createElement("div");z.id=M;if("number"===typeof sa||"string"===typeof sa)z.style.width=sa+"px";z.style.height=X+"px";z.style.position="absolute";Oa||(z.style.padding=na+"px",ra(z,Aa),Gb(z,na,$,Pa));z.style.zIndex=1E3;z.style.display="none";T=h();G=qa?a("a"):a();z.appendChild(G);document.body.appendChild(T);document.body.appendChild(z)}z.appendChild(F);Da&&n();return this},getContent:function(){return F},getBorderWidth:function(){return na},
getState:function(){return{width:sa,borderWidth:na,borderColor:$,borderRadius:Aa,borderOpacity:Pa,orientation:Za}},setState:function(a){R("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&f(a.borderWidth),"undefined"!==typeof a.borderColor&&k(a.borderColor),"undefined"!==typeof a.borderOpacity&&q(a.borderOpacity),"undefined"!==typeof a.orientation&&Od(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&E(a.borderRadius),
"object"==typeof z&&ra(z,Aa)))},setConfirmClose:function(a){ya=a;return this},setShowContentOnLoad:function(a){gb=a;return this},setConfirmMessageText:function(a){za=a},setConfirmLinkText:function(a){ma=a},setCancelLinkText:function(a){Ca=a},onClose:ua,onShow:ja,onOrientationChange:Ga,onBorderRadiusChange:Ya,onBorderWidthChange:lb}}function ef(a){function b(a){"janrainReadyToClose:True"===a.data&&(top.focus(),f=!0,xb(window,"message",b))}function c(a){"janrainPopupHasClosed"===a.data&&(xb(window,
"message",c),g&&g.parentNode&&g.parentNode.removeChild(g),"function"===typeof E&&E())}function e(){var a=window.open(h,"","top="+((window.screen.availHeight||window.screen.height)/2-n/2)+",left="+((window.screen.availWidth||window.screen.width)/2-j/2)+",width="+j+",height="+n+",status=1,location=1,resizable=1,scrollbars=1");ff&&y(window,"message",b);if(gf)y(window,"message",c),g=Bc("janrain-xdr-iframe",janrain.settings.appUrl+"/xdr_iframe");else var e=window.setInterval(function(){f&&a&&(a.close(),
f=!1);if(!a||a.closed||void 0===a.closed)window.clearInterval(e),"function"===typeof E&&E()},500)}var h=a,j=400,n=400,f=!1,g,E;return{show:function(){e()},setWidth:function(a){a&&(j=a);return this},setHeight:function(a){a&&(n=a);return this},setCallback:function(a){a&&(E=a);return this}}}function hf(){function a(a){"function"===typeof a&&(D=a);return this}function b(){f=[];t.innerHTML="";ha(arguments,function(a,b){var c=document.createElement("button");c.className="capture_btn capture_secondary";
eb(c,a);c.setAttribute("data-index",b.toString());y(c,"click",function(a){a.index=parseInt(N(a).getAttribute("data-index"));D(a)});f.push(c);t.appendChild(c)});c(f.length-1);return this}function c(a){var b=f[A];b&&q(b).remove("capture_primary").append("capture_secondary");A=a;(b=f[A])&&q(b).remove("capture_secondary").append("capture_primary");return this}function e(){janrain.capture.ui.modal.close();return this}var h,j,f,g,k,E,t,D,A;h="Notice";j="This is a notice.";A=0;(function(){g=document.createElement("div");
var a=document.createElement("div"),b=document.createElement("h1"),c=document.createElement("h2"),e=document.createElement("div");a.className="capture_header";b.className="capture_dialog_title";c.className="capture_dialog_message";e.className="capture_footer";eb(b,h);eb(c,j);a.appendChild(b);g.appendChild(a);g.appendChild(c);g.appendChild(e);k=b;E=c;t=e;return this})();b("OK");a(e);return{open:function(){janrain.capture.ui.renderScreen("janrainDialog");var a=document.getElementById("captureDialogBuiltIn");
a.innerHTML="";a.appendChild(g);return this},close:e,setTitle:function(a){h=a;eb(k,h);return this},setMessage:function(a){j=a;eb(E,j);return this},setPrimaryIndex:c,setButtons:b,setCallback:a}}function Yd(){function a(){D=(new Date).getTime()-h;if(D<e){var a=Math.round(b()*q+g);j.style[E]=a+"px"}else clearInterval(t),j.style[E]=k+"px",N()}function b(){if("flat"==A)return D*(1/e);if("sinusoidal"==A)return Math.abs(Math.sin(D*(Math.PI/(2*e))))}function c(a){return{x:function(){var b=a.event.clientX-
He(a.boundary).x,b=b<this.boundary_x()?b:this.boundary_x();return 0<b?b:0},boundary_x:function(){var b=a.boundary.getBoundingClientRect();return b.width||b.right-b.left}}}var e="1000",h,j,f=document,g,k,E="left",q,t,D,A="flat",N,I;return{setAcceleration:function(a){A=a;return this},setCallback:function(a){N=a;return this},setDuration:function(a){e=a;return this},setDirection:function(a){"horizontal"===a&&(E="left");"vertical"===a&&(E="top");return this},setElement:function(a){j=a;return this},setElementBoundary:function(a){f=
a;return this},startPosition:function(a){g=a;return this},endPosition:function(a){k=a;return this},animate:function(){q=k-g;h=(new Date).getTime();t=setInterval(a,10);return this},drag:function(a){var b=this;this.moveHandler=function(a){var b=c({event:a.targetTouches&&a.targetTouches.length?a.targetTouches[0]:a,boundary:f}).x();j.style.left=b+"px";Lc(a);S(a);I&&clearTimeout(I);I=setTimeout(function(){N({pos_x:b})},500)};this.upHandler=function(a){b.unbindDragHandlers();Lc(a);S(a)};y(document,Ac,this.moveHandler);
y(document,hd,this.upHandler);Lc(a);S(a)},unbindDragHandlers:function(){xb(document,hd,this.upHandler);xb(document,Ac,this.moveHandler);return this}}}function He(a){var b=curtop=0;if(a.offsetParent){do b+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent);return{x:b,y:curtop}}}function W(){return new Ab}function Ab(){this.eventHandlers=[];this.firedEvents=[];this.fireCount=0}function jf(a,b){a.addHandler(b,!0);if(a.permaArgs)for(var c=0,e=a.permaArgs.length;c<e;++c)b(a.permaArgs[c])}function Mc(){F(janrain.events,
function(a,b){b.eventName=a})}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var e=0;0<arguments.length&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&Infinity!=e&&-Infinity!=e&&(e=(0<e||-1)*Math.floor(Math.abs(e))));if(e>=c)return-1;for(e=0<=e?e:Math.max(c-Math.abs(e),0);e<c;e++)if(e in b&&b[e]===a)return e;return-1});Array.prototype.map||(Array.prototype.map=function(a,b){if(null===this)throw new TypeError;
var c=Object(this),e=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var h=Array(e),j=0;j<e;j++)j in c&&(h[j]=a.call(b,c[j],j,c));return h});Array.prototype.filter||(Array.prototype.filter=function(a,b){if(null==this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!=typeof a)throw new TypeError;for(var h=[],j=0;j<e;j++)if(j in c){var f=c[j];a.call(b,f,j,c)&&h.push(f)}return h});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,
"")});var M;M||(M={});(function(){function a(a){return 10>a?"0"+a:a}function b(a){h.lastIndex=0;return h.test(a)?'"'+a.replace(h,function(a){var b=g[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,e){var h,g,q,t,y=j,L,H=e[a];H&&"object"===typeof H&&"function"===typeof H.toJSON&&(H=H.toJSON(a));"function"===typeof k&&(H=k.call(e,a,H));switch(typeof H){case "string":return b(H);case "number":return isFinite(H)?""+H:"null";case "boolean":case "null":return""+
H;case "object":if(!H)return"null";j+=f;L=[];if("[object Array]"===Object.prototype.toString.apply(H)){t=H.length;for(h=0;h<t;h+=1)L[h]=c(h,H)||"null";q=0===L.length?"[]":j?"[\n"+j+L.join(",\n"+j)+"\n"+y+"]":"["+L.join(",")+"]";j=y;return q}if(k&&"object"===typeof k){t=k.length;for(h=0;h<t;h+=1)"string"===typeof k[h]&&(g=k[h],(q=c(g,H))&&L.push(b(g)+(j?": ":":")+q))}else for(g in H)Object.prototype.hasOwnProperty.call(H,g)&&(q=c(g,H))&&L.push(b(g)+(j?": ":":")+q);q=0===L.length?"{}":j?"{\n"+j+L.join(",\n"+
j)+"\n"+y+"}":"{"+L.join(",")+"}";j=y;return q}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,f,g={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;"function"!==typeof M.stringify&&(M.stringify=function(a,b,e){var h;f=j="";if("number"===typeof e)for(h=0;h<e;h+=1)f+=" ";else"string"===typeof e&&(f=e);if((k=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return c("",{"":a})});
"function"!==typeof M.parse&&(M.parse=function(a,b){function c(a,e){var h,j,f=a[e];if(f&&"object"===typeof f)for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&(j=c(f,h),void 0!==j?f[h]=j:delete f[h]);return b.call(a,e,f)}var h,a=""+a;e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return h=eval("("+a+")"),"function"===typeof b?c({"":h},""):h;throw new SyntaxError("JSON.parse");})})();var k;(function(){function a(a){return function(b){if("boolean"!==typeof b)throw Error("argument must be true or false");janrain.settings.debug.tagFilter[a]=b;window.localStorage&&(localStorage.janrainDebugTagFilter=M.stringify(janrain.settings.debug.tagFilter))}}janrain.settings.debug=janrain.settings.debug||{};var b={enabled:!1,logLevel:"log",logEvents:!1,
tagFilter:{untagged:!0}};if(window.localStorage&&("true"===localStorage.janrainDebugEnabled&&(janrain.settings.debug.enabled=!0),localStorage.janrainDebugLogLevel&&(janrain.settings.debug.logLevel=localStorage.janrainDebugLogLevel),localStorage.janrainDebugTagFilter))try{janrain.settings.debug.tagFilter=M.parse(localStorage.janrainDebugTagFilter)}catch(c){}ya(b,janrain.settings.debug);janrain.settings.debug=b;var e=function(){return function(a){if(!a||1>a.length)a="";var b=Error(a),a="Error: "+a+
" at:\n";return"string"===typeof b.stack?0===b.stack.indexOf("Error:")?b.stack:a+b.stack:"[stack trace unavailable]"}}();k=function(){function a(b){var c=b.level>=g[janrain.settings.debug.logLevel]&&janrain.settings.debug.tagFilter[b.tag];if(window.console&&c){c="#"+b.id+" "+b.message;"untagged"!==b.tag&&(c="["+b.tag+"] "+c);try{console[b.type](c)}catch(e){console[b.type](c)}}}function b(j,q){return function(){var b,t;1===arguments.length?(b="untagged",t=arguments[0]):2===arguments.length?(b=arguments[0],
t=arguments[1]):k.forceError("debug logging functions must be called with exactly 1 or 2 arguments");if(janrain.settings.debug.enabled||q)f++,t={stack:e(t),level:g[j],tag:b,id:f,type:j,date:new Date,message:t},c.push(t),a(t)}}var c=[],f=0,g={};ha(["log","info","warn","error"],function(a,b){g[a]=b});return{log:b("log"),info:b("info"),warn:b("warn"),error:b("error"),forceWarn:b("warn",!0),forceError:b("error",!0),logEvents:function(){for(var a in janrain.events)"function"===typeof janrain.events[a].addHandler&&
janrain.events[a].addHandler(function(a){return function(b){k.log(a+": "+b)}}(a))},trace:function(a){var b=c[a-1];b?console.log(b.stack):console.error("No such log entry #"+a)},dump:function(){ha(c,a)}}}();janrain.debug={dump:k.dump,trace:k.trace,enable:function(){window.localStorage&&(localStorage.janrainDebugEnabled="true")},disable:function(){window.localStorage&&(localStorage.janrainDebugEnabled="false")},$__UNSUPPORTED_MODULE__$:"This module is not provided for customer use, but is intended only for debugging purposes."};
ha(["jtl","event","untagged"],function(b){janrain.debug["show"+(b.charAt(0).toUpperCase()+b.substring(1))]=a(b)})})();var kf=window.innerWidth?window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:0;ib=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?
document.documentElement.clientHeight:0;jb=kf;var Dc=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&window.localStorage.setItem,nd=[],jd=!1,fa="CSS1Compat"!==document.compatMode,Mb=!1,ta=!1,f=[],Nb="da5f573";document.createElement("input");var Nc=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
td=null!==Nc?Nc[0]:!1,hb="number"===typeof window.orientation||null!==Nc,Wd="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),Ce="January,February,March,April,May,June,July,August,September,October,November,December".split(","),lf=[16,20,30,32,48,50,64],Ie=[{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},
{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},
{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"}],mf=[{text:"AB",value:"AB"},{text:"BC",value:"BC"},
{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}];Fa=13;ue=38;we=40;te=37;ve=39;se=9;Nd=27;var Oc="ontouchstart"in window;re=Oc?"touchstart":"mousedown";hd=Oc?"touchend":"mouseup";Ac=Oc?"touchmove":"mousemove";janrain.settings&&janrain.settings.storageServer&&Bc("xDomainLocalStorageJanrain",janrain.settings.storageServer,
function(){y(document.getElementById("xDomainLocalStorageJanrain"),"load",function(){jd=!0})});ua.possible="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,0,1,2,3,4,5,6,7,8,9".split(",");var la=navigator.userAgent,g=Yb(),Pc=document.documentMode,Hc=/Gecko\//.test(la),Ic=/AppleWebKit\//.test(la);/Chrome\//.test(la);var gf=/CriOS\//.test(la),ud=Ec(),nf=Fc(),of=function(a){var a=a||la,b=a.indexOf("OS "),c=0;Fc(a)&&-1<b&&(c=Number(a.substr(b+3).split(" ")[0].split("_")[0]));return c}(),ff=nf&&6===
of&&ud,df=function(a){a=a||la;return/android/i.test(a)&&/linux/i.test(a)&&!/chrome/i.test(a)&&!/opera/i.test(a)&&!/firefox/i.test(a)}(),R=function(){var a=function(a){for(var b=[],f=0;f<a.length;f++)b.push(a[f]);return b},b={};janrain.settings&&janrain.settings.permissions&&(b.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(b.share=a(janrain.settings.share.permissions));return function(a,e){e=e||"login";return!b[e]?!1:0<=b[e].indexOf(a)}}();
zb.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
X.isCloneable=function(a){return a&&(fb(a)||t(a))};var Je=function(){var a=document.createElement("div");return function(b){b&&"string"===typeof b&&(b=b.replace(/<script[^>]*>([\S\s]*?)<\/script>/gmi,""),b=b.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gmi,""),a.innerHTML=b,b=a.textContent||a.innerText,a.innerHTML="");return b}}(),$=function(a,b,c){$=document.getElementsByClassName?function(a,b,c){for(var a=(b||document).getElementsByClassName(a),c=c?RegExp("\\b"+c+"\\b","i"):null,b=[],f,g=0,k=a.length;g<
k;g+=1)f=a[g],(!c||c.test(f.nodeName))&&b.push(f);return b}:function(a,b,c){var c=c||"*",b=b||document,f=a.split(" "),a=[],b="*"===c&&b.all?b.all:b.getElementsByTagName(c),c=[],g;g=0;for(var k=f.length;g<k;g+=1)a.push(RegExp("(^|\\s)"+f[g]+"(\\s|$)"));for(var k=0,q=b.length;k<q;k+=1){f=b[k];g=!1;for(var t=0,y=a.length;t<y&&!(g=a[t].test(f.className),!g);t+=1);g&&c.push(f)}return c};return $(a,b,c)},Ke=function(){return!1};k.info("Debugging mode is on. Run: \nlocalStorage.janrainDebugEnabled = false; \nin the console to turn it off.");
window.localStorage&&"true"===localStorage.janrainLocalWidgetCodeEnabled&&k.forceWarn("Local code mode is on. Run: \nlocalStorage.janrainLocalWidgetCodeEnabled = false; \nin the console to turn it off.");g&&(k.info("[ Internet Explorer ]\nVersion       : "+g+"\nDocument Mode : "+Pc),g!==Pc&&k.warn("IE version and document mode do not match! This could cause issues."));30<function(){var a=document.getElementsByTagName("style"),b=document.getElementsByTagName("link"),c=a.length;ha(b,function(a){"stylesheet"===
a.rel&&c++});return c}()&&k.warn("The page has more than 30 stylsheets. IE 8 and 9 cannot load more than 32 stylesheets.");window.top!==window.self&&k.warn("The widget might be running inside a frame. Watch out for cross origin issues.");janrain.settings.custom&&k.warn("janrain.settings.custom is true. Customer must provide their own UI.");setTimeout(function(){janrain.ready||k.warn("janrain.ready is still not true after waiting for 10 seconds. The widget will not load until this is true. Check your widget loading code block.")},
1E4);for(var va=function(){function a(){if("undefined"===typeof window.orientation)return!1;var a;e(document.body,D);y=n().content;k();q();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(a="resize");"object"===typeof window.onorientationchange&&(a="orientationchange");a&&(window.addEventListener(a,function(){H(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:0},{height:window.innerHeight,width:window.innerWidth});g()},
!1),setTimeout(g,30),window.addEventListener("beforeunload",function(){window.removeEventListener(a,g,!1)},!1));I.addHandler(function(){b({height:window.innerHeight,width:window.innerWidth},0)},!0);M.addHandler(function(a){ib=a.height;jb=a.width},!0);window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,g,!1)},!1)}function b(a,c){var e=window.innerHeight,f=window.innerWidth,g=!0,h=!0;e!=a.height&&(g=!1);f!=a.width&&(h=!1);g&&h?20>c?setTimeout(function(){b({height:e,
width:f},++c)},100):M.fire({height:e,width:f}):setTimeout(function(){b({height:e,width:f},0)},100)}function c(){setTimeout(function(){t(y)},20);e(D,document.body)}function e(a,b){for(var c=0;c<a.style.length;c++){var e=a.style[c];b.style.setProperty(e,a.style.getPropertyValue(e),a.style.getPropertyPriority(e))}}function f(){var a;a=(0===window.orientation||180===window.orientation)&&jb>ib||(90===window.orientation||-90===window.orientation)&&ib>jb?!1:!0;var b="landscape";if(a&&(0===window.orientation||
180===window.orientation))b="portrait";if(!a&&(90===window.orientation||-90===window.orientation))b="portrait";return b}function g(){var a=f();S||t("width=device-width, initial-scale=1, maximum-scale=1");I.fire({orientation:a})}function n(){var a=document.getElementsByTagName("meta"),b;for(b in a)if("viewport"===a[b].name)return a[b];return!1}function k(){if("undefined"===typeof document.getElementsByTagName||n())return!1;var a=document.getElementsByTagName("head")[0],b=document.createElement("meta");
b.setAttribute("name","viewport");a.appendChild(b);return!0}function q(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name","HandheldFriendly");a.content="true"}function t(a){var b=n();if(!b||b.content==a)return!1;if("undefined"===typeof a){var c=n();document.getElementsByTagName("head")[0].removeChild(c)}b.content=a;return!0}var y,D=document.createElement("div"),A=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
N=null!==A?A[0]:!1,I=W(),M=W(),S=N?N.match(/android|\Wsilk\W/):!1,H=function(){var a=window.orientation,b={height:screen?screen.height:0,width:screen?screen.width:0},c={height:window.innerHeight,width:window.innerWidth},e=!1;return function(f,g,h){var j=!1,k=function(a,b){return a.height>=a.width&&b.height>=b.width||a.width>a.height&&b.width>b.height?!0:!1},n=a===f,q=k(g,b),t=k(h,c);if(!n&&(!q||!t))j=!0;!n&&!q&&(e=!0);j&&(e&&!k(g,h)&&(j=h.height,h.height=h.width,h.width=j),ib=h.height,jb=h.width);
a=f;b={height:g.height,width:g.width};c={height:h.height,width:h.width}}}();return{setElement:function(){return this},onOrientationChange:I,onViewportChange:M,getMobileDevice:function(){return N},getOrientation:function(){return f()},activate:function(){a()},deactivate:function(){c()},isAndroid:function(){return S}}}(),nc=function(a){var b;b="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";b=b.replace(/\/$/,"");return b+"/"+a},Qc={openId:{blogger:{identifier:"blogger",
flow:"openid1",width:800,height:600,color:"#FF6600",friendlyName:"Blogger"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,color:"##213368",friendlyName:"LiveJournal"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000",friendlyName:"Netlog"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b",friendlyName:"WordPress"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311",friendlyName:"OpenID"}},
openId2:{aol:{flow:"aol",width:514,height:550,color:"#0FD6FF",friendlyName:"AOL"},flickr:{flow:"flickr",width:500,height:500,color:"#FF0084",friendlyName:"Flickr"},google:{flow:"google",width:500,height:450,color:"#1C69F5",friendlyName:"Google"},hyves:{flow:"hyves",width:800,height:600,color:"#659BC8",friendlyName:"Hyves"},myopenid:{flow:"myopenid",width:800,height:600,color:"#8cc63f",friendlyName:"MyOpenID"},paypal:{flow:"paypal",width:800,height:600,color:"#1A3665",friendlyName:"PayPal"},verisign:{flow:"verisign",
width:945,height:600,color:"#B8004D",friendlyName:"VeriSign"},yahoo:{flow:"yahoo",width:500,height:500,color:"#650065",friendlyName:"Yahoo!",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",width:640,height:480,color:"#3B5998",friendlyName:"Facebook",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,
media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",friendlyName:"Myspace",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",friendlyName:"Twitter",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,
urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#006699",friendlyName:"LinkedIn",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"microsoftaccount",
width:950,height:550,color:"#3E73B4",friendlyName:"Microsoft Account"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333",friendlyName:"Salesforce"},orkut:{flow:"orkut",width:800,height:600,color:"#333",friendlyName:"Orkut"},vzn:{flow:"vzn",width:600,height:450,color:"#333",friendlyName:"VZnet"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333",friendlyName:"Foursquare"},sinaweibo:{flow:"sinaweibo",width:950,height:550,color:"#333",friendlyName:"Sina Weibo"},tencentweibo:{flow:"tencentweibo",
width:800,height:650,color:"#93C5EA",friendlyName:"Tencent Weibo",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,url:!0,image:!0,media:!0}}}},qq:{flow:"qq",width:800,height:650,color:"#4BB6EE",friendlyName:"QQ",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,url:!0}}}},tumblr:{flow:"tumblr",width:950,height:550,color:"#333",friendlyName:"Tumblr"},microsoft_live_connect:{flow:"microsoft_live_connect",width:950,
height:550,color:"#333",friendlyName:"Microsoft Live Connect"},renren:{flow:"renren",width:950,height:550,color:"#333",friendlyName:"Renren"},disqus:{flow:"disqus",width:950,height:550,color:"#333",friendlyName:"Disqus"},soundcloud:{flow:"soundcloud",width:950,height:550,color:"#333",friendlyName:"SoundCloud"},vk:{flow:"vk",width:950,height:550,color:"#333",friendlyName:"VK"},amazon:{flow:"amazon",width:950,height:550,color:"#FF9900",friendlyName:"Amazon"},microsoftaccount:{flow:"microsoftaccount",
width:950,height:550,color:"#3E73B4",friendlyName:"Microsoft Account"},instagram:{flow:"instagram",width:950,height:550,color:"#FFFFFF",friendlyName:"Instagram"},googleplus:{flow:"googleplus",width:445,height:665,color:"#D34836",friendlyName:"Google"},mydigipass:{flow:"mydigipass",width:900,height:650,color:"#D34836",friendlyName:"MYDIGIPASS.COM"},odnoklassniki:{flow:"odnoklassniki",width:600,height:500,color:"#000000",friendlyName:"Odnoklassniki"},doccheck:{flow:"doccheck",width:850,height:600,color:"#D34836",
friendlyName:"DocCheck"},medikey:{flow:"medikey",width:850,height:650,color:"#D34836",friendlyName:"Medikey"},paypal_openidconnect:{flow:"paypal_openidconnect",width:600,height:600,color:"#1A3665",friendlyName:"PayPal"},xing:{flow:"xing",width:950,height:550,color:"#006567",friendlyName:"XING",shareSettings:{broadcast:{counter:{max:420,urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},
features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},mixi:{flow:"mixi",width:950,height:550,color:"#333",friendlyName:"Mixi",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,
googleplus:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},fimnet:{fimnet:{flow:"fimnet",width:514,height:550,color:"#336699",friendlyName:"FiMnet"}},saml2:{samltest:{flow:"saml2",width:514,height:550,color:"#336699",friendlyName:"SAML Test"},lilly:{flow:"saml2",width:910,height:565,color:"#ED1D23",friendlyName:"Lilly"},jnj:{flow:"saml2",width:514,height:550,color:"#336699",friendlyName:"J&J"},media_id:{flow:"saml2",
width:675,height:600,color:"#3D4D8F",friendlyName:"Media ID"}}},Ha={},Rc=["openId","openId2","oauth","fimnet","saml2"];0<Rc.length;){var Sc=Rc.pop(),Tc;for(Tc in Qc[Sc])Ha[Tc]=Qc[Sc][Tc]}var Zd=[],I=function(){var a=[];return{log:function(b){var c={};c.id=a.length+1;c.message=b;a.push(c);return this},show:function(){if(0!=a.length){for(var b in a)if("undefined"!==typeof a[b].id){var c=a[b];"object"===typeof console&&("function"===typeof console.error?console.error("WARNING ID:"+c.id+" MESSAGE: "+
c.message):"function"===typeof console.log&&console.log("WARNING ID:"+c.id+" MESSAGE: "+c.message))}a=[]}}}}();Ab.prototype.addHandler=function(a,b){var b=b||!1,c=this.eventName?this.eventName:"???";0<this.fireCount&&k.warn("Adding handler for event "+c+" but it has already been fired "+this.fireCount+" time(s).");"???"!==c&&0<Fb.fireCount&&!1===b&&k.warn("Adding handler for event "+c+" but janrain.capture.ui.start() has already been called.");this.eventHandlers.push(a);return this.eventHandlers.length-
1};Ab.prototype.removeHandler=function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};Ab.prototype.fire=function(a){var b=this;this.fireCount++;this.eventName&&k.log("event",this.eventName);ha(this.eventHandlers,function(c){try{"function"===typeof c&&c(a)}catch(e){setTimeout(function(){k.forceError("Error in event handler for '"+b.eventName+"'");throw e;},0)}});a&&!0===a.save&&(delete a.save,this.firedEvents.push({event:this,args:a}))};"undefined"===typeof janrain.events&&(janrain.events=
{});Vb=void 0;Eb=void 0;Fb=void 0;Eb||(Eb=W());Vb||(Vb=W());Fb||(Fb=W());janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=W());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=W());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=W());janrain.events.onProviderLoginError||(janrain.events.onProviderLoginError=W());janrain.events.onProviderLoginSuccess||(janrain.events.onProviderLoginSuccess=W());janrain.events.onProviderLoginToken||
(janrain.events.onProviderLoginToken=W());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=W());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=W());(function(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var a="onAuthWidgetLoad,onAuthWidgetContentPlaced,onCustomizationChange,onProviderLoginComplete,onProviderLoginCancel,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),
c=0;c<a.length;c++)if("object"!==typeof janrain.events[a[c]])return!1;return!0}qa(function(){return a()?(janrain.events.onAuthWidgetLoad.fire(),!0):!1}).setDelay(5).setMaxAttempts(Infinity).errorEvery(2E3,"Auth widget loaded poll failing. Is the auth widget loading?").start()})();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureRegistrationStart,onCaptureLoginStart,onCaptureLoginSuccess,onCaptureProfileSaveSuccess,onCaptureProfileSaveFailed,onCaptureFieldsChanged,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFederateRefreshedToken,onCaptureLoginFailed,onCaptureRegistrationSuccess,onCaptureRegistrationFailed,onCaptureEmailVerificationSuccess,onCaptureEmailVerificationFailed,onCaptureForgotPasswordCodeSuccess,onCaptureForgotPasswordCodeFailed,onCaptureSaveSuccess,onCaptureSaveFailed,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureServerValidationFailed,onCaptureFormError,onCaptureProfileCookieSet,onCaptureExpiredToken,onCaptureInvalidToken,onCaptureTransactionTimeout,onCaptureCustomEvent,onCaptureProfileLink,onCaptureEmailSent,onCaptureProfileUnlink,onCapturePhotoUploadSuccess,onCaptureBackplaneReady,onCaptureBackplaneInitFailed,onCaptureAutoSaveUpdate,onCaptureControlSuccess,onCaptureControlFailed,onModalClose,onModalOpen,onCaptureAccountReactivateSuccess,onCaptureAccountReactivateFailed,onCaptureAccountDeactivateSuccess,onCaptureAccountDeactivateFailed,onCaptureLinkAccountError,onCaptureError,onCaptureSubscriptionUpdate,onCaptureRegistrationSuccessNoLogin,onCapturePostLoginScreen,onCapturePluralItemEdit,onCapturePluralItemCreate,onCapturePluralItemDelete,onCapturePluralItemSave".split(",");
for(var cc=0,pf=janrain.events.captureEvents.length;cc<pf;cc++)"undefined"===typeof janrain.events[janrain.events.captureEvents[cc]]&&(janrain.events[janrain.events.captureEvents[cc]]=new Ab);janrain.events.onCaptureEmailVerficationSuccess=janrain.events.onCaptureEmailVerificationSuccess;janrain.events.onCaptureControlSuccesss=janrain.events.onCaptureControlSuccess;janrain.settings.capture.oldEvents&&(janrain.events.onCaptureStartRegistration=janrain.events.onCaptureRegistrationStart,janrain.events.onCaptureStartLogin=
janrain.events.onCaptureLoginStart,janrain.events.onCaptureSuccessfulLogin=janrain.events.onCaptureLoginSuccess,janrain.events.onCaptureSuccessfulProfileSave=janrain.events.onCaptureProfileSaveSuccess,janrain.events.onCaptureFailedProfileSave=janrain.events.onCaptureProfileSaveFailed,janrain.events.onCaptureFailedLogin=janrain.events.onCaptureLoginFailed,janrain.events.onCaptureSuccessfulRegistration=janrain.events.onCaptureRegistrationSuccess,janrain.events.onCaptureFailedRegistration=janrain.events.onCaptureRegistrationFailed,
janrain.events.onCaptureSuccessfulEmailVerification=janrain.events.onCaptureEmailVerificationSuccess,janrain.events.onCaptureFailedEmailVerification=janrain.events.onCaptureEmailVerificationFailed,janrain.events.onCaptureSuccessfulSave=janrain.events.onCaptureSaveSuccess,janrain.events.onCaptureFailedSave=janrain.events.onCaptureSaveFailed,janrain.events.onCaptureFailedServerValidation=janrain.events.onCaptureServerValidationFailed);janrain.federateJSLoaded=!1;janrain.settings.capture.federate&&md(janrain.settings.capture.ssoFileUrl||
(janrain.settings.enforceSecureCloudfront?"https://ssl-cdn.janrainsso.com":"https://d1v9u0bgi1uimx.cloudfront.net")+"/sso.js",function(){janrain.federateJSLoaded=!0}).setTimeoutLimit(1E4).setTimeoutCallback(function(){janrain.settings.capture.federate=!1}).load();(function(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var a=0,c=janrain.events.captureEvents.length;a<c;a++)if("object"!==typeof janrain.events[janrain.events.captureEvents[a]])return!1;
return janrain.settings.capture.federate&&!janrain.federateJSLoaded||!janrain.ready?!1:!0}qa(function(){return a()?(ha(janrain.settings.capture.beforeJanrainCaptureWidgetOnLoad||[],Jc),"function"===typeof janrainCaptureWidgetOnLoad&&janrainCaptureWidgetOnLoad(),!0):!1}).setDelay(5).setMaxAttempts(Infinity).errorEvery(2E3,"Capture widget loaded poll failing. Is the capture widget loading?").start()})();Mc();var rf=new function(){function a(){function a(){return{twoColumn:{actionText:"Sign in using your account with",
providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function b(){var a;Qa&&(fb=p());o=h();nb=z();J=document.createElement("div");J.className="janrainContent";J.style.width=Q+"px";J.style.height=j()+"px";J.style.paddingLeft=v+"px";J.style.paddingRight=v+"px";J.style.boxSizing="content-box";40===$a&&(J.style.paddingTop=v-1+"px");ta||(J.style.backgroundColor=ma);ta||(J.style.border=Ia?"1px solid "+ia:"1px solid "+ma);
J=ra(J,K);ta||(J.style.overflow="hidden");J.style.position=Ia?"relative":"absolute";Ga=D();2==o||0==o?(Ta=(new q).setSide("right").create(),Ua=(new q).setSide("left").create()):(Ta=(new q).setSide("top").create(),Ua=(new q).setSide("bottom").create());a=A();" "!==e()&&a.appendChild(nb);if(ta){var i=L("blank");i.style.display="none";a.appendChild(i)}a.appendChild(Ga);!ta&&Ta&&Ua&&(a.appendChild(Ta),a.appendChild(Ua));0<o&&Qa&&a.appendChild(fb);J.appendChild(a);R("customizable_auth_widget_styling")||
c(J);Mb||I.show();setTimeout(function(){Eb.fire()},0)}function c(a){function b(a){var c="string"===typeof a.getAttribute("style")?a.getAttribute("style"):null;c&&(c.cssText&&(c=c.cssText),a.style.setAttribute?a.style.setAttribute("cssText",c.replace(/(((?!!important).)+?);/g,"$1 !important;")):a.setAttribute("style",c.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var e=a.getElementsByTagName("*"),i=0,f=e.length;i<f;i++)"janrainProviderPages"===e[i].id||"janrainSlideControl"===e[i].className||
"janrainSlideControl"===e[i].parentNode.className||b(e[i]);b(a)}function e(){if(ca&&(ca==a().twoColumn.actionText||ca==a().oneColumn.actionText||ca==a().oneRow.actionText))Va=!1;return Va&&ca?ca:f.translate.HEADER?f.translate.HEADER:"two column"===u?a().twoColumn.actionText:"one column"===u?a().oneColumn.actionText:"one row"===u?a().oneRow.actionText:ca}function h(){var a=u;if("default"==a||"two column"==a)return 2;if("one column"==a)return 1;if("one row"==a)return 0}function j(){var a=" "===ca?0:
ab+v,b=Qa&&"one row"!==u?Na+v:0;return n()+a+b}function k(){var a=parseInt(Ga.style.left),b=parseInt(Ga.style.top),c;1==o?parseInt(Ga.style.height):parseInt(Ga.style.width);2==o&&(c=(Q-3*v-(2==o?10:0))/o);if("one column"===u){if(" "===ca&&(b+=11,0<b||-9<=b))return 0;if(9>b)return 1;if(0<b||b>=-(ab-(v+1)))return 0}0==o&&(c=Q-100);if(0>a&&a<-c)return 1;if(0<a||a>=-v)return 0}function n(){if("two column"===u)var a=ka/2;"one column"===u&&(a=ka);"one row"===u&&(a=1);var b="one row"===u?0:2*a,c="one column"===
u?3*v:0;if(7===g||6===g||g&&fa){if("two column"===u&&(c=v,7===g||6===g))c=2*v;if("one column"===u&&(c=3*v,(7===g||6===g)&&!fa))c+=v;if("one row"===u&&(7===g||6===g))c=v}"one column"===u&&ja<=ka&&(c=g&&fa?c+2*v:c-2*v);return U*a+v*(a+1)+b+c}function q(){function a(){var b;j="over";var mb=k();if(0==mb&&"left"===i||0==mb&&"top"===i||1==mb&&"right"===i||1==mb&&"bottom"===i)return this.style.cursor="default",p.onclick="",!1;var f=this;setTimeout(function(){if(1===o){if("over"!==j)return!1;g&&(e.style.display=
"block");h.style.display="block";p.onclick=c;f.style.cursor="pointer";var a=document.getElementById("janrainProviderPages");b="top"==i||"bottom"==i?parseInt(a.style.top):parseInt(a.style.left);var mb="right"===i||"bottom"===i?b-Xa:b+Xa;"top"===i||"bottom"===i?a.style.top=mb+"px":a.style.left=mb+"px";o=2}},g?50:100)}function b(){var a;j="out";var c=k();if(1==c&&"right"===i||0==c&&"left"===i||0==c&&"top"===i||1==c&&"bottom"===i)return!1;setTimeout(function(){if(2===o){if("out"!==j)return!1;g&&(e.style.display=
"none");h.style.display="none";var b=document.getElementById("janrainProviderPages");a="top"==i||"bottom"==i?parseInt(b.style.top):parseInt(b.style.left);var c="right"===i||"bottom"===i?a+Xa:a-Xa;"top"===i||"bottom"===i?b.style.top=c+"px":b.style.left=c+"px";o=1}},g?200:400)}function c(){h.style.display="none";p.style.cursor="default";t(i,function(a){w(a);o=1})}var e,i,f,h,C={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},j="",o=1,p;return{setSide:function(a){i=a;return this},
create:function(){var g;if(ja<=ka)g=!1;else{g=document.createElement("div");g.setAttribute("id","janrainShim_"+i);g.style.background="black";"top"===i||"bottom"===i?(g.style.height="19px",g.style.width="100%"):(g.style.height="100%",g.style.width="17px");sa?(g.style.filter="alpha(opacity=100)",g.style.opacity=100):(g.style.filter="alpha(opacity=0)",g.style.opacity=0);g.style.position="absolute";g.style.zindex="99";if("top"===i||"bottom"===i)g.style.left="0";g.style[i]=v+"px";g.style.top="one column"!==
u?v+1+"px":"top"===i?"10px":"0px";g.style.display="none";e=g;g=document.createElement("div");g.style.backgroundColor=sa?"green":ma;g.className="janrainSlideControllerMask";g.style.position="absolute";"one column"!==u&&(g.style.width=v+"px",g.style.height="100%",g.style.top="0px",g.style[i]="0px",g.style.borderWidth="1px","right"===i&&(!Qa||"one row"===u)&&ra(g,null,0,0,K,0),"left"===i&&(!Qa||"one row"===u)&&ra(g,null,0,0,0,K),"right"===i&&" "===ca&&ra(g,null,0,K,K,0),"left"===i&&" "===ca&&ra(g,null,
K,0,0,K));"one column"===u&&(g.style.height=v+"px",g.style.fontSize="0px",g.style.width="100%",g.style.padding="0px",g.style[i]="0px","top"===i&&" "===ca?ra(g,null,K,K,0,0):"bottom"===i&&!Qa&&ra(g,null,0,0,K,K));"one row"===u&&(g.style.height="105.5%");f=g;g=document.createElement("div");g.setAttribute("id","janrainArrow_"+i);g.style.background="url("+nc("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+") no-repeat scroll "+C[i]+" transparent";g.style.height="19px";g.style.width="17px";g.style.position=
"absolute";if("top"===i||"bottom"===i)g.style.left=Q/2+"px";g.style[i]=v+"px";g.style.top="one column"!==u?n()/2-2*v+1+"px":"top"===i?"10px":"0px";g.style.display="none";h=g;g=document.createElement("div");g.className="janrainSlideControl";g.style.backgroundColor=sa?"purple":"transparent";"one column"===u?(g.style.width=Q+4+"px",g.style.left="3px","top"==i?(g.style.height=v+"px",g.style.top=ab+v+"px"," "===ca&&(g.style.left="0px",g.style.top="0px",g.style.width=Q+10+"px")):(g.style.height="20px",
g.style.bottom=(Qa?Na+v:0)+"px",ra(g,null,0,0,K,K))):(g.style.width="right"===i?"20px":"0px",g.style[i]="0px",g.style.height=n()-(v*(" "===ca)?1:2)+"px",40===$a&&"one row"===u&&"left"===i&&(g.style.left=Ka+"px"),"right"===i&&!Qa&&ra(g,null,0,0,K,0),"left"===i&&!Qa&&ra(g,null,0,0,0,K));g.style.position="absolute";g.style.zIndex="100";g.style.cursor="pointer";g.onmouseover=a;g.onmouseout=b;g.onclick=c;p=g;p.appendChild(f);p.appendChild(e);p.appendChild(h);g=p}return g}}}function t(a,b){var c=document.getElementById("janrainProviderPages"),
e=new Yd;if("top"===a||"bottom"===a){if(" "===ca)var i=-(n()-U),f=0;else i=-(n()-U-ab-v),f=ab+v;50===U&&(i-=20);g&&fa&&(i+=v," "!==ca&&(f+=v));e.setElement(c).setAcceleration("sinusoidal").setDuration(100*ka).startPosition(parseInt(c.style.top)).endPosition("bottom"===a?i:f).setDirection("vertical").setCallback(function(){b(a)}).animate()}else g&&fa?(i=-(Q-2*v-39),"one row"===u&&(i=-(Ka-1*v))):(i=-(Q-32),"one row"===u&&(i=-(Q-24))),e.setElement(c).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(c.style.left)).endPosition("right"==
a?i:v).setDirection("horizontal").setCallback(function(){b(a)}).animate()}function p(){var a=document.createElement("div");a.style.backgroundColor=sa?"aqua":ma;a.style.width=Q+"px";a.style.height=Na+"px";a.style.position="absolute";a.style.left="0px";a.style.paddingLeft=v+"px";a.style.paddingRight=v+"px";a.style.paddingBottom=v+"px";a.style.bottom="0px";a.style.fontSize="10px";a.style.textAlign="left";a.style.color=ua;a.style.fontFamily=Ra;ra(a,null,0,0,K,K);var b=document.createElement("div"),c=
janrain.settings.translate.POWERED_BY_PREFIX&&"en"!==janrain.settings.language?janrain.settings.translate.POWERED_BY_PREFIX:"Social Login",e=janrain.settings.translate.POWERED_BY_SUFFIX&&"en"!==janrain.settings.language?janrain.settings.translate.POWERED_BY_SUFFIX:" by Janrain";b.style.paddingLeft="1px";var i=document.createElement("a");i.setAttribute("href","http://janrain.com/products/engage/social-login?utm_source="+zb(janrain.settings.appUrl).host+"&utm_medium=Partner&utm_campaign=attribution");
i.setAttribute("target","_blank");i.appendChild(document.createTextNode(c+e));b.appendChild(i);a.appendChild(b);return a}function z(){var a=document.createElement("div");a.style.backgroundColor=sa?"orange":ma;a.className="janrainHeader";a.style.fontSize=Ea+"px";a.style.color=ua;a.style.position="relative";a.style.height=ab+"px";40===$a&&(a.style.cssFloat="left");a.style.left=40===$a?"-6px":"-5px";a.style.paddingLeft=v+"px";a.style.paddingRight=v+"px";a.style.paddingTop=v+"px";a.style.paddingBottom=
"0px";a.style.whiteSpace="nowrap";a.style.width=40===$a?"81px":Q+"px";a.style.zIndex="100";40===$a?ra(a,null,K,0,0,K):ra(a,null,K,K,0,0);40===$a&&(a.style.marginTop="-3px");a.style.textAlign="one column"===u?"center":"left";var b=e();Aa=document.createElement("div");Aa.style.paddingLeft="1px";Aa.style.fontFamily=Ra;" "!==b&&Aa.appendChild(document.createTextNode(b));a.appendChild(Aa);return a}function A(){var a=document.createElement("div");a.id="janrainView";return a}function D(){var a,b;function c(e){e=
e.touches[0];"one column"===u?a=e.pageY:b=e.pageX}function e(c){c.preventDefault();c=c.touches[0];c="one column"===u?a-c.pageY:b-c.pageX;if(35<c||-35>c){var i;i="one column"===u?0<c?"bottom":"top":0<c?"right":"left";var g=k(),f=!0;"bottom"===i&&g+1==n&&(f=!1);"top"===i&&0==g&&(f=!1);"left"===i&&0==g&&(f=!1);"right"===i&&g+1==n&&(f=!1);f&&("one column"===u?h.style.top=parseInt(h.style.top)-c+"px":h.style.left=parseInt(h.style.left)-c+"px",t(i,function(){w()}),h.ontouchmove="")}}function i(){h.ontouchmove=
e}var f,h,C,j,n,q=o,p=[];j=H();n=ta?1:Math.ceil(ja/ka);2<n&&I.log("Either reduce the number of providers, or increase the setting for providersPerPage.");h=document.createElement("div");h.setAttribute("id","janrainProviderPages");ta&&(h.className="janrainConfigureMode");h.style.paddingTop=(6===g||7===g)&&g&&fa?2*v:v+"px";if((6===g||7===g)&&!fa)h.style.paddingTop=v+4+"px";1<n&&(h.ontouchstart=c,h.ontouchmove=e,h.ontouchend=i);40===$a&&"one row"===u?h.style.left=Ka+v+"px":g&&fa?"one column"!==u&&(h.style.left=
v+"px"):h.style.left=v+"px";40===$a&&"one row"===u&&(h.style.cssFloat="left");40===$a&&"one row"===u&&(h.style.marginTop="1px");"one column"===u&&(h.style.top=(g&&fa?1:0)+ab+v+"px");"one row"!==u&&" "===ca&&(h.style.top="0px");"one column"===u&&" "===ca&&(h.style.top="0px");f=Q*n;h.style.position=g&&fa&&"one column"===u?"relative":"absolute";"two column"===u&&!(ja<=ka)&&(h.style.width=f+"px");"one row"===u&&(h.style.width=(!0===ta?Q+v:2*Q)+"px");ta&&(q=0);b=0;a=0;for(var y=0;y<n;y++){for(C=0;C<=q;C++)p[C]=
document.createElement("ul"),p[C].className="providers",p[C].id="janrainProviders_"+C,1<q&&(p[C].style.cssFloat="left"),1<q&&(p[C].style.styleFloat="left"),p[C].style.listStyleType="none",p[C].style.marginTop="0px",p[C].style.marginLeft="0px",p[C].style.marginRight="0px",p[C].style.marginBottom="0px",p[C].style.padding="0px";f=document.createElement("div");f.className="janrainPage";f.setAttribute("pageIndex",y);g&&fa&&1===n&&(f.style.width="110%");for(C=0;C<q;C++)f.appendChild(p[C]);if(ta||1>o)for(C=
0;C<=q;C++)f.appendChild(p[C]);for(var qf=j.length%2,z=ta?ja:ka,A=0;A<z&&!(0==j.length);A++){if(2==q)var s=1==qf?p[j.length%2?0:1]:p[j.length%2];if(1==q||0==q)s=p[0];C=j.shift();s.appendChild(C)}h.appendChild(f)}return h}function w(a){0==k()?("left"===a&&(Ua.style.width=v+"px",Ta.style.display="block",Ta.style.width="20px"),"top"===a&&(Ta.style.height=v+"px",Ua.style.display="block",Ua.style.height="20px")):("right"===a&&(Ta.style.width=v+"px",Ua.style.display="block",Ua.style.width="20px"),"bottom"===
a&&(Ua.style.height=v+"px",Ta.style.display="block",Ta.style.height="20px"))}function H(){for(var a=[],b=0;b<ja;b++){var c=L(oa[b],b+1);a.push(c)}if("one column"==u){var e=a.slice(0),b=function(){var a=-Infinity,b,c,i=function(){b=e[c].children[0].children[1];return void 0!==b};for(c=0;c<e.length;c++)i()&&(a=Math.max(a,b.offsetWidth));for(c=0;c<e.length;c++)i()&&(b.style.width=a+"px")};janrain.events.onModalOpen?janrain.events.onModalOpen.addHandler(b,!0):janrain.events.onAuthWidgetContentPlaced.addHandler(b,
!0);janrain.events.onCustomizationChange.addHandler(b,!0)}return a}function N(a,b){b.style.cursor="pointer";b.style.whiteSpace="nowrap";b.style.overflow="hidden";b.setAttribute("id","janrain-"+a);b.setAttribute("role","button");"one row"===u?b.style.background="transparent":("gradient"===va&&ld(b,"bottom, #eeeeee, #ffffff"),"gray"===va&&(b.style.backgroundColor="#eeeeee"),"white"===va&&(b.style.backgroundColor="#ffffff"));y(b,"mouseover",function(){Yb();"one row"===u?b.style.background="transparent":
(b.style.backgroundColor="#E3E3E3",b.style.backgroundImage="")});y(b,"mouseout",function(){Yb();"one row"===u?b.style.background="transparent":("gradient"===va&&ld(b,"bottom, #eeeeee, #ffffff"),"gray"===va&&(b.style.backgroundColor="#eeeeee"),"white"===va&&(b.style.backgroundColor="#ffffff"))});Mb||M(b,a);return b}function L(a,b){function c(b){if(Ha&&Ha[a])return Ha[a][b]}var e=document.createElement("li");e.style.listStyle="none";0==o&&!1===ta&&(e.style.cssFloat="left");0==o&&!1===ta&&(e.style.styleFloat=
"left");e.style.height=g&&fa?U+2:U+"px";if("two column"==u){var i=ta?3*v:ja<=ka?0:3*v;e.style.width=6===g||Yb&&fa?(Q-i-4*v)/o+"px":(Q-i-(2==o?10:0))/o+"px"}e.style.marginTop="0px";if("one column"==u){if(7==g||6==g)e.style.marginTop="-1px";g&&fa?e.style.marginRight="0px":e.style.width=Q-v/2+"px";e.style.marginLeft="0px"}else e.style.marginRight=v+"px";0==o&&(e.style.width=U+"px");e.style.marginBottom=(7===g||6===g||g&&fa?3:v)+"px";e.style.position="relative";0!=o&&(e.style.border="1px solid "+bb);
0!=o&&ra(e,Fa);var i=document.createElement("a"),f=document.createElement("span"),h=document.createElement("span");"undefined"!==typeof b&&(i.tabIndex=b);i.style.fontFamily="Helvetica, lucida grande, Verdana, sans-serif";i.style.fontSize="12px";i.style.lineHeight="14px";i.style.marginLeft="auto";i.style.marginRight="auto";i.href="javascript:void(0);";i.style.textDecoration="none";i.style.display="block";i.style.paddingLeft="5px";i.style.paddingRight="5px";i.style.textAlign="left";h.className="janrain-provider-text-color-"+
a;h.style.fontFamily=Ra;h.style.cursor="pointer";h.style.marginLeft="7px";h.style.textAlign="left";30==U&&(f.className="janrain-provider-icon-24 janrain-provider-icon-"+a,f.style.marginTop="3px",h.style.marginTop="9px",h.style.verticalAlign="top",h.style.display="inline-block");50==U&&(f.className="janrain-provider-icon-32 janrain-provider-icon-"+a,f.style.marginTop="9px",f.style.backgroundColor="transparent",h.style.marginTop="16px",h.style.fontSize="16px",h.style.lineHeight="20px",h.style.verticalAlign=
"top",h.style.display="inline-block");"one column"==u&&(i.style.textAlign="center");"two column"==u&&275>Q&&(h.style.textIndent="-9999px",h.style.fontSize="0",h.style.marginLeft=0,i.style.textAlign="center");2==o&&(30==U&&(i.style.width="auto"),50==U&&(f.style.marginLeft="5px"));if(0==o&&(30==U||50==U)){var f=document.createElement("a"),C=document.createElement("span"),j=document.createTextNode(a);"undefined"!==typeof b&&(f.tabIndex=b);f.className="janrain-provider-icon-32 janrain-provider-icon-bg janrain-provider-icon-"+
a;f.style.marginTop="0px";f.href="javascript:void(0);";f.style.textDecoration="none";f.style.display="block";C.style.display="inline-block";C.style.textIndent="-9999px"}if(c("customSAML")||c("customOpenid")){var n=c("friendlyName")||"Sign In",k=document.createTextNode(n);if(1==o||2==o){if(30==U||50==U)f.style.backgroundImage="url("+c("largeIcon")+")",h.appendChild(k),h.style.color=c("color")||"#000000";if(15<=k.length){var q="undefined"!==typeof k.textContent?"textContent":"nodeValue";k[q]=k[q].substr(0,
15)}}if(0==o&&(30==U||50==U))j=document.createTextNode(n),f.style.backgroundImage="url("+c("largeIcon")+")";g&&10>g&&(f.style.backgroundImage="none",f.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+c("largeIcon")+"')")}else if("blank"!==a&&(1==o||2==o))30==U&&(f.style.backgroundColor="transparent",h.innerHTML=Ha[a].friendlyName),50==U&&(f.style.backgroundColor="transparent",h.innerHTML=Ha[a].friendlyName);6===g&&"one row"!==u&&(n=document.createElement("div"),
n.style.height=f.style.height,n.style.width="90px",n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+f.src+"')",f.style.filter="alpha(opacity=0)",n.appendChild(f),e.appendChild(n));0==o?(e.appendChild(f),f.appendChild(C),C.appendChild(j)):(e.appendChild(i),i.appendChild(f),i.appendChild(h));return N(a,e)}function E(a,b){var c=document.createElement("a"),e=f.translate.SIGN_IN_AS||"Sign in as {name}",e=e.replace("{name}",b),i=document.createElement("span"),
e=document.createTextNode(e),h=document.createElement("span");i.className="janrain-provider-text-color-"+a;c.href="javascript:void(0);";c.style.textDecoration="none";c.style.display="block";if("customopenid"===a){var C=document.createElement("span");document.createElement("span");C.className="janrain-provider-icon-32 janrain-provider-icon-"+a;C.style.backgroundImage="url("+Ya.largeIcon+")";i.style.color=Ya.customOpenIdProviderColor||"#000000";10>g&&(C.style.backgroundImage="none",C.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+
Ya.largeIcon+"')")}else"customsaml"===a?(C=document.createElement("span"),document.createElement("span"),C.className="janrain-provider-icon-32 janrain-provider-icon-"+a,C.style.backgroundImage="url("+lb.largeIcon+")",i.style.color=lb.customSAMLProviderColor||"#000000",10>g&&(C.style.backgroundImage="none",C.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+lb.largeIcon+"')")):(C=document.createElement("span"),C.className="janrain-provider-icon-24 janrain-provider-icon-"+
a);h.style.display="inline-block";h.style.verticalAlign="top";h.style.fontFamily=Ra;var n=document.createElement("div"),k=7.5*e.length+30,q=j();n.style.fontSize="16px";n.style.height="100%";n.style.position="relative";if(0==o||120>q)15<=e.length&&(n.style.fontSize="14px",k=7*e.length+30),20<=e.length&&(n.style.fontSize="12px",k=6*e.length+30),24<=e.length&&(n.style.fontSize="10px",k=5*e.length+50),30<=e.length&&(k="undefined"!==typeof e.textContent?"textContent":"nodeValue",e[k]=e[k].substr(0,26)+
"...",k=162);n.style.width=k+"px";if(0==o||116>q)"customopenid"===a?(C=document.createElement("span"),document.createElement("span"),C.className="janrain-provider-icon-24 janrain-provider-icon-"+a,C.style.backgroundImage="url("+Ya.largeIcon+")",i.style.color=Ya.customOpenIdProviderColor||"#000000",g&&10>g&&(C.style.backgroundImage="none",C.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+Ya.largeIcon+"')")):"SAML"===a?(C=document.createElement("span"),
document.createElement("span"),C.className="janrain-provider-icon-24 janrain-provider-icon-"+a,C.style.backgroundImage="url("+lb.largeIcon+")",i.style.color=lb.customSAMLProviderColor||"#000000",g&&10>g&&(C.style.backgroundImage="none",C.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+lb.largeIcon+"')")):(C=document.createElement("span"),C.className="janrain-provider-icon-24 janrain-provider-icon-"+a);30===U&&(h.style.marginTop="9px",h.style.fontSize=
"12px",C.style.marginTop="3px");50===U&&(h.style.marginTop="16px",C.className="janrain-provider-icon-32 janrain-provider-icon-"+a,C.style.marginTop="9px");"one row"===u&&30===U&&(C.style.marginTop="-1px");h.appendChild(i);i.appendChild(e);C.style.marginRight="10px";C.style.verticalAlign="top";c.style.overflow="hidden";c.style.position="relative";c.style.height=("one row"!==u?U:25)+"px";c.style.marginBottom="one row"===u?"-4px":"4px";"one row"===u&&(c.style.top="-4px");c.style.left="0px";g&&fa&&(c.style.marginRight=
"5px");g&&fa&&(c.style.marginLeft="3px");c.style.border="1px solid "+bb;ra(c,Fa);"customopenid"===a&&(c.style.color=Ha[a].color);6===g||7===g||g&&fa?n.style.left="10px":n.style.margin="0 auto";n.appendChild(C);n.appendChild(h);0==o&&(n.style.paddingTop="2px",h.style.marginTop="6px");0==o||116>q?(c.appendChild(n),n.style.width="auto"):(50===U&&parseInt(c.style.height),h.style.cssFloat="none",h.style.styleFloat="none",c.appendChild(C),c.appendChild(h));return N(a,c)}function M(a,b){y(a,"click",function(){S(b)})}
function S(a){var b=Ha[a],c={appUrl:f.appUrl,mobileDevice:td,language:f.language,popup:pb,tokenUrl:Ke(Sa.linkAccounts)||od(f.tokenUrl||location.href,Sa)||location.href,facebookPermissions:Oa,forceReauth:Za,widgetType:"auth",tokenAction:gb,bpChannel:Lb,customOpenid:kb,customOpenidOpxblob:f.customOpenidOpxblob,extParams:f.extParams,scopes:Jb};b.name=a;new rb(b,c,function(){xa||(Pb=setTimeout(function(){Ca(b)},300))})}function T(){var a=document.createElement("div");a.style.position="absolute";a.style.top=
"0px";a.style.left="0px";a.style.width=Q+"px";a.style.zIndex="102";a.style.textAlign="center";a.style.padding=v+"px";a.style.backgroundColor=ma;a.style.height=j()-(g&&fa?0:2*v)+"px";ra(a,K);return a}function O(a){var b=document.createElement("a"),c=document.createTextNode(f.translate.USE_ANOTHER_ACCOUNT||"switch accounts");b.setAttribute("class","janrainSwitchAccountLink");b.setAttribute("href","");b.style.fontSize="12px";b.style.fontFamily=Ra;b.style.color=ua;b.onclick=a;b.appendChild(c);return b}
function F(){return"modal"===P?document.getElementById("janrainModal"):"embed"===P?document.getElementById("janrainEngageEmbed"):!1}function G(){var a=parseInt(J.style.width);return a=a+2*v+2}function X(){var a=F();null!==a&&"object"===typeof J&&J.parentNode===a&&a.removeChild(J)}function $(){var a="";"object"===typeof s&&(a=s.getState());return{type:P,width:G(),fontFamily:Ra,fontSize:Ea,fontColor:ua,backgroundColor:ma,borderColor:ia,borderRadius:K,format:u,providersPerPage:ka,providers:oa,buttonBackgroundStyle:va,
buttonBorderColor:bb,buttonBorderRadius:Fa,actionText:e(),showAttribution:Qa,modalState:a}}function ba(a){u=V("string",["default","two column","one column","one row"],"two column",a);"default"===u&&(u="two column");"one row"==a&&(K=V("number",[0,10],5,K));la(Ea)}function aa(a){"two column"===u&&(Q=V("number",[225,600],380,a));"one column"===u&&(Q=V("number",[160,600],200,a));"one row"===u&&(U=30,a=ja<=ka?v*(parseInt(ka)-1):v*(parseInt(ka)+2),40===$a&&(a+=Ka-v),Q=U*ka+a);if(("two column"===u||"one column"===
u)&&!ta)Q=Q-2*v-2;g&&fa&&(Q=Q+2*v+2);"one row"!==u&&(U=380<Q?50:30)}function Z(b){"string"===typeof b&&(Va=!0,ca=V("text",null,ca,b)," "===ca?K=V("number",[0,5],5,K,!0):ab="two column"!==u?a().headerHeight-5:a().headerHeight)}function W(a){va=V("string",["gray","white","gradient"],"gradient",a)}function ga(a){bb=V("color",null,"#CCCCCC",a)}function ha(a){ma=V("color",null,"#ffffff",a)}function na(a){"undefined"===typeof a&&(a=5);K=" "===ca||!Qa||"one row"===u?V("number",[0,5],5,a,!0):V("number",[0,
10],10,a)}function qa(a){Qa=V("boolean",null,!0,a);j();K=a?V("number",[0,10],5,K,!0):V("number",[0,5],5,K,!0)}function wa(a){ia=V("color",null,"#C0C0C0",a)}function la(a){if("two column"===u)Ea=V("number",[8,30],Ib,a);else if("one column"===u||"one row"===u)Ea=V("number",[8,20],Nb,a)}function ya(a){ua=V("color",null,"#333333",a)}function za(a){if("object"==typeof a){o=h();for(var b=0,c=a.length;b<c;b++)Ha[a[b]]||(I.log(a[b]+" is not a valid provider: removing."),a.splice(b,1),--b,--c);oa=a;ja=a.length;
"object"===typeof s&&s.setHeight(j()-2*v).refresh()}}function Ba(a){"two column"===u&&(ka=V("number",[4,6,8],6,a));"one column"===u&&(ka=V("number",[1,6],6,a));"one row"===u&&(ka=ec?ja:V("number",[4,8],6,a),aa(Q))}function Ca(a){var b=document.createTextNode(f.translate&&f.translate.SIGNING_IN?f.translate.SIGNING_IN:"Signing in ..."),c=document.createElement("div");La=T(a.name);c.appendChild(b);c.style.position="absolute";c.style.marginTop="-8px";c.style.top="50%";c.style.textAlign="center";c.style.width=
"100%";La.appendChild(c);J&&J.appendChild(La)}function Da(a){return!(Mb||cb||-1===oa.indexOf(a))}var sa=!1,Q=380,Va=!1,Ra="Helvetica, lucida grande, Verdana, sans-serif",Ea=0,ua="#666666",ma="#ffffff",ia="#C0C0C0",K=10,J,Aa,u="two column",o,Ia,ka=6,oa=["aol","yahoo","openid"],ja=oa.length,bb="#CCCCCC",Fa=5,va="gradient",U=30,ab=a().headerHeight,$a=60,Ka=89,Na=a().footerHeight,v=5,Xa=10,ca="Sign in using your account with",La,Ga,Ta,Ua,Qa=!0,cb=!1,db=!1,nb,fb;return{build:b,setFormat:function(b){b&&
ba(b);"two column"!==u&&(ab=a().headerHeight-5);"two column"===u&&(ka=a().twoColumn.providersPerPage,ab=a().headerHeight);return this},setActionText:function(a){"string"===typeof a&&Z(a);return this},setFontSize:function(a){a&&la(a);return this},setFontFamily:function(a){a&&a&&(Ra=a);return this},setFontColor:function(a){a&&ya(a);return this},setButtonBorderColor:function(a){a&&ga(a);return this},setButtonBorderRadius:function(a){if("string"==typeof a||"number"==typeof a)Fa=V("number",[0,20],5,a);
return this},setButtonBackgroundStyle:function(a){a&&W(a);return this},setWidth:function(a){("string"==typeof a||"number"==typeof a)&&aa(a);return this},refresh:function(){X();var a=F();b();var c=hb();c&&!eb?Pa("expected_tab",c):(null!==a&&"object"===typeof J&&a.appendChild(J),"object"===typeof s&&s.setHeight(parseInt(J.style.height)+2).refresh());Mb&&"object"===typeof s&&s.setHeight(parseInt(J.style.height)+2).refresh();janrain.events.onCustomizationChange.fire($());return this},remove:function(){X();
return this},setRowHeight:function(a){if(0!==h())return this;a||(a=60);oneRowHeaderHeight=V("number",[40,60,90],60,a);40===oneRowHeaderHeight&&(U=30,$a=40);60===oneRowHeaderHeight&&(U=30);90===oneRowHeaderHeight&&(U=50);return this},setHeight:function(a){"object"==typeof J&&(J.style.height=a+"px");return this},setBackgroundColor:function(a){a&&ha(a);return this},setBorderColor:function(a){a&&wa(a);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&na(a);return this},
setProviders:function(a){"object"==typeof a&&za(a);return this},setProvidersPerPage:function(a){if("string"==typeof a||"number"==typeof a)Ba(a),"object"===typeof s&&s.setHeight(j()).refresh("janrainModal");return this},setShowAttribution:function(a){"boolean"===typeof a&&qa(a);return this},setPreviewMode:function(a){"boolean"===typeof a&&(Mb=a);return this},setProviderFlow:function(a,b){return M(a,b)},triggerFlow:function(a){return S(a)},setNoReturnExperience:function(a){"boolean"===typeof a&&(cb=
a);return this},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&(db=a);return this},setConfigureMode:function(a){"boolean"===typeof a&&(ta=a,o=h());return this},embed:function(a){if((Ia=a)&&"object"==typeof J)J.style.position="relative";return this},getContentsDiv:function(){return J},getErrorPage:function(a,b){var c=document.createTextNode(b.msg),e=document.createElement("div");e.appendChild(c);e.style.color=ua;e.style.fontSize=Ea+"px";e.style.width="100%";var i=T(a);i.className=
"janrainAuthErrorPage";i.appendChild(e);i.appendChild(O(function(){J.removeChild(i);J.removeChild(La);Za=!0;return!1},a));J.appendChild(i);return J},showReturnExperience:Da,getReturnExperience:function(a,b){if(!Da(a))return J;var c=E(a,b),e=T(a),i=document.createElement("div"),g=function(){Za=eb=!0;J.removeChild(e);document.getElementById("janrainView").style.visibility="inherit";return!1};i.style.position="relative";i.style.top="50%";30===U&&(i.style.marginTop="-25px");50===U&&(i.style.marginTop=
"-35px");0==o&&(i.style.top="0",i.style.marginTop="0");e.id="janrainAuthReturnExperience";e.appendChild(i);i.appendChild(c);db||i.appendChild(O(g,a));J.appendChild(e);return J},getWidth:function(){return G()},getActualHeight:function(){return parseInt(J.style.height)+2},getHeight:function(){return j()-2*v},getState:function(){return $()},setState:function(b){if(R("customizable_auth_widget_styling")){var c=b.fontFamily;c&&(Ra=c);la(b.fontSize);ya(b.fontColor);ha(b.backgroundColor);wa(b.borderColor);
"embed"===P&&b.format&&(b.format&&ba(b.format),"two column"!==u&&(ab=a().headerHeight-5),"two column"===u&&(ka=a().twoColumn.providersPerPage,ab=a().headerHeight));if("string"==typeof b.providersPerPage||"number"==typeof b.providersPerPage)Ba(b.providersPerPage),"object"===typeof s&&s.setHeight(j()).refresh("janrainModal");W(b.buttonBackgroundStyle);ga(b.buttonBorderColor);Fa=V("number",[0,20],5,b.buttonBorderRadius);Z(b.actionText);qa(b.showAttribution);na(b.borderRadius);"embed"===P&&("string"==
typeof width||"number"==typeof width)&&aa(b.width)}za(b.providers)},showNotice:function(){Ca()},removeNotice:function(){Hb(La)},removeReturnExperience:function(){var a=document.getElementById("janrainAuthReturnExperience");Hb(a)}}}function b(){var a=document.createElement("div");a.id="fb-root";document.body.insertBefore(a,document.body.firstChild);window.fbAsyncInit=function(){FB.init({appId:janrain.settings.facebookAppId,status:!0,cookie:!1,xfbml:!1,channelUrl:"/channel.html"});FB.getLoginStatus(function(a){var b=
(new D).setName(tb);a.authResponse&&window.janrain&&window.janrain.engage&&window.janrain.engage.signin&&(janrain.engage.signin.facebookAutoLoginCallback=function(a){"ok"===a.stat&&(janrain.events.onProviderLoginToken.fire({engageToken:a.token}),b.setValue("true").create())},ma(f.appUrl+"/signin/oauth_token?provider=facebook&callback=janrain.engage.signin.facebookAutoLoginCallback&token="+a.authResponse.accessToken+"&origin_domain="+window.location.hostname))})};ma("//connect.facebook.net/en_US/all.js")}
function c(){if("object"===typeof p)if("object"===typeof ba){var a=p.getState();a.width=ba.width;ba=a}else ba=p.getState();"object"===typeof p&&p.remove();"object"===typeof s&&s.remove();P="modal";t();"object"===typeof p&&ba&&R("customizable_auth_widget_styling")&&p.setState(ba);"object"===typeof s&&Ga&&R("customizable_auth_widget_styling")&&s.setState(Ga);"object"===typeof s&&s.show();"object"===typeof p&&p.refresh()}function e(){if("object"===typeof p){if("object"===typeof ba){var a=p.getState();
a.borderRadius=ba.borderRadius;a.format=ba.format;a.width=ba.width;ba=a}else ba=p.getState();Ga=ba.modalState;delete Ga.orientation}"object"===typeof p&&p.remove();"object"===typeof s&&s.remove();"object"===typeof s&&(s="");P="embed";n();"object"===typeof p&&ba&&R("customizable_auth_widget_styling")&&p.setState(ba);"object"===typeof p&&p.refresh()}function h(){var a,b;t();b=document.getElementsByTagName("a");var c=RegExp("(\\s|^)"+f.linkClass+"(\\s|$)");for(a in b)c.test(b[a].className)&&(b[a].onclick=
q)}function j(a){var b=parseInt(janrain.settings.fontSize,10);"two column"===wb?a.setFontSize(b||Ib):a.setFontSize(b||Nb)}function n(){var b=hb();p=new a;j(p);p.setBackgroundColor(La).embed(!0).setPreviewMode(Cb).setShowAttribution(Rb).setNoReturnExperience(xc).setNoReturnExperienceSwitchAccountLink(yc).setFormat(wb).setRowHeight(jb).setFontSize(fc).setFontFamily(Sb).setFontColor(Ba).setActionText(gc).setProviders(yb).setProvidersPerPage(Tb).setWidth(ib).setBorderColor(rc).setBorderRadius(bc).setButtonBorderColor(Ia).setButtonBorderRadius(Ub).setButtonBackgroundStyle(ub).build();
var c=document.getElementById("janrainEngageEmbed");null===c&&(c=document.getElementById("janrainModal"));Da||(b?(na("welcome_info_name",unescape(T("welcome_info_name"))),Pa("expected_tab",b)):Fa(c,p.getContentsDiv()))}function q(){"object"===typeof s&&s.show();return!1}function t(){var b=vb(pc,$b),c=hb();if("undefined"===typeof b||0>b)b=5;p=new a;j(p);p.setBackgroundColor(La).setPreviewMode(Cb).setShowAttribution(Rb).setNoReturnExperience(xc).setNoReturnExperienceSwitchAccountLink(yc).setFontSize(fc).setFontFamily(Sb).setFontColor(Ba).setActionText(gc).setProviders(yb).setProvidersPerPage(Tb).setBorderRadius(b).setButtonBorderColor(Ia).setButtonBorderRadius(Ub).setButtonBackgroundStyle(ub).build();
if("object"!==typeof s){s=new sd;s.ready=!1;var e=s.addContent;s.addContent=function(a){s.ready=!0;e(a);janrain.events.onModalWidgetReady.fire()}}s.setHeight(p.getActualHeight()).setWidth(p.getWidth()).setPreviewMode(Cb).setBorderColor(ac).setBorder($b).setBorderOpacity(qc).setBorderRadius(pc);Da||(c?(na("welcome_info_name",unescape(T("welcome_info_name"))),Pa("expected_tab",c)):s.addContent(p.getContentsDiv()));s.onOrientationChange.addHandler(function(a){"portrait"===a.orientation&&p.setFormat(a.format).setWidth(200).refresh({center:!0});
"landscape"===a.orientation&&p.setHeight(a.height).setWidth(a.width).setFormat(a.format).refresh({center:!0});s.setHeight(p.getActualHeight());s.setWidth(p.getWidth())},!0);s.onShow.addHandler(function(){"object"==typeof p&&s.setWidth(p.getWidth())},!0);s.onBorderWidthChange.addHandler(function(a){"object"===typeof s&&"object"===typeof p&&(p.setBorderRadius(a.radius).refresh(),a=p.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&s.setBorderRadius(a.borderRadius+a.modalState.borderWidth))},
!0);s.onBorderRadiusChange.addHandler(function(a){"object"===typeof p&&(p.setBorderRadius(a.radius).refresh(),a=p.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&s.setBorderRadius(a.borderRadius+a.modalState.borderWidth))},!0)}function A(a,b){if(!R("customizable_auth_widget_styling"))return!1;if("object"===typeof p)return b(a),!0}function N(a){return A(a,function(a){p.setBackgroundColor(a).refresh()})}function S(a){return A(a,function(a){p.setBorderRadius(a).refresh()})}
function F(a){return A(a,function(a){p.setBorderColor(a).refresh()})}function X(a){return"modal"===P?!1:A(a,function(a){p.setWidth(a).refresh({center:!0})})}function $(a){return A(a,function(a){p.setActionText(a).refresh()})}function qa(a){return A(a,function(a){p.setButtonBorderColor(a).refresh()})}function wa(a){return A(a,function(a){p.setButtonBorderRadius(a).refresh()})}function H(a){return A(a,function(a){p.setButtonBackgroundStyle(a).refresh()})}function ga(a){return"modal"==P?!1:A(a,function(a){p.setFormat(a).refresh()})}
function la(a){return A(a,function(a){p.setProvidersPerPage(a).refresh()})}function z(a){return A(a,function(a){p.setFontFamily(a).refresh()})}function za(a){return A(a,function(a){p.setFontSize(a).refresh()})}function Ca(a){return A(a,function(a){p.setFontColor(a).refresh()})}function T(a){var b;if("single cookie"===ja){b=D().getCookie("janrain_engage_login_data");if(!b)return;b=M.parse(b);return!b[a]?void 0:a=b[a]}if("default"===ja)return a=D().getCookie(a),!a?void 0:a}function ua(a,b,c){var e;
if(!a||!b)return!1;c||(c=1);if("single cookie"===ja)return(oldCookieJSON=D().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),c=M.parse(oldCookieJSON),c[a]=b,e=new D,e.setName("janrain_engage_login_data").setValue(M.stringify(c)).setDomain(window.location.hostname).setExpiration(1826).create(),!0;return"default"===ja?(e=new D,e.setName(a).setValue(b).setDomain(window.location.hostname).setExpiration(c).create(),!0):!1}function Na(a,b){if("expected_tab"===a&&!b){var c=T("login_tab");c&&
Na("expected_tab",c);return!1}if(!b||"undefined"===b||"expected_tab"!==a&&"expected_user_input"!==a&&"welcome_info_name"!==a)return!1;b="welcome_info_name"===a?escape(b):b;xc?D().setName(a).remove():ua(a,b,1826)}function sa(a,b){var c={};a||(a=cb);b||(b=cb.appUrl);if(g&&3>aa)return c.widget_type=a.widget_type,c.provider=a.provider,c.time=(new Date).getTime(),c=Kc(c),ma(b+"/signin/get_login_info"+c),aa++,!0;"object"===typeof janrain.events.onProviderLoginCancel&&janrain.events.onProviderLoginCancel.fire(a);
"undefined"!==typeof Pb&&clearTimeout(Pb);"undefined"!==typeof p&&p.refresh&&p.refresh();janrain.events.onShareLoginCancel&&"fail"===a.stat&&janrain.events.onShareLoginCancel.fire(a);return!1}function rb(a,b,c){var e=b.appUrl,g=janrain.settings.customSAML&&a.customSAML,f=janrain.settings.customOpenid&&a.customOpenid,e=g||"saml2"==a.flow?e+"/saml2/sso/start":e+("/"+a.flow+"/start"),h=janrain.settings.originUrl||window.location.href;b.mobileDevice&&(h="mobile");var j=b.language||"en",n=b.popup?"xdr":
"xdrsw",k=b.tokenUrl||window.location.href,q={};cb={appUrl:b.appUrl,provider:a.name,widget_type:b.widgetType};q.language_preference=j;q.token_url=k;q.display="popup";q.widget=!0;"object"===typeof b.facebookPermissions&&(q.ext_perm=b.facebookPermissions.toString());g?q.saml_provider=a.identifier:q.openid_identifier=a.identifier;q.origin_url=h;q.provider_name=a.name;q.force_reauth=b.forceReauth;q.xdReceiver=b.appUrl+"/"+n;q.callback="none";q.widget_type=b.widgetType;q.token_action="url";janrain.settings.captureDomain&&
(q.capture_domain=janrain.settings.captureDomain);if("event"===b.tokenAction||"hybrid"===b.tokenAction)q.token_action="event";b.mobileDevice&&"hybrid"===b.tokenAction&&(q.token_action="url");b.bpChannel&&(q.bp_channel=b.bpChannel);b.extParams&&b.extParams[a.name]&&(q.ext_params=b.extParams[a.name]);b.scopes&&"object"===typeof b.scopes[a.name]&&(q.override_scopes=b.scopes[a.name].toString());b.sharingType&&(q.sharing_type=b.sharingType);h=function(b){var c=janrain.settings[b],b=a[b],c="object"===typeof c?
c[a.name]:c;return c!==b?c:b}("customOpenidOpxblob");b.customOpenid&&"string"===typeof h&&(q.opx_blob=h);e+=Kc(q);(function(){janrain.events.onProviderLoginStart.fire({provider:a.name,width:a.width,height:a.height});(function(a,b,c){if(a&&b){var c=c||1826,e=D(),i=window.janrain;i&&i.settings&&"single cookie"===i.settings.storageType?(i=M.parse(D().getCookie("janrain_engage_login_data")||"{}"),i[a]=b,e.setName("janrain_engage_login_data").setValue(M.stringify(i))):e.setName(a).setValue(b);e.setDomain(window.location.hostname).setExpiration(c).create()}})("login_tab",
a.name,1);var h;b.mobileDevice&&"event"!==b.tokenAction||!b.popup?ma(b.appUrl+"/signin/set_login_tab?login_tab="+a.name+"&origin_url="+encodeURIComponent(window.location.href),function(){janrain.settings.customProviderInIFrame&&(f||g)?window.location.href=e:window.top.location.href=e}):(h=new ef(e),h.setWidth(a.width).setHeight(a.height).setCallback(function(){var e={},g="";e.widget_type=b.widgetType;e.provider=a.name||"";e.time=(new Date).getTime();g=Kc(e);"function"===typeof c&&c();ma(b.appUrl+
"/signin/get_login_info"+g);janrain.events.onProviderLoginComplete.fire({provider:a.name})}).show())})()}function na(a,b){if(!b||"undefined"===b||"welcome_info_name"!==a)return!1}function hb(){f.noReturnExperience&&("single cookie"===f.storageType?D().setName("janrain_engage_login_data").setDomain(window.location.hostname).remove():(Xb("login_tab"),Xb("expected_tab")));Aa();var a=T("login_tab"),b=T("expected_tab");-1==janrain.settings.providers.indexOf("google")&&("google"==b&&(b="googleplus"),"google"==
a&&(a="googleplus"));return va.isAndroid()?a:b}function Aa(){var a=T("login_tab"),b=T("expected_tab"),c=T("welcome_info_name");if(!a||!b||!c)_noReturnExperience=!0,Xb("login_tab"),Xb("expected_tab"),Xb("welcome_info_name"),D().setUseLocalStorage(!0).setName("janrainLastAuthMethod").remove()}function Pa(a,b){function c(){janrain.events.onReturnExperienceFound.fire({returnProvider:b,welcomeName:e})}var e=unescape(T("welcome_info_name")),g=function(a){var c=function(){600>a&&setTimeout(function(){g(++a)},
50)};if("object"!==typeof p)return c(),!1;"modal"===P?s.addContent(p.getReturnExperience(b,e)):"embed"===P&&(Fa(document.getElementById("janrainEngageEmbed"),p.getReturnExperience(b,e)),p.showReturnExperience(b)&&(document.getElementById("janrainView").style.visibility="hidden"));"modal"===P&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==a||!b)return!1;"object"===typeof p&&p.removeReturnExperience();zc?c():janrain.events.onAuthWidgetLoad.addHandler(c,!0);g(0)}function Fa(a,b){a&&(a.innerHTML=
"");janrain.settings.capture&&(a?(a.innerHTML="",a.appendChild(b)):(a=document.createElement("div"),a.id="janrainEngageEmbed",a.style.display="none",document.body.appendChild(a)));a?(a.appendChild(b),janrain.events.onAuthWidgetContentPlaced.fire()):(I.log('Missing container div, please place this div where you wantthe embedded widget to be displayed on your page- <div id="janrainEngageEmbed"></div>.'),I.show());return a}function Kb(a,b,c){c=c?Vd:ya;return Sa=b?c(Sa,a):a}function db(){function a(b){if(!("customsaml"===
b&&!f.customSAML||"customopenid"===b&&!f.customOpenid)){var c,e;if("customsaml"===b)c="customSAMLProviderId",e=["customSAMLProviderName","customSAMLProviderColor","customSAMLLargeIcon"];else if("customopenid"===b)c="customOpenidProviderId",e="customOpenIdProviderName,customOpenIdProviderColor,customOpenidLargeIcon,customOpenidIdentifier,customOpenidFlow,customOpenidOpxblob".split(",");else{I.log("Bad provider: "+b);I.show();return}var i=typeof f[c];if("undefined"===i||"string"===i){var g=f[c]||b;
f[c]=[g];ha(e,function(a){if("object"!==typeof f[a]){var b=f[a];f[a]={};f[a][g]=b}})}}}function b(a,c){var e=G,i={customopenid:["customOpenidFlow","customOpenidIdentifier"],customsaml:["customSAMLProviderId"]};if(f[{customopenid:"customOpenid",customsaml:"customSAML"}[a]]&&R("customizable_auth_widget_styling")){"customopenid"===a&&(kb=!0);for(var i=i[a],g=0,h=i.length;g<h;g++)if(!f[i[g]])return I.log(e({provider:a,setting:i[g]},"Missing {| setting |}. {| setting |} is required when adding a {| provider |} provider")),
I.show(),!1;var j={customsaml:{providerColor:"customSAMLProviderColor",friendlyName:"customSAMLProviderName",modalHeight:"customSAMLModalHeight",modalWidth:"customSAMLModalWidth",largeIcon:"customSAMLLargeIcon"},customopenid:{providerColor:"customOpenIdProviderColor",friendlyName:"customOpenIdProviderName",modalHeight:"customOpenidModalHeight",modalWidth:"customOpenidModalWidth",customOpenidOpxblob:"customOpenidOpxblob",largeIcon:"customOpenidLargeIcon",flow:"customOpenidFlow",identifier:"customOpenidIdentifier"}},
e=function(b){b=f[j[a][b]];return"object"===typeof b?b[c]:b},i={width:e("modalWidth")||800,height:e("modalHeight")||600,friendlyName:e("friendlyName"),color:e("providerColor"),largeIcon:e("largeIcon"),identifier:e("identifier")};"customopenid"===a?(i.flow=e("flow"),i.customOpenid=!0,i.customOpenidOpxblob=e("customOpenidOpxblob")):"customsaml"===a&&(i.customSAML=!0,i.identifier=c);Ha[c]=i}}f=janrain.settings;if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return++Fb,
0===Fb%2E3&&k.error("Translations are not loading. janrain.settings.translate is undef."),setTimeout(db,5),!1;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate=f.translate={});!0===f.noProvidersCss&&!0===f.custom||(oc(id()+"providers.css"),g&&9>=g&&oc(id()+"providers-ie.css"));if(f.stop)return!0;gb=f.tokenAction?f.tokenAction:gb;if(!f.tokenUrl&&"event"!=gb)return I.log("Missing tokenUrl.  tokenUrl is required."),I.show(),!1;Ka=f.appUrl;P=V("string",["modal","embed"],"embed",
f.type?f.type:P);Da=f.multi?f.multi:Da;xa=f.custom?f.custom:xa;Za=f.forceReauth?f.forceReauth:Za;Lb=f.bpChannel?f.bpChannel:Lb;Oa=f.facebookPermissions?f.facebookPermissions:Oa;Jb=f.scopes?f.scopes:Jb;sb=!!f.facebookAutoLogin;ja=f.storageType?V("string",["default","single cookie"],"default",f.storageType):ja;pb="boolean"===typeof f.popup?f.popup:pb;td&&"event"!==gb&&(pb=!1);fb=f.returnExperienceTimeout?f.returnExperienceTimeout:fb;Da&&(setTimeout(function(){var a=hb();if(a)na("welcome_info_name",
unescape(T("welcome_info_name"))),Pa("expected_tab",a),document.getElementById("janrainView").style.visibility="hidden";else if(a=function(){if("modal"===P)s.addContent(p.getContentsDiv());else if("embed"===P){var a=document.getElementById("janrainEngageEmbed");Fa(a,p.getContentsDiv())}"undefined"!==typeof b&&Eb.removeHandler(b)},p)a();else var b=Eb.addHandler(a)},fb),ma(f.appUrl+"/signin/get_cookies"));a("customopenid");a("customsaml");f.customOpenid&&ha(f.customOpenidProviderId,function(a){b("customopenid",
a)});f.customSAML&&ha(f.customSAMLProviderId,function(a){b("customsaml",a)});Aa();if(xa)return!0;gb=f.tokenAction?f.tokenAction:gb;$b=R("customizable_auth_widget_styling")?f.modalBorderWidth:$b;ac=R("customizable_auth_widget_styling")?f.modalBorderColor:ac;pc=R("customizable_auth_widget_styling")?f.modalBorderRadius:pc;qc=R("customizable_auth_widget_styling")?f.modalBorderOpacity:qc;La=R("customizable_auth_widget_styling")?f.backgroundColor:La;bc=R("customizable_auth_widget_styling")?f.borderRadius:
bc;rc=R("customizable_auth_widget_styling")?f.borderColor:rc;wb=f.format;Ba=R("customizable_auth_widget_styling")?f.fontColor:Ba;fc=R("customizable_auth_widget_styling")?f.fontSize:fc;Sb=R("customizable_auth_widget_styling")?f.fontFamily:Sb;ib=R("customizable_auth_widget_styling")?f.width:ib;jb=R("customizable_auth_widget_styling")?f.rowHeight:jb;Tb=f.providersPerPage;ec=R("customizable_auth_widget_styling")?f.providersNotPaged:ec;gc=R("customizable_auth_widget_styling")?f.actionText:gc;Ia=R("customizable_auth_widget_styling")?
f.buttonBorderColor:Ia;Ub=R("customizable_auth_widget_styling")?f.buttonBorderRadius:Ub;ub=R("customizable_auth_widget_styling")?f.buttonBackgroundStyle:ub;Rb=R("customizable_auth_widget_hide_attribution")?f.showAttribution:Rb;Cb=f.previewMode;xc=f.noReturnExperience;yc=f.noReturnExperienceSwitchAccountLink;yb=f.providers;if(f.customOpenid&&R("customizable_auth_widget_styling")){if(!f.customOpenidLargeIcon)return I.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),
I.show(),!1;Ya={largeIcon:f.customOpenidLargeIcon,customOpenIdProviderName:f.customOpenIdProviderName||janrain.settings.translate.SIGN_IN||"Sign in",customOpenIdProviderColor:f.customOpenIdProviderColor}}if(f.customSAML&&R("customizable_auth_widget_styling")){if(!f.customSAMLLargeIcon)return I.log("Missing customSAMLLargeIcon.  customSAMLLargeIcon is required and should be the full path to an image that is 50px x 50px."),I.show(),!1;lb={largeIcon:f.customSAMLLargeIcon,customSAMLProviderName:f.customSAMLProviderName||
janrain.settings.translate.SIGN_IN||"Sign in",customSAMLProviderColor:f.customSAMLProviderColor}}f.previewMode?("modal"===P&&Wb(c),"embed"===P&&Wb(e)):("modal"===P&&Wb(h),"embed"===P&&Wb(n));ud&&y(window,"unload",function(){})}var Ka,Oa,Jb,sb=!1,tb="janrain_engage_facebook_auto_login",Lb,kb=!1,Za=!1,gb="url",Sa={},P="embed",Da=!1,fb=300,Za=!1,pb=!0,xa=!1,Fb=0,ja="default",Ya,lb,Ga,s,$b,ac,pc,qc,p,ba,La,bc,rc,ib,jb,wb,yb=[],ec=!1,Tb,gc,fc,Sb,Ba,Ia,Ub,ub,Cb,xc,yc,Rb,eb=!1,zc=!1,Ib=18,Nb=14;janrain.events.onAuthWidgetLoad||
(janrain.events.onAuthWidgetLoad=W(!0));janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=W());janrain.events.onReturnExperienceFound||(janrain.events.onReturnExperienceFound=W());janrain.events.onAuthWidgetLoad.addHandler(function(){zc=!0;var a=(new D).getCookie(tb);sb&&!a&&b()},!0);janrain.events.onProviderLoginSuccess.addHandler(function(){var a=document.getElementById("janrainAuthReturnExperience"),b=document.getElementById("janrainView");a&&(a.style.visibility="hidden");b&&
(b.style.visibility="hidden")});janrain.events.onAuthWidgetLoad.addHandler(function(){var a=T("expected_tab"),b=T("welcome_info_name");ha(janrain.settings.beforeJanrainWidgetOnLoad||[],Jc);"function"===typeof janrainWidgetOnload?(ha(janrain.settings.beforeJanrainWidgetOnLoad||[],Jc),xa?(janrainWidgetOnload(),!Da&&a&&b&&janrain.events.onReturnExperienceFound.fire({returnProvider:a,welcomeName:unescape(b)})):p?janrainWidgetOnload(p.getState()):janrainWidgetOnload()):k.warn("No such function 'janrainWidgetOnload'. Does 'janrainCaptureWidgetOnLoad' exist?")},
!0);for(var Pb,aa=0,cb,hc="onAuthWidgetContentPlaced,onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginCancel,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),ic=0;ic<hc.length;ic++)"undefined"===typeof janrain.events[hc[ic]]&&(janrain.events[hc[ic]]=new Ab);janrain.events.onProviderLoginError.addHandler(function(a){if(xa)return!0;var b=T("login_tab");if("modal"===P){var c=document.getElementById("janrainModal");
c&&c.appendChild(p.getErrorPage(b,a.err))}"embed"===P&&(c=document.getElementById("janrainEngageEmbed"))&&Fa(c,p.getErrorPage(b,a.err))},!0);db();return{status:"loaded",logoutFacebook:function(a){if("function"!==typeof a)throw Error("janrain.engage.signin.logoutFacebook takes a callback function as its only parameter.");var b=!1,c=function(e){var g=zb(e.origin).host,f=zb(Ka).host;g!==f?k.forceError("Ignoring postMessage due to domain mismatch: ",e.origin+" does not match "+Ka):0===e.data.indexOf("janrainLogoutFacebook:")&&
(g=e.data.indexOf(":")+1,e=e.data.substring(g),e=M.parse(e),"ok"!==e.status&&k.forceError("Failed to log out of Facebook"),b=!0,xb(window,"message",c),a(e))};y(window,"message",c);var e=Ka+"/widget/logout_facebook?facebookAppId="+janrain.settings.facebookAppId+"&url="+encodeURIComponent(window.location.protocol+"//"+window.location.host);Bc("janrainLogoutFacebook",e);setTimeout(function(){b||(xb(window,"message",c),a({status:"fail",message:"Timeout attempting to log out of Facebook"}))},5E3)},appendTokenParams:function(a,
b,c){Kb(a,b,c)},appendTokenParamsCumulative:function(a,b){Kb(a,!0,b)},setBackplaneChannel:function(a){Lb=a},setLoginCookie:function(a,b){Na(a,b)},loginHandler:function(a){var b=gb;a?("ok"===a.stat&&("event"===b||"hybrid"===b||"noRedirect"===b?("undefined"!=typeof storage&&storage.set("janrainEngageAuthenticityToken",a.authenticity_token),"noRedirect"!==b&&ma(a.redirectUrl)):(b=document.createElement("form"),b.action=a.redirectUrl,b.method="POST",janrain.settings.targetTop&&(b.target="_top"),document.body.appendChild(b),
b.submit())),"fail"===a.stat&&(a.err&&160===a.err.code?(janrain.events.onProviderLoginCancel.fire(a),"undefined"!==typeof p&&p.refresh&&p.refresh()):janrain.events.onProviderLoginError.fire(a),"undefined"!==typeof Pb&&clearTimeout(Pb),janrain.events.onShareLoginCancel&&"fail"===a.stat&&janrain.events.onShareLoginCancel.fire(a))):sa()},cancelLogin:function(a){sa(a,f.appUrl);!xa&&p&&p.removeNotice()},removeNotice:function(){p&&p.removeNotice()},setWelcomeInfoName:function(a,b){na(a,b)},setReturnExperience:function(a,
b){Pa(a,b)},setNoReturnExperience:function(a,b){var c;"boolean"===typeof a&&p?(p.setNoReturnExperience(a),b||p.refresh(),c=!0):c=!1;return c},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&p?(p.setNoReturnExperienceSwitchAccountLink(a).refresh(),a=!0):a=!1;return a},setPreviewMode:function(a){"boolean"===typeof a&&p?(p.setPreviewMode(a).refresh(),a=!0):a=!1;return a},setConfigureMode:function(a){"boolean"===typeof a&&p?(p.setConfigureMode(a).refresh(),a=!0):a=!1;return a},
setCustom:function(a){xa=a},getState:function(){return"object"===typeof p?p.getState():!1},setProviderFlow:function(b,c){return!R("customizable_auth_widget_styling")?!1:a().setProviderFlow(b,c)},triggerFlow:function(b){return!R("customizable_auth_widget_styling")?!1:a().triggerFlow(b)},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+document.doctype.name),console.log("DOCTYPE NodeType: "+document.doctype.nodeType)):
console.log("DOCTYPE name: not available (probably quirks mode)");console.log("User Agent: "+navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");for(var a in janrain.settings)if(console.log(" ---- "+
a+": "+janrain.settings[a]),"object"===typeof janrain.settings[a])for(var b in janrain.settings[a])"function"!==typeof janrain.settings[a][b]&&console.log(" --- --- "+b+": "+janrain.settings[a][b]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){e()},setBackgroundColor:function(a){return N(a)},setBorderColor:function(a){return F(a)},setBorderRadius:function(a){return S(a)},setWidth:function(a){return X(a)},setActionText:function(a){return $(a)},setFontFamily:function(a){return z(a)},
setFontSize:function(a){return za(a)},setFontColor:function(a){return Ca(a)},setFormat:function(a){return ga(a)},setButtonBorderColor:function(a){return qa(a)},setButtonBorderRadius:function(a){return wa(a)},setButtonBackgroundStyle:function(a){return H(a)},setProviders:function(a){var b;"object"===typeof p&&(ta?p.setProviders(a):p.setProviders(a).refresh(),b=!0);return b},setProvidersPerPage:function(a){return la(a)},setShowAttribution:function(a){var b;R("customizable_auth_widget_hide_attribution")?
"object"===typeof p&&p.setShowAttribution(a).refresh():b=!1;return b},refresh:function(){return p.refresh()},getWidth:function(){return p.getWidth()}},modal:{init:function(){c()},close:function(){"object"==typeof s&&s.close()},create:function(){return new sd},setBorder:function(a){R("customizable_auth_widget_styling")?("object"===typeof s&&(s.setBorder(a),s.refresh({center:!0})),a=!0):a=!1;return a},setBorderColor:function(a){R("customizable_auth_widget_styling")?("object"===typeof s&&(s.setBorderColor(a),
s.refresh()),a=!0):a=!1;return a},setBorderOpacity:function(a){R("customizable_auth_widget_styling")?("object"===typeof s&&(s.setBorderOpacity(a),s.refresh()),a=!0):a=!1;return a},setBorderRadius:function(a){R("customizable_auth_widget_styling")?("object"==typeof s&&(s.setBorderRadius(a),s.refresh()),a=!0):a=!1;return a}}}},sf=new function(){return{status:"not loaded"}},tf=new function(){var a;function b(d){function a(d,r){var l=d instanceof Ic?d:new Ic(d),b=r&&wa(r,"merge")&&!0===r.merge,B,c;d&&
(B=l.get("id")||"auto_id_"+ua(7),l.get("id")!==B&&l.set("id",B),(c=f[B])&&b&&c.set(l.attributes),!c&&-1==g.indexOf(l)&&(g.push(l),f[B]=l,h.length=g.length));return l}function l(d){var a;d&&(a=g.indexOf(d),0<=a&&(g.splice(a,1),delete f[d.get("id")],h.length=g.length));return d}function b(d,l){for(var d=t(d)?d:[d],B=0,c=d.length;B<c;)a(d[B],l),B+=1;return h}function c(d){for(var d=t(d)?d:[d],a=0,r=d.length;a<r;)l(d[a]),a+=1;return h}function e(d){return g.filter(function(a){for(var r in d)return wa(d,
r)&&a.get(r)===d[r]})}var g=[],f={},h={length:0,_models:g,_fieldsById:f};d&&b(d);return ya(h,{get:function(d){return f[d]},getById:function(d){return f[d]},getByName:function(d){for(var d=e({name:d}),a=0,r=1,l=d.length-1;r<=l;)d[a].time<=d[r].time&&(a=r),r+=1;return d[a]},getFieldsByName:function(d){return e({name:d})},add:function(d,a){return b(d,a)},remove:function(d){return c(d)},indexOf:function(d){return g.indexOf(d)},at:function(d){return g[d]},reset:function(){return c(g)},each:function(d,
a){ha(g,d,a);return h},map:function(d){return g.map(d)},where:function(d){return e(d)},addField:function(d){a(d);return h},addFields:function(d){return b(d)},removeField:function(d){l(d);return h},removeFields:function(d){return c(d)},updateField:function(d){a(d,{merge:!0});return h},update:function(d){return b(d,{merge:!0})},updateFields:function(d){return b(d,{merge:!0})}})}function c(d){var a=janrain.settings.capture.modalBorderWidth||10,l=janrain.settings.capture.modalBorderColor||"#000",b=janrain.settings.capture.modalBorderRadius||
10,c=janrain.settings.capture.modalBorderOpacity||0.5;d.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(l).setBorder(a).setBorderOpacity(c).setBorderRadius(b);return d}function e(d){if("object"!==typeof x)x=new sd,yc();else{var a=x.getContent();Ud(document.body,a)&&(a.style.display="none",document.body.appendChild(a))}Z&&Z.modal&&wc.push(Z);x=c(x);x.addContent(d).show();x.setHeight(yb(d).height);x.setWidth(yb(d).width).refresh({center:!0})}function f(d){function a(){Ld=
!0;var r=d||R(),l=zb(d),b=zb(janrain.settings.capture.captureServer);"http"===b.protocol||"https"===b.protocol||(I.log("The capture server url does not have a valid protocol. Check your settings."),I.show());if(!b.host||"undefined"===b.host)I.log("The capture server url does not have a valid host. Check your settings."),I.show();d&&(Bb=l.queryKey.flow_path);ma(r,Cc);Eb();lb();janrain.events.onCaptureLoginFailed.addHandler(function(){tc++;Ya()},!0);janrain.events.onCaptureLoginSuccess.addHandler(function(){tc=
0;Ya()},!0);janrain.events.onCaptureLoginSuccess.addHandler(function(){zc(Jd)},!0);janrain.events.onCaptureRegistrationSuccess.addHandler(function(){zc(Jd)},!0);janrain.events.onCaptureValidationComplete.addHandler(function(){a:{var d=!1,a;for(a in pa)if("invalid"===pa[a].status){var r=pa[a].postValidationActions;if(r)for(var l in r){if(!pa[a].validation||"undefined"===typeof pa[a].validation[l])break a;for(var b in r[l])if(r[l].hasOwnProperty(b))switch(b){case "render":r[l].render.screen&&!d&&(d=
!0,(new cb).setScreenData(r[l].render.screen,o.screens[r[l].render.screen]));break;case "setCookie":var B=r[l].setCookie.name,c=r[l].setCookie.value,e=r[l].setCookie.days;(new D).setExpiration(e).setUseLocalStorage(!0).setName(B).setValue(c).create()}}}}},!0);janrain.events.onCaptureRenderComplete.addHandler(function(){if(ee){var d=oa.savedProfileMessage||"Your profile has been saved",a=$("capture_profileSavedMessage_container",Z.div),r=a.length;if(r)for(var l=0,r=a.length;l<r;l++)a[l].innerHTML=
d,a[l].style.display="",gc(a[l]);else if(ae&&(a=document.getElementById(O+ae+"_defaultSavedProfileMessage")))a.innerHTML='<div class="capture_save_success capture_profileSavedMessage_container">'+d+"</div>",gc(a);ee=!1;if(janrain.settings.capture.autoSave){for(;Zd.length;)Zd.pop().unbindDragHandlers();Qb.each(gb)}}Ab()},!0);janrain.events.onCaptureContentChange.addHandler(function(){if("object"===typeof x&&x.isOpen()){x.setHeight(yb(x.getContent()).height);var d=x.getState().width,a=yb(x.getContent()).width;
(d=d!==a)&&x.setWidth(a);x.refresh({center:d})}},!0);janrain.settings.custom&&!Uc&&sa()}function l(){ud&&!janrain.settings.capture.federateEnableSafari&&(janrain.settings.capture.federate=!1);janrain.settings.capture.federate&&!janrain.federateJSLoaded&&(janrain.settings.capture.federate=!1,Dd=!0);a()}function b(){if(!Fd){Fd=!0;var d=function(){Backplane.expectMessages("identity/login")};janrain.events.onCaptureLoginSuccess.addHandler(d,!0);janrain.events.onCaptureRegistrationSuccess.addHandler(d,
!0);janrain.events.onCaptureBackplaneReady.fire();l()}}Sb(fc());janrain.settings.capture.noStyling||(oc(id()+"widgets.css"),ye(id()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&t(janrain.settings.capture.stylesheets))for(var c=janrain.settings.capture.stylesheets,e=c.length,h=0;h<e;h++)oc(c[h]),W(c[h]);if(g&&9>g&&janrain.settings.capture.conditionalIEStylesheets&&t(janrain.settings.capture.conditionalIEStylesheets)){c=janrain.settings.capture.conditionalIEStylesheets;e=c.length;for(h=
0;h<e;h++)ye(c[h]),W(c[h])}if(hb&&janrain.settings.capture.mobileStylesheets&&t(janrain.settings.capture.mobileStylesheets)){c=janrain.settings.capture.mobileStylesheets;e=c.length;for(h=0;h<e;h++)oc(c[h]),W(c[h])}janrain.settings.capture.backplane?(h=function(){function d(){r++;if(20<r)return aa("backplanecallback not successful"),janrain.events.onCaptureBackplaneInitFailed.fire(),Fd=!0,janrain.settings.capture.backplane=!1,l(),!1;if(Fd)return clearTimeout(a),!1;var a=setTimeout(d,500)}"function"===
typeof Backplane?Backplane(b):Sc=!0;var a={serverBaseURL:Pd,busName:janrain.settings.capture.backplaneBusName,replayOnPageLoad:v};2<=parseInt(U,10)&&(a.block=Qd);v&&2>parseInt(U,10)&&(a.initFrameFilter=function(d){return d});"undefined"!==typeof janrain.settings.capture.backplaneChannelExpires&&(a.channelExpires=janrain.settings.capture.backplaneChannelExpires);Backplane.init(a);Sc&&"undefined"!==typeof Backplane&&b();var r=0;d()},"function"===typeof Backplane?h():ma($a,h)):l()}function j(d,a,l,b){var c=
[];b&&c.push({value:"",text:b,disabled:!0});if("desc"===l)for(l=a;l>d-1;l--)c.push({value:l,text:l});else for(l=d;l<a+1;l++)c.push({value:l,text:l});return c}function n(d){d||(d=da);return"string"===typeof d?"capture_"+d+"_":"capture_"+L(d)+"_"}function L(d){if(d!==window){var a=d.getAttribute("data-capturescreenname");if(a&&o.screens[a])return a;for(var a=$("capture_screen_container"),l=0,b=a.length;l<b;l++)if(Ud(a[l],d))return a=a[l].getAttribute("data-capturescreenname"),d.setAttribute("data-capturescreenname",
a),a}}function R(){var d=vc,a=janrain.settings.capture.flowVersion||"HEAD",l=E()||"default",b=janrain.settings.capture.appid||janrain.settings.capture.appId;return uri=b?/^[0-9A-Fa-f]{8}(-[0-9A-Fa-f]{4}){3}-[0-9A-Fa-f]{12}$/.test(a)?V()+"/widget_data/flows/"+b+"/"+l+"/"+a+"/"+d+".js":V()+"/widget_data/flow.js:"+b+":"+d+":"+a+":"+l:V()+"/widget_data/flow.js:"+d+":"+a+":"+l}function E(){return hb&&janrain.settings.capture.mobileFlowName?janrain.settings.capture.mobileFlowName:janrain.settings.capture.flowName}
function V(){return janrain.settings.capture.cdnUrl?janrain.settings.capture.cdnUrl:janrain.settings.enforceSecureCloudfront?"https://ssl-cdn.janraincapture.com":"https://d1lqe9temigv1p.cloudfront.net"}function W(d){A(xd,d)||xd.push(d);de=xd.length}function fa(d){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+d+"' is missing."}}function la(d){d=N(d);ta(d)}function ra(d){var a=0,l=0,b=0,c=0;F(pa,function(e,g){"pending"==g.status&&d===g.formId&&a++;"invalid"==
g.status&&d===g.formId&&l++;"undefined"!==typeof g.unique&&!1===g.unique&&d===g.formId&&b++;"valid"==g.status&&d===g.formId&&c++});return{pending:a,invalid:l,notUnique:b,valid:c}}function ta(d,a){var l=d.getAttribute("data-capturefield"),l=Wc.check(d,o.fields[l]),b=document.getElementById(d.id+"_errors");!l.valid&&l.reason?b&&(b.innerHTML=l.reason):b&&(b.innerHTML="");if(a)return"object"!==typeof l&&(l={valid:!0}),l}function Ha(d,a){a.name||(a.name=d.getAttribute("data-capturerendererfield")?d.getAttribute("data-capturerendererfield"):
d.getAttribute("data-capturefield"));var l=n(d),b=document.getElementById(l+a.name+"_dateselectmonth"),b=b.options[b.selectedIndex].value,c=document.getElementById(l+a.name+"_dateselectday"),c=c.options[c.selectedIndex].value,l=document.getElementById(l+a.name+"_dateselectyear"),l=l.options[l.selectedIndex].value;return!b||!c||!l?!1:b+"/"+c+"/"+l}function H(d,a){if(!d)return!1;for(var l=sb(d.getElementsByTagName("input")),l=l.concat(sb(d.getElementsByTagName("select"))),l=l.concat(sb(d.getElementsByTagName("textarea"))),
b=[],a=a||!1,c={},e=!1,g,h=0,f=l.length;h<f;h++)g=l[h],(e="file"===g.type?ta(g,!0).valid:vb(g,!0,a))||b.push(g),"true"===g.getAttribute("data-capturecollection")&&!c[g.name]&&(c[g.name]=!0);janrain.events.onCaptureValidationComplete.fire({fieldsWithError:b});return 0===b.length}function ga(){}function ib(d){function a(d){S(d);(v?l:b)(d)}function l(d){S(d);p.style.display="none";v=!1}function b(){if(!v){var d=G||P;if(F.getMonth()!==d.getMonth()||F.getFullYear()!==d.getFullYear())F=new Date(d),o(F)}v=
!0;p.style.display="block"}function c(d){Sd(Q);for(var d=parseInt(d),a=K.getFullYear();a>=E.getFullYear();--a){var r=document.createElement("option");r.setAttribute("value",a);za(r,a);Q.appendChild(r)}Q.value=d}function e(){F.setMonth(R.value);F.setFullYear(Q.value);o(F)}function h(d){R.value=d.getMonth();d=d.getFullYear();Q.value=d}function f(d){return function(a){S(a);F.setMonth(F.getMonth()+d);a=F.getFullYear();(a<E.getFullYear()||a>K.getFullYear())&&F.setMonth(F.getMonth()-d);o(F)}}function m(d){d=
d.getDay();return A?(d-1+7)%7:d}function j(d){G=new Date(F);G.setDate(d);"object"===typeof x&&"INPUT"===x.nodeName&&(x.value=Na(X,G));l();C(G)}function i(d,a){return d.getDate()===a.getDate()&&d.getMonth()===a.getMonth()&&d.getFullYear()===a.getFullYear()}function n(d){return(i(d,E)||d>E)&&(i(d,K)||d<K)}function o(d){function a(d){S(d);var d=N(d),r=d.getAttribute("data-date");W&&q(W.parentNode).remove("capture_datePicker_selectedDate");q(d.parentNode).append("capture_datePicker_selectedDate");W=d;
j(r)}Sd(u);if(U)h(F);else{var r=Na($,d);Sd(w);za(w,r)}r=document.createElement("tr");r.className="capture_datePicker_daysOfTheWeekHeader";for(var l=0,b=z.length;l<b;l++){var B=document.createElement("th");za(B,z[l]);r.appendChild(B)}u.appendChild(r);var c=d.getMonth(),r=new Date(d),e,d=1;r.setDate(1);e=m(r);var l=document.createElement("tr"),ea=new Date(r),g=1-e;ea.setDate(g);for(b=0;b<e;++b){var B=document.createElement("td"),f=document.createElement("a");za(f,ea.getDate());B.appendChild(f);B.style.textAlign=
"right";f.setAttribute("data-date",g);f.href="#";B.className="capture_datePicker_prevMonthDay";l.appendChild(B);n(ea)?(q(B).append("capture_datePicker_day"),y(f,"click",a)):q(B).append("capture_datePicker_day_disabled");G&&i(ea,G)&&(q(B).append("capture_datePicker_selectedDate"),W=f);i(ea,M)&&q(B).append("capture_datePicker_today");ea.setDate(ea.getDate()+1);g++}for(;r.getMonth()===c;)B=document.createElement("td"),f=document.createElement("a"),f.setAttribute("data-date",d),f.href="#",za(f,d),n(r)?
(B.className="capture_datePicker_day",y(f,"click",a)):B.className="capture_datePicker_day_disabled",G&&i(r,G)&&(q(B).append("capture_datePicker_selectedDate"),W=f),i(r,M)&&q(B).append("capture_datePicker_today"),B.appendChild(f),l.appendChild(B),++e,6<e&&(e=0,u.appendChild(l),l=document.createElement("tr")),++d,r.setDate(d);b=m(r);d=new Date(r);d.setDate(d.getDate()-1);d=d.getDate()+1;if(0<b){for(b=m(r);7>b;++b)B=document.createElement("td"),f=document.createElement("a"),B.style.textAlign="right",
f.href="#",f.setAttribute("data-date",d),za(f,r.getDate()),B.appendChild(f),B.className="capture_datePicker_nextMonthDay",l.appendChild(B),n(r)?(q(B).append("capture_datePicker_day"),y(f,"click",a)):q(B).append("capture_datePicker_day_disabled"),G&&i(r,G)&&(q(B).append("capture_datePicker_selectedDate"),W=f),i(r,M)&&q(B).append("capture_datePicker_today"),r.setDate(r.getDate()+1),d++;u.appendChild(l)}}var k=d||{},p,w,qb,kc,Wa,u,z="Su,Mo,Tu,We,Th,Fr,Sa".split(","),A=!1,v=qb=!1,s,C=k.callback||function(){};
Wa=k.monthPreviousText;var D=k.monthNextText,x=k.targetElement,H=k.extraTargetElements||[],d=k.elementAttachedTo,L=k.openOnTargetElementFocus,O=k.provideOpenButton,J,I=!!k.hasCloseButton,M=new Date,E=void 0!==k.minimumSelectableDate?k.minimumSelectableDate:"1/1/"+(M.getFullYear()-100),K=void 0!==k.maximumSelectableDate?k.maximumSelectableDate:"12/31/"+(M.getFullYear()+30),U=k.monthAndYearSelectable,T=k.arrowKeyNavigation,R,Q,V=void 0!==k.defaultDate?k.defaultDate:new Date,P=V,F,G=k.preSelectedDate,
W,X=k.format||"{m}/{d}/{yyyy}",$=k.calendarTitleFormat||"{month} {yyyy}";F=new Date(P);rb(P)?(s=Td(P),P=new Date,P.setDate(P.getDate()+s)):"string"===typeof P&&(P=new Date(P));rb(E)?(s=Td(E),E=new Date,E.setDate(E.getDate()+s)):"string"===typeof E&&(E=new Date(E));rb(K)?(s=Td(K),K=new Date,K.setDate(K.getDate()+s)):"string"===typeof K&&(K=new Date(K));Ka(P)||(P=new Date);V=new Date(P);Ka(E)||(E=new Date("1/1/"+(M.getFullYear()-100)));Ka(K)||(K=new Date("12/31/"+(M.getFullYear()+30)));"undefined"===
typeof T&&(T=!0);s="January,February,March,April,May,June,July,August,September,October,November,December".split(",");k.monthNames&&12===k.monthNames.length&&(s=k.monthNames);k.weekStartsOnMonday&&(A=k.weekStartsOnMonday,qb=!0);k.daysOfWeek&&7===k.daysOfWeek.length&&(z=k.daysOfWeek,qb=!1);qb&&z.push.apply(z,z.splice(0,1));p=document.createElement("div");p.className="capture_datePicker_wrapper";k.additionalClasses&&(t(k.additionalClasses)&&(k.additionalClasses=k.additionalClasses.join(" ")),p.className+=
" "+k.additionalClasses);"object"===typeof x&&(q(x).append("capture_datePicker_targetElement"),G&&Ka(G)&&"INPUT"===x.nodeName&&(x.value=Na(X,G)),"undefined"===typeof d&&(d=x.parentNode));k=0;"object"===typeof d&&(q(d).append("capture_datePicker_mainTarget"),k=d.offsetHeight);ze(p,{display:"none",position:"absolute",top:k+"px",right:"0",zIndex:"100"});k=document.createElement("div");k.className="capture_datePicker_header";w=document.createElement("div");w.className="capture_datePicker_monthAndYearDisplayDiv";
qb=document.createElement("a");qb.setAttribute("href","#");qb.className="capture_datePicker_previousMonthButton capture_datePicker_monthButtons";kc=document.createElement("a");kc.setAttribute("href","#");kc.className="capture_datePicker_nextMonthButton capture_datePicker_monthButtons";k.appendChild(w);p.appendChild(k);if(U){R=document.createElement("select");Q=document.createElement("select");R.className="capture_datePicker_monthSelect";Q.className="capture_datePicker_yearSelect";for(var ba=F.getMonth(),
Z=0;12>Z;++Z){var aa=document.createElement("option");aa.setAttribute("value",Z);za(aa,s[Z]);R.appendChild(aa)}s=F.getFullYear();c(s);R.value=ba;Q.value=s;y(R,"change",e);y(Q,"change",e);w.appendChild(R);w.appendChild(Q)}Wa?za(qb,Wa):q(qb).append("janrain-icon-16").append("janrain-icon-back");D?za(kc,D):q(kc).append("janrain-icon-16").append("janrain-icon-forward");y(qb,"click",f(-1));y(kc,"click",f(1));k.appendChild(qb);k.appendChild(kc);Wa=document.createElement("table");Wa.className="capture_datePicker_monthTable";
Wa.style.width="100%";Wa.cellSpacing=0;Wa.cellPadding=0;u=document.createElement("tbody");Wa.appendChild(u);p.appendChild(Wa);I&&(I=document.createElement("div"),I.className="capture_datePicker_closeButton",I.style.textAlign="center",Wa=document.createElement("a"),Wa.href="#",za(Wa,"Close"),y(Wa,"click",l),I.appendChild(Wa),p.appendChild(I));O&&"object"===typeof d&&(J=document.createElement("span"),J.className="capture_datePicker_openButton janrain-icon-calendar janrain-icon-16",y(J,"click",a),d.appendChild(J));
o(P);L&&"object"===typeof x&&y(x,"focus",b);"object"===typeof x&&(y(x,"keydown",function(d){switch(d.keyCode){case se:case Fa:case Nd:l()}}),y(x,"keyup",function(){if("INPUT"===x.nodeName){var d=pd(X,x.value);Ka(d)&&n(d)&&(F=d,G=new Date(d),o(d))}}),y(x,"blur",function(){if("INPUT"===x.nodeName){var d=pd(X,x.value);Ka(d)||!n(d)?G?(F=new Date(G),j(G.getDate())):x.value="":(d=Na(X,G),d!==x.value&&(x.value=d))}}));y(document,"click",function(d){if(v){for(d=N(d);d;){if(d===p||d===x||d===J)return;for(var a=
0,r=H.length;a<r;++a)if(d===H[a])return;d=d.parentNode}l()}});y(document,"keydown",function(d){if(v)if(d.keyCode===Fa||d.keyCode===Nd)l();else if(T){var a={};a[te]=-1;a[ue]=-7;a[ve]=1;a[we]=7;d=a[d.keyCode]||0;0!==d&&(a=G?new Date(G):new Date(V),a.setDate(a.getDate()+d),n(a)&&(G=new Date(a),F=new Date(G),o(F),"object"===typeof x&&"INPUT"===x.nodeName&&(x.value=Na(X,G)),C(G)))}});"object"===typeof d&&d.appendChild(p);g&&7>=g&&"object"===typeof d&&ze(d,{position:"relative",zIndex:1});return{show:b,
hide:l,setSelectedDate:function(d){"object"===typeof d&&"function"===typeof d.getMonth&&(G=new Date(d),F=new Date(d),o(d));return this},getSelectedDate:function(){return G}}}function z(){}function jb(d){var a=Ba(),d=xa({flow_control:d,token:ia,capture_transactionId:a});i("/widget/control.jsonp",d);Ia(a)}function eb(d){var a=document.getElementById("captureIFrame_"+d);"yes"!==a.getAttribute("data-captureiframeloadeventbound")&&(a.setAttribute("data-captureiframeloadeventbound","yes"),y(document.getElementById("captureIFrame_"+
d),"load",na))}function T(d,a,l){if(!t(d)&&!a)return!1;t(d)||(d=[]);var b=d.length,c,e=new cb,g="",f=[],h=document.getElementById(l+a);if(!h)return!1;for(a=0;a<b;a++)if(c=o.fields[d[a]])c.fieldPrefix=l,c.name=c.elementName=d[a],g+=e.renderField(c),f.push(c.name);if(!g.length&&h)return h.innerHTML="",!1;h.innerHTML=g;a=0;for(b=f.length;a<b;a++)(d=document.getElementById(l+f[a]))&&y(d,"blur",Jb)}function Ab(){for(var d=Z.div.getElementsByTagName("select"),a=d.length,l=0;l<a;l++)d[l].getElementsByTagName("option")[d[l].selectedIndex].disabled&&
(q(d[l]).append("capture_disabled"),y(d[l],"change",function(){q(this).remove("capture_disabled")}))}function Eb(){y(document.body,"click",function(d){var a=N(d),a=[tb(a,"A"),tb(a,"BUTTON")];ha(a,function(a){if(a){var r=janrain.settings.capture.logoutLinksClass||"capture_end_session";q(a).has(r)&&(La(),S(d));r=a.getAttribute("data-capturescreen");a=a.getAttribute("data-captureuseruuid");r&&(a?Gc(r,a):(Q=!0,janrain.capture.ui.renderScreen(r)),S(d))}})})}function sa(){janrain.events.onProviderLoginToken.addHandler(function(d){if(d.janrainWidgetParameters&&
d.janrainWidgetParameters.widget_type&&"share"===d.janrainWidgetParameters.widget_type)return!1;if(d.linkAccounts)Xb(ya({provider:d.janrainWidgetParameters.provider},d));else{janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience,!0);mb&&(uc=Ea);Ea=d.token;Z.values=hc(Z.div.id);wc.push(Z);var d=cc(d.keepMeLoggedIn),a=d.capture_transactionId;i("/widget/token_url.jsonp",d);Ia(a);mb&&(mb=!1)}},!0);Uc=!0}function Xb(d){m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+
"/widget/profile.jsonp",elementId:"linkAccount_form",captureScreen:d.currentScreen,needsResponse:!0,callback:function(){d.callback&&d.callback();janrain.events.onCaptureProfileLink.fire({provider:d.provider,authProfile:Pe})},fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",elementType:"hidden",elementValue:d.token}]})}function na(d){var d=N(d),a=d.getAttribute("data-transactionId"),l=M.parse(d.getAttribute("next"));if("formClicked"===d.className){if(janrain.settings.capture.transactionTimeout&&
A(Qa,a))return!1;Mb(a,l)}}function Mb(d,a){i("/widget/get_result.jsonp",{transactionId:d,cache:(new Date).getTime()},function(){qa(function(){if(ca[d]){Ub(d);var l=ca[d];"success"===l.status?a&&Gb(a):aa("there was a problem with the response",l);return!0}return!1}).setDelay(50).setMaxAttempts(10).setFailCallback(function(){aa("could not find transaction status");k.warn("poll for transaction status failed. transaction id: "+d);return!1}).start()})}function Aa(d,a){var l=N(d).getAttribute("id").split("_")[3],
b=N(d),c=n(b),e=b.parentNode,g=q(e).has("capture_tab_toggle"),f=g?"capture_tab_toggle":"capture_radio_toggle",b=b.getAttribute("data-capture-tab-index");(new D).setUseLocalStorage(!0).setName("janrainCaptureSelectedTab").setValue(b).create();for(b=0;b<a.collection.length;b++)a.collection[b].elementName!==l&&(document.getElementById(c+a.collection[b].elementName).style.display="none");for(var f=$(f,document.getElementById(c+a.elementName)),h=f.length,b=0;b<h;b++)q(f[b]).remove("capture_toggled");q(e).append("capture_toggled");
document.getElementById(c+l).style.display="block";janrain.events.onCaptureContentChange.fire();g&&S(d)}function Pa(d,a,l,b){l=b?M.stringify(b):l;Ia(a);d.className="formClicked";d.setAttribute("next",l);janrain.settings.capture.transactionTimeout&&setTimeout(function(){-1===Ua.indexOf(a)&&(-1===Qa.indexOf(a)&&Qa.push(a),janrain.events.onCaptureTransactionTimeout.fire({transactionId:a}))},janrain.settings.capture.transactionTimeout)}function Vb(){var d,a,l,b,c,e,g=!1;return{setIframe:function(a){d=
a;return this},setTransactionId:function(d){a=d;return this},setNext:function(d){l=d;b=M.parse(l);return this},setForm:function(d){c=d;return this},setEvent:function(d){e=d;return this},dontSubmit:function(){return b?b.dontSubmit:!1},process:function(){a:if(b.conditional){for(var f=b.conditional,h=f.length,m=0;m<h;m++){var j;b:{j=f[m];var k=o.fields[j.field],k=n(c)+(k.elementId||k.elementName),k=document.getElementById(k);switch(j.compare){case "=":if(k.value===j.value){j=!0;break b}}j=void 0}if(j){g=
f[m];break}}g?g.nosubmit?(S(e),Gb(g.next)):Pa(d,a,l,g.next):Pa(d,a,l)}else if(b.dontSubmit){S(e);if(b.storeValues){f=$("capture_focused");Fe(f);if(!H(c))break a;f=ra(c.id);if(0<f.notUnique||0<f.pending||0<f.invalid)break a;hc(c.id,!0)}Gb(b)}else Pa(d,a,l)}}}function Kb(d){var a=N(d),l=a&&a.id?a.id:"",b=N(d).getAttribute("data-transactionId"),c=document.getElementById("captureIFrame_"+b),e=$("capture_focused"),f=!1;a.getAttribute("next")||a.setAttribute("next",'{"noop":""}');var h=a.getAttribute("next"),
m=new Vb;m.setNext(h);m.dontSubmit()&&(f=!0);if(0<e.length&&g&&f&&ie){var j={},i;for(i in d)j[i]=d[i];setTimeout(function(){Ge(a);Kb(j)},0)}else{ie=!0;if(!f&&("true"!==a.getAttribute("data-capturedomelement")||"true"===a.getAttribute("data-capturedomelementvalidate"))){nb||Wb(a);Z.values=hc(Z.div.id);if(H(a)){Fe(e);var n=!1;(function(){qa(function(){var b=ra(l);if(0<b.invalid)return S(d),nb||Oa(a),!0;if(0===b.pending)return n&&a.submit(),!0;S(d);n=!0;return!1}).setDelay(50).setMaxAttempts(400).setFailCallback(function(){k.warn("Poll to check form validations failed. Form id: "+
a.id);S(d)}).start()})()}else return nb||Oa(a),S(d),!1;n||(e=$e(a),h=ld(),e.parentNode.insertBefore(h,e),e.style.display="none")}f&&S(d);m.setIframe(c).setTransactionId(b).setForm(a).setEvent(d).process()}}function Wb(d){for(var d=Yb(d),a=0,l=d.length;a<l;a++)je.clearPlaceHolder(d[a])}function Yb(d){for(var a=[],l=sb(d.getElementsByTagName("input")),l=l.concat(sb(d.getElementsByTagName("textarea"))),d=0,b=l.length;d<b;d++)l[d].getAttribute("placeholder")&&l[d].getAttribute("placeholder").length&&
a.push(l[d]);return a}function Oa(d){for(var d=Yb(d),a=0,l=d.length;a<l;a++)je.restorePlaceHolder(d[a])}function Jb(d){ie=!1;d=db(d);vb(d,!1)}function vb(d,a,l){if(d.type&&("hidden"===d.type||"submit"===d.type||"file"===d.type)||!d.getAttribute("data-capturefield"))return!0;var b=d.getAttribute("data-capturerendererfield")?o.fields[d.getAttribute("data-capturerendererfield")]:o.fields[d.getAttribute("data-capturefield")],c=d.getAttribute("data-capturerendererchildfieldname"),e=c?b.elementName+"["+
c+"]":b.elementName,g=n(d),f,h;f=!1;if(b.validation)f=(f=b.validation[c])&&f.required?f.required:!1,h=b.validation.required||f;else return!0;f=d.id||d.name;if(!d.value&&!h)return delete pa[f],!0;if(pa[f]&&pa[f].status&&"pending"===pa[f].status||b.validation.type&&"server"===b.validation.type||c&&!b.validation[c]&&"dateselect"!==b.type)return!0;pa[f]=pa[f]||{};pa[f].element=d;pa[f].formId=d.form&&d.form.id?d.form.id:"";pa[f].status="pending";pa[f].postValidationActions=b.validation.actions||null;c=
"multiCheckbox"===b.element||"multiRadio"===b.element?document.getElementById(g+"form_collection_"+b.elementName):"dateselect"===b.type?document.getElementById(g+"form_item_"+b.name):document.getElementById(g+"form_item_"+e);l||q(c).append("capture_validating");e=new m.validation;e.setParentDiv(c);e.setElement(d);d=Wc.check(d,b,a);d.validation&&(e.setValidation(d.validation),pa[f].validation=d.validation);d.valid?(f=!0,l||(e.valid(b.validation.hideValidated),q(c).remove("capture_validating"))):d.pending?
(l||e.pending(),f=!0):(f=!1,l||(e.notValid(d.reason,d.type),q(c).remove("capture_validating")));return f}function Gb(d){wc.push(Z);if(d.noop)return!1;d.url&&(window.location.href=d.url);d.screen&&(new cb).setScreenData(d.screen,o.screens[d.screen]);if(d.action&&Z)janrain.capture.ui[d.action]();if(d["function"]&&"function"===typeof he[d["function"]])he[d["function"]]()}function Lb(d,a){var l={linkAccounts:!0,currentScreen:d,capture_transactionId:Ba()};janrain.engage&&janrain.engage.signin?(janrain.engage.signin.setNoReturnExperience(!0),
janrain.engage.signin.appendTokenParams(l,!0),janrain.engage.signin.triggerFlow(a)):console.log("Authentication widget not loaded on the page.")}function kb(){if(0===ke)return!1;var d=(new Date).getTime()-ke,d=Math.floor(d/1E3);if(60>d)return d+" seconds ago";d=Math.floor(d/60);if(1==d)return d+" minute ago";if(59>d)return d+" minutes ago"}function Za(d){dd=!0;d=document.getElementById(d);y(d,"submit",function(){Qe=(new Date).getTime()});clearInterval(Re);Re=setInterval(function(){if(!dd)return!1;
janrain.events.onCaptureAutoSaveUpdate.fire({durationSinceLastUpdate:kb()})},Vd)}function gb(d){if(d){var a=document.getElementById(d.get("id")),l=d.attributes;if(a&&("value"in l&&wa(l,"value")&&Qe<d.time&&("radio"===a.type||"checkbox"===a.type?(d=tb(a,"form").id,d=document.forms[d][a.name],d.length&&(d=Ae(d,{value:l.value})[0]),d.checked=l.checked):a.value!==l.value&&(a.value=l.value)),l.valid&&(d=qd(a,"capture_form_item"))&&q(d).append("capture_validated"),l.focused)){var b=function(){if(this.setSelectionRange){var d=
this.value.length+1;this.setSelectionRange(d,d)}else this.value=this.value;setTimeout(function(){xb(a,"focus",b)},10)};y(a,"focus",b);a.focus()}}}function Sa(d){d=N(d);""!==d.name&&P(d)}function P(d){setTimeout(function(){var a={id:d.id,name:d.name,value:d.value};if("radio"===d.type||"checkbox"==d.type)a.checked=d.checked;Qb.update(a);janrain.settings.capture.autoSave&&Da(d)},0)}function Da(d){clearTimeout(ed);return ed=setTimeout(function(){if(Ud(document.body,d)){var a=tb(d,"form").id,a=document.getElementById(a);
if(dd&&H(a,!0)){nb||Wb(a);a.submit();a.getAttribute("next");var l=a.getAttribute("data-transactionId"),b=document.getElementById("captureIFrame_"+l);(new Vb).setIframe(b).setTransactionId(l).setNext('{"noop": ""}').setForm(a).setEvent(null).process()}}},Wd)}function Zb(d){d=N(d);d.tagName.match(/select/i)&&clearTimeout(ed);Qb.update({id:d.id,focused:!0})}function pb(d){var a=N(d).id;setTimeout(function(){var d=Qb.get(a);d&&d.get("focused")&&d.set("focused",!1)},0)}function xa(d,a){var b=ya({js_version:Nb,
capture_screen:da,flow:o.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:Ad,settings_version:ka,locale:vc},d||{});janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&(b.bp_channel=Backplane.getChannelID());Bb&&(b.flow_path=Bb);if(t(a))for(var B=0,c=a.length;B<c;B++)b.hasOwnProperty(a[B])&&delete b[a[B]];return b}function cc(d){var a=xa({capture_screen:janrain.settings.capture.registerFlow||
"socialRegister",capture_transactionId:Ba()});Ea&&(a.token=Ea);uc&&(a.merge_token=uc,uc=null);d&&"true"===d&&(a.capture_keep_me_logged_in="yes");janrain.settings.capture.thinRegistration&&(a.thin_registration=!0);if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var d=janrain.settings.capture.dataDefaults,b;for(b in d)d.hasOwnProperty(b)&&"undefined"===typeof a[b]&&(a[b]=d[b])}return a}function ja(d){(new D).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(d).create()}
function Ya(){(new D).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(tc).create()}function lb(){var d=new D;d.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?d.getCookie("janrainFailedLogins",function(d){rb(d)&&(tc=parseInt(d,10))}):(d=d.getCookie("janrainFailedLogins"),rb(d)&&(tc=parseInt(d,10)))}function Ga(d){d=36E5*Rd-(d||0)+(new Date).getTime();return(new Date((new Date).setTime(d))).toUTCString()}function s(){clearTimeout(le);le=setTimeout(ac,1E4)}function $b(){if(janrain.settings.capture.federate&&
!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var d,a;cookie=new D;cookie.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)cookie.getCookie("janrainCaptureTokenRefresh",function(b){b&&(a=new Date,d=new Date(b),a.getTime()>d.getTime()?(k.info("SSO refresh_token, token needs refreshing, multi domain localStorage"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")):s())},!1);else{var b=cookie.getCookie("janrainCaptureTokenRefresh",null,
!1);b&&(a=new Date,d=new Date(b),a.getTime()>d.getTime()?(k.info("SSO refresh_token, token needs refreshing"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")):s())}}}function ac(){if(janrain.settings.capture.federate&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var d=new D;d.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?d.getCookie("janrainCaptureToken",function(d){d?$b():(k.info("SSO refresh_token, no token exists, multi domain localStorage"),
JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"))}):d.getCookie("janrainCaptureToken")?$b():(k.info("SSO refresh_token, no token exists"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"))}}function pc(d){var a=new D;a.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken").setValue(d);janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.create()}function qc(){var d=new D;d.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken");
janrain.settings.capture.cookieDomain&&d.setDomain(janrain.settings.capture.cookieDomain);d.remove()}function p(){var d=new D;d.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?d.getCookie("janrainCaptureTemporaryToken",function(d){d&&(ba(d),qc())}):d.getCookie("janrainCaptureTemporaryToken")&&(ba(d.getCookie("janrainCaptureTemporaryToken")),qc())}function ba(d,a,b){var B=Ga();ia=d;a?(janrain.settings.capture.federate&&ac(),janrain.events.onCaptureSessionCreated.fire({accessToken:d}),
janrain.events.onCaptureSessionFound.fire({accessToken:d})):(a=new D,a.setExpirationDirectly(B).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(ia),k.info("token set: "+ia),k.info("token expires: "+B),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.create(),janrain.settings.capture.federate&&(B=new D,a=Ga(),B.setUseLocalStorage(!0).setName("janrainCaptureTokenRefresh").setValue(a),k.info("refresh token at: "+a),janrain.settings.capture.cookieDomain&&
B.setDomain(janrain.settings.capture.cookieDomain),B.create(),ac()),$d&&(janrain.events.onCaptureLoginSuccess.fire({accessToken:d}),$d=!1),b?(k.info("create capture session from Federate refresh"),janrain.events.onCaptureFederateRefreshedToken.fire({accessToken:d})):janrain.events.onCaptureSessionCreated.fire({accessToken:d}))}function La(d){var a=new D,b=Ba(),B="function"===typeof janrain.settings.capture.federateLogoutCallback?janrain.settings.capture.federateLogoutCallback:function(){},c=function(){janrain.capture.ui.federateLogoutCallbackFired(b,
B)};a.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.remove();d||(ia="");janrain.settings.capture.keepProfileCookieAfterLogout||(a.setName("janrainCaptureProfileData"),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.remove());janrain.settings.capture.backplane&&"function"===typeof Backplane&&Backplane.resetCookieChannel();o&&Pb(o,!0);janrain.settings.capture.federate?
(clearTimeout(le),JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,logout_uri:janrain.settings.capture.federateLogoutUri},c),function(){qa(function(){return A(Ed,b)}).setDelay(500).setMaxAttempts(20).setFailCallback(function(){k.warn("Poll for check federate callback called failed. ssoLogoutTransactionId: "+b);aa("federatecallback not successful");Ed.push(b);B();janrain.settings.capture.federate=!1;k.warn("janrain.settings.capture.federate set to false");return!1}).start()}()):
Dd&&B();janrain.events.onCaptureSessionEnded.fire()}function bc(){var d=new D;d.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)d.getCookie("janrainCaptureToken",function(d){d?ba(d,!0):janrain.events.onCaptureSessionNotFound.fire();K=!0});else{if(d.getCookie("janrainCaptureToken"))return ba(d.getCookie("janrainCaptureToken"),!0),!0;janrain.events.onCaptureSessionNotFound.fire();return!1}}function rc(d){k.info("fire Federate delayed events");var a=ca[d];if(d=a.fireEvent)t(d)||(d=
[d]),F(d,function(d,b){janrain.events[b]&&("onCaptureLoginSuccess"===b&&Id||janrain.events[b].fire(a))})}function Ac(d,a){k.info("set Federate login");JANRAIN.SSO.CAPTURE.set_login({code:d,transaction_id:a,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});k.info("SSO set_login at "+new Date);(function(){qa(function(){return Ob[a]&&Ob[a].setLoginSuccess}).setDelay(500).setMaxAttempts(10).setFailCallback(function(){k.warn("Poll for set federate login failed. transactionId: "+
a);aa("set login not successful");Ob[a].eventFiredDueToSlowResponse=!0;rc(a);janrain.settings.capture.federate=!1;Dd=!0;k.warn("janrain.settings.capture.federate set to false");return!1}).start()})()}function Bc(d){k.info("check Federate for session at "+new Date);d||(d={});var a=Ba(),b={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,response_method:d.response_method||"jsonp",response_type:janrain.settings.capture.responseType,redirect_uri:janrain.settings.capture.redirectUri,
widget_parameters:M.stringify(xa({capture_transactionId:a},["client_id"])),transaction_id:a,logout_uri:janrain.settings.capture.federateLogoutUri,nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver,refresh:!1};janrain.settings.capture.federateSegment&&(b.segment=janrain.settings.capture.federateSegment);janrain.settings.capture.federateSupportedSegments&&t(janrain.settings.capture.federateSupportedSegments)&&(b.supported_segments=janrain.settings.capture.federateSupportedSegments.join("-"));
janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&(b.bp_channel=Backplane.getChannelID());var c=new D;c.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?c.getCookie("janrainCaptureTokenRefresh",function(d){d?(currentTime=new Date,expireTime=new Date(d),currentTime.getTime()>expireTime.getTime()?"true"===janrain.settings.capture.federateNoRefresh?(b.refresh=!1,k.info("token refresh expired, federateNoRefresh is `true`, Federate refresh is false, multi domain localStorage")):
(b.refresh=!0,k.info("token refresh expired, Federate refresh is true, multi domain localStorage")):(b.refresh=!1,k.info("token not expired, Federate refresh set false"))):(c.getCookie("federateLimitRefresh")||(b.refresh=!0,c.setExpiration(1/24/60).setName("federateLimitRefresh").setValue("true").create()),k.info("no token refresh time found, force Federate refresh true, multi domain localStorage"))},!1):(d=c.getCookie("janrainCaptureTokenRefresh",null,!1))?(currentTime=new Date,expireTime=new Date(d),
currentTime.getTime()>expireTime.getTime()?"true"===janrain.settings.capture.federateNoRefresh?(b.refresh=!1,k.info("token refresh expired, federateNoRefresh is `true`, Federate refresh is false")):(b.refresh=!0,k.info("token refresh expired, Federate refresh is true")):(b.refresh=!1,k.info("token not expired, Federate refresh set false"))):(c.getCookie("federateLimitRefresh")||(b.refresh=!0,c.setExpiration(1/24/60).setName("federateLimitRefresh").setValue("true").create()),k.info("no token refresh time found, force Federate refresh true"));
k.info("SSO check_login at "+new Date);JANRAIN.SSO.CAPTURE.check_login(b);Ia(a);(function(){qa(function(){return-1<Ua.indexOf(a)}).setDelay(500).setMaxAttempts(10).setFailCallback(function(){k.warn("Poll for check federate login failed. transactionId: "+a);aa("check login not successful");janrain.settings.capture.federate=!1;k.warn("janrain.settings.capture.federate set to false");Dd=!0;bc();K=!0;return!1}).start()})()}function Cc(){var d=janrain.settings.capture.redirectFlow,a="transactionId"in lc,
b=Ja.capture_complete_social_registration;janrain.settings.capture.federate&&Bc();Ja.jr_otp&&m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/otp_signin",name:"janrainOTPPost",needsResponse:!0,fieldPrefix:"janrain_otp_",fields:[{elementType:"hidden",elementName:"jr_otp",elementValue:Ja.jr_otp}]});bc();K=!0;d&&a?(location.hash=location.hash.replace(RegExp("[&,]*transactionId="+lc.transactionId),""),Mb(lc.transactionId)):b&&ba(b);lc.access_token&&($d=!0,
ba(lc.access_token))}function Dc(d,a){var b=d["if"].compare;if(!b||0>b.indexOf(":"))return!1;switch(b.split(":")[0]){case "cookie":var c=b.split(":")[1],b=new D;b.setUseLocalStorage(!0);"janrainLastAuthMethod"===c&&!Yc&&(Yc=da);if(janrain.settings.multiDomainLocalStorage)b.getCookie(c,function(b){e&&"janrainLastAuthMethod"===c&&(Gd=!0);Tb(ec(d["if"],b)?d.then:d["else"],a)});else{var e=b.getCookie(c);e&&"janrainLastAuthMethod"===c&&(Gd=!0);Tb(ec(d["if"],e)?d.then:d["else"],a)}break;case "session":b=
b.split(":")[1],"boolean"===typeof d["if"].to&&(d["if"].to+=""),"exists"===b&&Tb(ec(d["if"],!!ia+"")?d.then:d["else"],a)}}function ec(d,a){var b=rb(a)?parseInt(a,10):a,c,e=rb(d.to)?parseInt(d.to,10):d.to;switch(d.withOperator){case "===":c=e===b;break;case "!==":c=e!==b;break;case "==":c=e==b;break;case "!=":c=e!==b;break;case ">":c=b>e;break;case "<":c=b<e}return c}function Tb(d,a){!d&&"function"===typeof a&&a();if(!d)return!1;if("undefined"===typeof d["if"]){if(d.render){var b=d.render.screen,c=
o.screens[b];(new cb).setScreenData(b,c)}}else Dc(d,a)}function gc(d){if(!d)return!1;"undefined"!==typeof janrain.settings.capture.hideSavedProfileMessageDelay&&setTimeout(function(){d&&(d.style.display="none")},janrain.settings.capture.hideSavedProfileMessageDelay)}function fc(){for(var d="",a=[],b=0;10>b;b++)d=ua(40),a.push(d);return a}function Sb(d){if(!t(d))return!1;for(var a=d.length,b=0;b<a;b++){var c=d[b];-1===Kd.indexOf(c)&&Kd.push(c)}}function Ba(){var d=Kd.pop();0===Kd.length&&Sb(fc());
-1===wd.indexOf(d)&&wd.push(d);return d}function Ia(d){var a=wd.indexOf(d);-1<a&&wd.splice(a,1);-1===Ta.indexOf(d)&&Ta.push(d)}function Ub(d){var a=Ta.indexOf(d);-1<a&&Ta.splice(a,1);-1===Ua.indexOf(d)&&Ua.push(d)}function ub(d){return janrain.settings.capture.federate&&d.sso&&d.ssoCode}function Cb(d,a){d.fireEvent=a;Ob[d.transactionId]=d;Ac(d.ssoCode,d.transactionId)}function xc(d){if(d.status){ca[d.transactionId]=d;"photoUploaded"===d.statusMessage&&janrain.events.onCapturePhotoUploadSuccess.fire();
if(d.userData){if(janrain.settings.capture.setProfileCookie){var a=d.userData,b=Ga();(new D).setExpirationDirectly(b).setUseLocalStorage(!0).setName("janrainCaptureProfileData").setValue(M.stringify(a)).create();janrain.events.onCaptureProfileCookieSet.fire(a)}if(janrain.settings.capture.returnExperienceUserData&&(a=janrain.settings.capture.returnExperienceUserData,b=d.userData,t(a))){for(var c=a.length,e={},f=0;f<c;++f)e[a[f]]=Ca(b,a[f]);(new D).setExpiration(1826).setUseLocalStorage(!0).setName("janrainCaptureReturnExperienceData").setValue(M.stringify(e)).create()}}"success"===
d.status?janrain.events.onCaptureSaveSuccess.fire(d):janrain.events.onCaptureSaveFailed.fire(d);(a=Se[d.action])&&a(d)}}function yc(){if("object"!==typeof x)return!1;oa.modalConfirmText&&x.setConfirmMessageText(oa.modalConfirmText);oa.modalConfirmLinkText&&x.setConfirmLinkText(oa.modalConfirmLinkText);oa.modalCancelLinkText&&x.setCancelLinkText(oa.modalCancelLinkText)}function Rb(d,a,b,c){if(!ob[d]||!ob[d].custom)ob[d]={},ob[d].html='<div class="'+a+'">'+(oa[d]||b)+"</div>",ob[d].screen=c}function Ec(d,
a){var b=[];F(ob,function(d){b.push(d)});A(b,d)&&(ob[d].html=a,ob[d].custom=!0)}function zc(d){o=d;o.flow=E();"undefined"===typeof Jd&&(Jd=d);Te();"object"!==typeof o.layouts&&(o.layouts={});"object"!==typeof o.layouts.captureAccessDeniedBuiltIn&&(o.layouts.captureAccessDeniedBuiltIn={});o.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:ob.accessDenied.html;"object"!==typeof o.layouts.captureRetrievingUserDataBuiltIn&&
(o.layouts.captureRetrievingUserDataBuiltIn={});o.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:ob.retrievingUserData.html;"object"!==typeof o.layouts.captureDialogBuiltIn&&(o.layouts.captureDialogBuiltIn={});o.layouts.captureDialogBuiltIn.html=ob.dialog.html;o.screens.janrainDialog=ob.dialog.screen;for(d=0;d<Zc.length;d++)o.fields[Zc[d].field][Zc[d].attribute]=Zc[d].value}
function nc(d){if(X.isCloneable(d))for(var a in d)if(wa(d,a)){var b=d[a];X.isCloneable(b)&&nc(b);if(fb(b)&&"settings"===b.valueSource&&"undefined"!==typeof b.key&&"undefined"!==typeof b["default"]){var c=vd[b.key];"undefined"===typeof c&&(c=b["default"]);d[a]=c}}}function Hc(d){var a={},b=!1;F(d.fields,function(c,e){void 0!==e.value&&!d.fields[e.value]&&(void 0!==Bd[c]&&!Ee(Bd[c],e.value)&&(b=!0,a[c]={oldValue:Bd[c],newValue:e.value}),Bd[c]=e.value)});b&&janrain.events.onCaptureFieldsChanged.fire(a)}
function Pb(d,a){F(d.fields,function(b,c){if((!d.form||a)&&c.doNotPrePopulate)c.value=""})}function aa(){Xd.push(arguments);if(window.console){var d=arguments;d.callee=d.callee.caller;d=[].slice.call(d);g?console.log(d):console.log.apply(console,d)}}function cb(){function d(d,a,b){a&&a.screenConditionals?Tb(a.screenConditionals,b):"function"===typeof b&&b()}function a(d){janrain.events.onCaptureAccessDenied.fire();Ra=!0;be="accessDenied";f({layout:"captureAccessDeniedBuiltIn",modal:d.modal,source:"server"})}
function b(d){var a,r=Ba();switch(d){case "email":(d=Ja&&Ja.verification_code?Ja.verification_code:"")?(a=xa({capture_transactionId:r,verification_code:d}),i("/widget/email_code.jsonp",a),Ia(r),aa("need to verify "+d)):aa("no code supplied");break;case "password":(d=Ja&&Ja.code?Ja.code:"")?(aa("need to verify "+d),a=xa({capture_transactionId:r,code:d}),i("/widget/email_code.jsonp",a),Ia(r)):aa("no code supplied");break;case "reactivate":(d=Ja&&Ja.reactivation_code?Ja.reactivation_code:"")?(aa("need to verify "+
d),a=xa({capture_transactionId:r,reactivation_code:d}),i("/widget/reactivate_account.jsonp",a),Ia(r)):aa("no code supplied")}Ue=!0}function B(d){d&&(Mc=d.validateOnRender);if(!Ue){if(d&&"changePasswordLink"===d.dataType&&!d.errors)return b("password"),!1;if(d&&"verifyEmail"===d.dataType&&!d.errors)return b("email"),!1;if(d&&"reactivateAccount"===d.dataType&&!d.errors)return b("reactivate"),!1}var c=d.dataType&&"public"===d.dataType;if(d&&d.hasUserData&&!o.fused||d&&d.hasUserData&&c&&!o.privacyFiltered)return c=
d.dataType&&"public"===d.dataType,!ia&&!c?a(d):(Ra=!0,be="retrievingUserData",f({layout:"captureRetrievingUserDataBuiltIn",modal:d.modal,source:"server"}),ic(c)),h(),!1;if(!ia&&d&&d.requireAccessToken)return a(d),h(),!1;Ra=!1;f(d);h();Gd&&(Gd=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))}function e(a,b){if(fe)setTimeout(function(){e(a,b)},50);else{b&&b.type&&"completeSocialRegistration"===b.type&&(Id=!0);if(hb&&b&&(o.noModalForMobile||
b.noModalForMobile))b.modal=!1;if(hb&&b&&(o.modalForMobile||b.modalForMobile))b.modal=!0;K?(da=a,O="capture_"+da+"_",d(a,b,function(){B(b)})):setTimeout(function(){e(a,b)},50)}}function f(d){if(Z&&Z.div&&(!d.modal||Z.modal&&d.modal)&&!d.keepPreviousScreen)Z.div.style.display="none";var a=d.layout,b=d.source,r=d.modal,d=!!d.modalLoadOnLoad;if("server"===b){var l=document.getElementById(a);l||(l=document.createElement("div"),l.setAttribute("id",a));try{sc[a]?Y.html=sc[a]:(Y.html=o.layouts[a].html,sc[a]=
Y.html)}catch(c){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===b)try{if(l=document.getElementById(a))sc[a]&&!1!==janrain.settings.capture.saveLayouts?Y.html=sc[a]:(Y.html=l.innerHTML,sc[a]=Y.html);else throw Y.html="",fa(a);}catch(B){throw aa(B.name+": "+B.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");}q(l).append("janrain-capture-ui").append("capture-ui-content").append("capture_screen_container");
hb&&(q(l).append("janrain-capture-ui-mobile"),va.onOrientationChange.addHandler(function(d){q(l).append("janrain-capture-ui-mobile-"+d.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[d.orientation]);janrain.events.onCaptureContentChange.fire()},!0),va.onOrientationChange.fire({orientation:va.getOrientation()}));Y.div=l;Ra||Y.div.setAttribute("data-capturescreenname",da);bb&&"captureRetrievingUserDataBuiltIn"!==bb.id&&!Z.modal&&r&&(Rc=bb);bb=Y.div;Y.modalLoadOnLoad=
d;Y.source=b;Y.modal=r;Z=Y;"undefined"===typeof ge[da]&&(ge[da]={});ge[da].layout=Y}function g(d,a){var b=d.element,r=d.type;A(["data","capture","widget"],d.element)||(b="html",r=d.element);if("object"===typeof d.displayCondition&&"undefined"!==typeof d.displayConditionPassed&&!1===d.displayConditionPassed)return!1;if(d.close)return v.render.html.close(d);if(v.render[b]&&v.render[b][r])return k.log("jtl","Rendering {* "+r+" *}, type: "+b+"."+r),v.render[b][r](d,a);b='Invalid JTL tag "'+d.name+'" with element "'+
d.element+'"';d.type&&(b+=' and type "'+d.type+'"');k.forceError(b);return!1}function h(){fe=!0;janrain.events.onCaptureRenderStart.fire(o);Ma=[];o.fields.submitButton||(o.fields.submitButton={element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",elementName:"capture_submit",value:"Submit"});o.fields.loginWidget||(o.fields.loginWidget={element:"widget",type:"login"});o.fields.shareWidget||(o.fields.shareWidget={element:"widget",type:"share"});o.fields.backButton||(o.fields.backButton=
{element:"capture",type:"backButton",name:"capture_back",value:""});o.fields.captcha||(o.fields.captcha={element:"capture",type:"captcha"});o.fields.keepMeLoggedIn||(o.fields.keepMeLoggedIn={element:"capture",type:"keepMeLoggedIn"});o.fields.errorMessages||(o.fields.errorMessages={element:"capture",type:"errorMessages"});o.fields.savedProfileMessage||(o.fields.savedProfileMessage={element:"capture",type:"savedProfileMessage"});Y.originalHtml=Y.html;Y.flow=o;Y.html=m(Y.html);Y.div.innerHTML=Y.html;
if("server"==Y.source){if(!document.getElementById("janrainCaptureWidget")){var d=document.createElement("div");d.id="janrainCaptureWidget";document.body.appendChild(d)}document.getElementById("janrainCaptureWidget").appendChild(Y.div)}if(!Ra){for(var d=0,a=yd.length;d<a;d++)vb(document.getElementById(yd[d]),!1);yd=[]}n();j();for(d=0;d<Ma.length;d++){a=document.getElementById(O+Ma[d].elementName);if(!a){k.forceError("Couldn't find the \""+Ma[d].elementName+'" form. Is it being placed inside another form?');
break}Ma[d].next&&Ma[d].next.type&&"server"===Ma[d].next.type?a.setAttribute("next",'{"noop":""}'):Ma[d].next?(Ma[d].next.conditional&&a.setAttribute("next",M.stringify(Ma[d].next)),Ma[d].next.screen&&a.setAttribute("next",M.stringify(Ma[d].next)),Ma[d].next.url&&a.setAttribute("next",M.stringify(Ma[d].next)),Ma[d].next.action&&a.setAttribute("next",M.stringify(Ma[d].next))):a.setAttribute("next",'{"noop":""}')}s();Z=Y;janrain.events.onCaptureContentChange.fire()}function m(d){for(var a=/\{\*(.*?)\*\}/,
b=/^\s*\/\s*/,r=/^\s*#\s*/,l=/\{(.*?)*\}\s*/,c=!1,B,e=[],f=[];B=a.exec(d);)try{var ea=B[1].trim();if(l.test(ea))var h=ea.match(l),ea=ea.replace(h[0],"").trim(),Md=h[0].match(/\{(.*?)*\}\s*/)[0];else Md=null;c=!1;r.test(ea)&&(ea=ea.replace("#","").trim(),c=!0);if(b.test(ea)){var j=ea.replace("/",""),i={};if("undefined"==typeof o.fields[j])return aa("No field definition for"+j,"error"),k.error("No field definition for"+j+" error"),C;i.element=o.fields[j].element;i.type=o.fields[j].type;i.close=!0}else{if("undefined"==
typeof o.fields[ea])return aa("No field definition named "+ea+" for tag "+B[0],"error"),k.error("No field definition named "+ea+" for tag "+B[0]+" error"),C;i=o.fields[ea];i.name=ea;c&&(i.start=!0);if("form"===i.element&&!i.transactionId){var n=Ba();i.transactionId=n}i.elementName=i.elementName||ea}var Md=Md||null,jc=g(i,Md);jc||(jc=" ");jc+="";jc=jc.replace(/\$/g,"$$$$");d=d.replace(B[0],jc);(i.next||"form"===i.element&&!i.close)&&Ma.push({elementName:i.elementName,next:i.next});i.onclickHandler&&
w.push({elementName:i.elementName,handler:i.onclickHandler,eventType:"click"});i.onchangeHandler&&w.push({elementName:i.elementName,handler:i.onchangeHandler,eventType:"change"});"string"===typeof i.element&&"form"===i.element&&!i.close&&(w.push({elementName:i.elementName,handler:Kb,eventType:"submit"}),janrain.settings.capture.autoSave&&!hb&&w.push({elementName:i.elementName,handler:Za,eventType:"render"}));if("form"===i.element&&("widget/traditional_register.jsonp"===i.action||"widget/social_register.jsonp"===
i.action))f.push("widget/traditional_register.jsonp"===i.action?"traditionalRegister":"socialRegister");if("form"===i.element&&"widget/traditional_signin.jsonp"===i.action||"widget"===i.element&&"login"===i.type)e.push("widget/traditional_signin.jsonp"===i.action?"traditionalSignin":"socialSignin")}catch(q){return aa(q.name+": "+q.message,"error"),!1}e.length&&janrain.events.onCaptureLoginStart.fire({action:e.join(","),screen:da});f.length&&janrain.events.onCaptureRegistrationStart.fire({action:f.join(","),
screen:da});return d}function j(){Y.div.getAttribute("data-captureventadded")||(y(Y.div,"click",function(d){var a=N(d);if(a&&a.nodeName&&"A"===a.nodeName){var b=a.getAttribute("data-capturecontrol");b&&(jb(b),S(d));a.getAttribute("data-cancelcapturereturnexperience")&&Yc&&(janrain.capture.ui.setNoReturnExperience(),S(d));if((a=a.getAttribute("data-modalwindow"))&&"object"===typeof x)"close"===a&&(janrain.capture.ui.modal.close(),S(d)),"closeconfirm"===a&&(janrain.capture.ui.modal.closeConfirm(),S(d))}}),
Y.div.setAttribute("data-captureventadded",!0));for(var d=Y.div.getElementsByTagName("img"),a=d.length,b=0;b<a;b++)y(d[b],"load",function(){janrain.events.onCaptureContentChange.fire()});d=$(janrain.settings.capture.modalOpenClass||"capture_modal_open");a=d.length;if(!Ne){for(b=0;b<a;b++)y(d[b],"click",function(d){"object"===typeof x?(janrain.capture.ui.renderScreen(Z.flow.defaultScreen),x.setShowContentOnLoad(!0).addContent(Z.div).show(),Q=!1,janrain.events.onCaptureScreenShow.fire({screen:da}),
janrain.events.onCaptureContentChange.fire()):Me=!0;S(d)});Ne=!0}}function n(){if(o.cssDependencies&&t(o.cssDependencies))for(var d=0;d<o.cssDependencies.length;d++)W(o.cssDependencies[d]);de&&Ld&&!u?jf(janrain.events.onCssLoad,function(d){Y=Z;me.push(d.source);for(d=0;d<de;d++)if(-1==me.indexOf(xd[d]))return!1;u||(p(),u=!0)}):p();fe=!1;d={flow:o,renderingBuiltInScreen:Ra,screen:da};Ra&&(d.builtInScreenRendered=be);janrain.events.onCaptureRenderComplete.fire(d);o.screens&&o.screens[da]&&o.screens[da].type&&
"completeSocialRegistration"===o.screens[da].type&&(pc(ia),La(!0))}function p(){var d=!1,a=!1;if(Y.modal){if("object"===typeof x){var d=!0,b=x.getContent();b&&document.body.appendChild(b);x.close(!0)}else x=new sd,yc();Le||(a=!0,janrain.events.onModalClose.addHandler(function(){o&&o.mergeToken&&(o.mergeToken="");bb=Rc},!0),Le=!0);x=c(x);x.setShowContentOnLoad(!0).addContent(Y.div);a&&janrain.events.onCaptureModalReady.fire();if(d||Y.modalLoadOnLoad||Me||Q)x.show(),Q=!1,janrain.events.onCaptureScreenShow.fire({screen:da})}else"object"===
typeof x&&x.close(!0),Q=!1,janrain.events.onCaptureScreenShow.fire({screen:da});Y.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function s(d){for(var d=d||w,a=0;a<d.length;a++)if("function"===typeof d[a].handler)if("render"===d[a].eventType)d[a].handler(O+d[a].elementName);else{var b=document.getElementById(O+d[a].elementName);y(b,d[a].eventType,d[a].handler)}w=[]}var Y={},v,C=oa.humanReadableGenericErrorMessage||"Error displaying information";v=new z;Wc=new ga;return{setScreenData:e,
render:h,renderField:g,attachEventHandlers:s}}function hc(d,a){for(var b=[],c=document.getElementById(d).getElementsByTagName("INPUT"),e=c.length,f=0;f<e;f++){var g={};g.id=c[f].id;g.placeholder=c[f].getAttribute("placeholder");if(Pc||a)Xc[c[f].getAttribute("data-capturefield")]=c[f].value;g.value=g.placeholder?g.placeholder===c[f].value?"":c[f].value:c[f].value;"radio"===c[f].type&&(g.type="radio",g.checked=c[f].checked);b.push(g)}return b}function ic(d,a){var b="function"===typeof a?a:function(){};
if(d){var c=fd||Ja.uuid||"";fd&&(fd="");c?(aa("need to get data for "+c),m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:b,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"},{elementName:"uuid",elementType:"hidden",elementValue:c}]})):aa("no uuid supplied")}else{if(!ia)return!1;m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+
"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:b,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function i(d,a,b){0!==d.indexOf("http")&&(d=janrain.settings.capture.captureServer+d);ma(od(d,a),b)}function C(d,a){var b={},c=d&&d.userData&&d.userData.migratedUserType?d.userData.migratedUserType:null,e=a?Qc:$c;Ea&&!a&&(b.capture_social_registration=Ea);ia&&a&&(b.capture_complete_social_registration=ia);ne&&(b.authProvider=ne);c&&(b.migratedUserType=
c);La();var c=e,e=location,f=c;c.match(/^http[s]*:\/\//)||(f=e.pathname.split("/"),f.length-=1,f.push(c),f=e.protocol+"//"+e.host+f.join("/"));b=od(f,b);window.location=b}function Jc(d,a){var b=!1,c;if("ok"===d.stat&&(c=d.result,c.accessToken&&(c.oneTime?J=c.accessToken:(ba(c.accessToken),J=null)),c&&xc(c),ne=c&&c.authProvider?c.authProvider:null,Pe=c&&c.authProfileData?c.authProfileData:{},c&&c.screen&&o.screens&&o.screens[c.screen]&&o.screens[c.screen].type&&"completeSocialRegistration"===o.screens[c.screen].type&&
p(),"socialSignin"===c.action&&"success"===c.status&&"noUserForIdentifier"===c.statusMessage||"socialSignin"===c.action&&"success"===c.status&&janrain.settings.capture.socialRegistrationRedirectUrlCondition)){var e=janrain.settings.capture.socialRegistrationRedirectUrlCondition;if(e){var f=[];F(e,function(d,a){c[d]===a||c.userData&&c.userData[d]===a?f.push(!0):f.push(!1)})}$c&&"noUserForIdentifier"===c.statusMessage&&(b=!0,C(c));Qc&&e&&!A(f,!1)&&(b=!0,C(c,!0))}"function"===typeof a&&!b&&a(c)}function Lc(d){function a(d){return'<li><a href="#" class="capture_suggestion">'+
d+"</a></li>"}var b=d.result,d=n(b.submittedScreen),c=o.fields[b.field],e=document.getElementById(d+(c.elementId||c.elementName||b.field)),f=b.alternatives,g=c.validation.messages.unique||"",h=document.getElementById(d+"form_item_"+(c.elementName||b.field)),i=new m.validation;i.setElement(e);i.setParentDiv(h);if(!1===b.unique){if(f){var f=f.map(a),j=function(d){var a=N(d);q(a).has("capture_suggestion")&&(e.value=a.innerHTML,xb(h,"click",j),i.valid(),S(d))};i.notValid(g+'<ul class="capture_suggestions">'+
f.join("")+"</ul>",function(){y(h,"click",j)})}else i.notValid(g);i.setUnique(!1)}else{if(b=Ca(c,"validation.unique.alongWith"))(d=document.getElementById(d+"form_item_"+o.fields[b].elementName))&&q(d).append("capture_validated").remove("capture_validating").remove("capture_error");i.valid();i.setUnique(!0)}}function Nc(d){var a=[];o&&o.fields&&F(o.fields,function(b,c){c&&c.type&&c.type===d&&a.push(c)});return a}function Oc(d,a){janrain.events.onCaptureError.fire("object"===typeof d?d:"{"+d+"}");
if(d.result&&d.result.error&&("access_token_expired"===d.result.error&&(La(),janrain.events.onCaptureExpiredToken.fire()),"invalid_argument"===d.result.error&&"malformed access token"===d.result.errorDescription&&(La(),janrain.events.onCaptureInvalidToken.fire()),"linkError"===d.result.error)){var b=Nc("linkAccounts"),c=b.length?b[0]:{},b=c.messages&&c.messages.errors&&c.messages.errors.linkError?c.messages.errors.linkError:"That account is already in use.",e=D().getCookie("expected_tab");if(x&&x.isOpen()&&
(c=c&&c.linkAccountContainer?$("capture_"+c.linkAccountContainer,document.getElementById("janrainModal")):!1)){for(var f=$("capture_form_error_container",c[0]),c=0,g=f.length;c<g;c++)f[c].innerHTML='<div class="capture_form_error">'+b+"</div>";var h=janrain.events.onModalClose.addHandler(function(){ha(f,function(d){d.innerHTML=""});janrain.events.onModalClose.removeHandler(h)})}janrain.events.onCaptureLinkAccountError.fire({message:b,provider:e})}janrain.settings.custom||janrain.engage.signin.widget.refresh();
b=d.result.customError||d.result.error+": "+d.result.errorDescription;Tc(b,d.result.error)||alert(b);aa(d);"function"===typeof a&&a()}function Tc(d,a){if(bb){var b={classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()};a&&b.classes.push("capture_errortype_"+a.replace(/ /g,"").toLowerCase());b=m.domHelpers.createDiv(b);b.innerHTML=d;bb.insertBefore(b,bb.firstChild);janrain.events.onCaptureContentChange.fire()}return bb}function Vc(d,a){if("string"!==typeof d||!janrain.settings.capture.setProfileCookie)return!1;
var b=new D,c;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureProfileData",function(b){b.length&&(c=M.parse(b),"function"===typeof a&&"object"===typeof c&&a(c[d]))});else if((b=b.getCookie("janrainCaptureProfileData"))&&b.length)if(c=M.parse(b),"object"===typeof c)return c[d]}function jd(d,a){if("string"!==typeof d||!janrain.settings.capture.returnExperienceUserData)return!1;var b=new D,c;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureReturnExperienceData",
function(b){b.length&&(c=M.parse(b),"function"===typeof a&&"object"===typeof c&&a(c[d]))});else if((b=b.getCookie("janrainCaptureReturnExperienceData"))&&b.length)if(c=M.parse(b),"object"===typeof c)return c[d]}function Fc(d){var a=D();return A(["expected_tab","welcome_info_name","login_tab"],d)&&(d=a.getCookie(d))?unescape(d):""}function ld(){var d=document.createElement("div");d.className="capture_btn capture_processing";d.innerHTML=oa.processing||"Processing";return d}function Gc(d,a){o&&d&&a&&
o.screens&&o.screens[d]&&o.screens[d].dataType&&"public"===o.screens[d].dataType?(!o._uuid||o._uuid&&o._uuid!==a||!o.privacyFiltered?(fd=a,o.fused=!1):fd="",Q=!0,janrain.capture.ui.renderScreen(d)):aa("Cannot get public flow and show screen.")}function nd(d,a){if(!d)throw Error("postCaptureForm requires you supply a form name.");var b=o.fields[d];if(!b)throw Error("postCaptureForm Error: no form called "+d+" found in the flow.");if(!b.element||"form"!==b.element)throw Error("postCaptureForm Error: the field called "+
d+" found in the flow is not a form.");var c=b.fields;if(!c)throw Error("postCaptureForm Error: the form called "+d+" has no fields defined.");for(var b=b.action,e=ua(40),f={},g={fieldPrefix:"capture_postForm_"+e+"_",elementId:d,name:d,fields:[],elementAction:janrain.settings.capture.captureServer+"/"+b,needsResponse:!0},b=0,h=c.length;b<h;b++){var i={};if(a)i.elementValue=a[c[b]];else{var j=Qb.getByName(c[b]);i.elementValue=j?j.getValue():void 0}"undefined"!==typeof i.elementValue&&(f[c[b]]=!0,i.elementType=
"hidden",i.fieldPrefix=g.fieldPrefix,i.elementId=c[b]+"_"+e,i.elementName=i.name=c[b],g.fields.push(i))}F(a,function(d,a){if(!f[d]){var b=d.match(/(.*)\[(.*)\]/),r=d;b&&(r="display"===b[1]?b[2]:b[1]);if(A(c,r))g.fields.push({elementType:"hidden",fieldPrefix:g.fieldPrefix,elementValue:a,elementId:d+"_"+e,elementName:d,name:d});else throw Error('postCaptureForm Error: No field named "'+r+'" found in the flow.');}});m.domHelpers.createFormAndPost(g)}var Ic=function(){function d(d){this.attributes=d&&
ya({},d)||{};this.time=(new Date).getTime();return this}d.prototype={set:function(d,a){var b=this,r=!1,c;fb(d)&&(c=d);"string"===typeof d?(r=this.attributes[d]!==a,this.attributes[d]=a):c&&F(c,function(d,a){r=r||b.attributes[d]!==a;b.attributes[d]=a});r&&(this.time=(new Date).getTime());return this},get:function(d){return this.attributes[d]},destroy:function(){this.attributes={};this.time=(new Date).getTime();return this},each:function(d,a){var a=a||this,b;for(b in this.attributes)wa(this.attributes,
b)&&d.call(a,b,this.attributes[b]);return this}};for(var a=["focused","checked","value","name","valid"],b=0,c=a.length;b<c;b++)(function(a){var b=a.charAt(0).toUpperCase()+a.slice(1);d.prototype["set"+b]=function(d){return this.set(a,d)};d.prototype["get"+b]=function(){return this.get(a)}})(a[b]);return d}(),w=[],Wc,fe=!1,Bb,vc=janrain.settings.capture.language||janrain.settings.language||"en-US",Ma=[],da,ge={},O,Yc,Gd=!1,Hd=!1,Mc,wc=[],td=janrain.settings.capture.maxScreenHistory||3,Z={},Zc=[],Jd,
he={},Pc=janrain.settings.capture.mode13||!1,$c=janrain.settings.capture.socialRegistrationRedirect,Qc=janrain.settings.capture.socialRegistrationCompleteRedirect,Id=!1,ad=!1,bd=!1,cd=!1,Xc={},Qb,Bd={},Q=!1,Va,Ra=!1,Ea,uc,$d=!1,ia,K=!1,J,ee=!1,u=!1,o,vd,ka="",oa={},Rc,bb,Fd=!1,Sc=!1,U=janrain.settings.capture.backplaneVersion||"1.2",ab="1.2"===U+""?"backplane.js":"backplane"+U+".js",$a=janrain.settings.capture.backplaneLibrary||(janrain.settings.enforceSecureCloudfront?"https://ssl-cdn.janrainbackplane.com/":
"https://d134l0cdryxgwa.cloudfront.net/")+ab,Pd=janrain.settings.capture.backplaneServerBaseUrl||"https://backplane1.janrainbackplane.com/v"+U,Qd=janrain.settings.capture.backplaneBlock||20,v=janrain.settings.capture.backplaneReplayOnPageLoad||!1,sc={},ca={},Kd=[],wd=[],Ta=[],Ua=[],Qa=[],Ld=!1,Rd=janrain.settings.capture.accessTokenLifeHours||1,nb="placeholder"in document.createElement("input"),Uc=!1,mb=!1,ae,x,Me=!1,Ne=!1,Le=!1,xd=[],de=0,yd=[],Ad="HEAD",Oe=!1,ob={},be,zd={},ce=!1,tc=0,dc=[],Cd=
!1,Dd=!1,Ob={},Ed=[],le;a=0;var Ja=zb(window.location.href).queryKey,lc=Ze(location.hash.replace("#",""),/[&,]/),fd,gd,ne,Pe,Ve="Validating",Ue=!1,We="widget/traditional_register.jsonp,widget/traditional_signin.jsonp,widget/token_url.jsonp,widget/social_register.jsonp,widget/public_profile.jsonp,widget/recover_password.jsonp,widget/email_code.jsonp,widget/reactivate_account.jsonp".split(","),me=[],oe={};wc.push=function(){Array.prototype.push.apply(this,arguments);this.length>td&&this.shift();return this.length};
"en"===vc&&(vc="en-US");$c&&Ja&&Ja.capture_social_registration?Ea=Ja.capture_social_registration:lc.engageToken&&(uc=Ea=lc.engageToken,location.hash=location.hash.replace(RegExp("[&,]*engageToken="+Ea),""));Ea&&(cd=!0);zd.publicPrivateTogglers=[];ga.prototype.check=function(d,a,b){if(a.validation&&!0!==a.validation.noTrim&&"string"===typeof d.value&&("text"===d.type||"email"===d.type))d.value=d.value.trim();var a=a||o.fields[d.name],c=d.getAttribute("data-capturerendererchildfieldname"),c=c&&a.validation&&
a.validation[c]?a.validation[c]:c&&"dateselect"!==a.type?!1:a.validation;if(!a.validation||!c)return!0;c.messages||(c.messages={});if(!this.hasValue(d,a,c))return{valid:!1,reason:c.messages.required||"Field not completed",type:"required"};if(!this.isDate(d,a,c))return{valid:!1,reason:c.messages.isDate||"Not a valid date",type:"notDate"};if(!this.isValidMaxFileSize(d,a,c))return{valid:!1,reason:c.messages.maxFileSize||"File is too large",type:"maxFileSize"};if(!this.isValidFileType(d,a,c))return{valid:!1,
reason:c.messages.validFileTypes||"File is not a valid file type",type:"fileType"};if(!this.isValidMinYears(d,a,c))return{valid:!1,reason:c.messages.minYears||"Not old enough",validation:{minYears:c.minYears},type:"minYears"};if(!this.isValidMinLength(d,a,c))return{valid:!1,reason:c.messages.minLength||"Invalid length",type:"minLength"};if(!this.isValidMaxLength(d,a,c))return{valid:!1,reason:c.messages.maxLength||"Invalid length",type:"maxLength"};if(!this.isValidMaxNumericLength(d,a,c))return{valid:!1,
reason:c.messages.maxNumericLength||"Invalid number of numeric characters",type:"maxNumericLength"};if(!this.isValidFormat(d,a,c))return{valid:!1,reason:c.messages.format||"Invalid format",type:"format"};if(!this.isValidMatch(d,a,c))return{valid:!1,reason:c.messages.match||"Invalid match",type:"match"};var e=this.custom(d,a,c);if(!e)return"undefined"===typeof e?{pending:!0}:{valid:!1,reason:c.messages.custom||"Invalid",type:"custom"};e=pa&&pa[d.id]&&"undefined"!==typeof pa[d.id].unique&&!1===pa[d.id].unique;
return c.unique&&!c.unique.uniquenessBlacklist&&(!b||e)?(b=document.getElementById(n(d)+"form_item_"+d.getAttribute("name")),this.isUnique(d,b,a,function(){}),{pending:!0}):{valid:!0}};ga.prototype.custom=function(d,a,b){if(!a||!b.custom||"function"!==typeof pe[b.custom])return!0;var c=new m.validation,a=document.getElementById(n(d)+"form_item_"+a.elementName);c.setParentDiv(a);c.setElement(d);return pe[b.custom](d.name,d.value,c)};ga.prototype.getRating=function(d){var d=d.value,a=[/[a-z]/,/[A-Z]/,
/[0-9]/,/[^a-zA-Z0-9]/],b=0,c;c=Math.min(8,Math.floor(3*Math.log(d.length+1)));for(var e=0;e<a.length;e++)a[e].test(d)&&b++;return c+=Math.floor(Math.pow(2,b)/2)};ga.prototype.isValidMaxNumericLength=function(d,a,b){if(!a)return!0;a=b.maxNumericLength;if(!a)return!0;d=d.value.match(/(\d)/g);t(d)&&d.length>a&&b.actions&&b.actions.maxNumericLength&&dc.push(b.actions.maxNumericLength);return t(d)?d.length<=a:!0};ga.prototype.isValidMaxLength=function(d,a,b){d=d.value;if(!a)return!0;a=b.maxLength;if(!a)return!0;
d.length>a&&b.actions&&b.actions.maxLength&&dc.push(b.actions.maxLength);return d.length<=a};ga.prototype.isValidMinLength=function(d,a,b){d=d.value;if(!a)return!0;a=b.minLength;if(!a)return!0;d.length<a&&b.actions&&b.actions.minLength&&dc.push(b.actions.minLength);return d.length>=a};ga.prototype.isValidMaxFileSize=function(d,a,b){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==d.type)return!0;a=b.maxFileSize;return!a?!0:d.files[0].size<a};ga.prototype.isValidFileType=
function(d,a,b){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==d.type)return!0;a=b.validFileTypes;return!t(a)?!0:A(a,d.files[0].type)};ga.prototype.isDate=function(d,a,b){if((!a||"dateselect"!==a.type)&&!b.isDate)return!0;var c=Ha(d,a);if(c)a=Be(c);else{if(!(b=b.required))a.name||(a.name=d.getAttribute("data-capturerendererfield")?d.getAttribute("data-capturerendererfield"):d.getAttribute("data-capturefield")),b=n(d),d=document.getElementById(b+a.name+"_dateselectmonth"),
d=d.options[d.selectedIndex].value,c=document.getElementById(b+a.name+"_dateselectday"),c=c.options[c.selectedIndex].value,a=document.getElementById(b+a.name+"_dateselectyear"),a=a.options[a.selectedIndex].value,b=!(!d&&!c&&!a);a=b?!1:!0}return a};ga.prototype.isValidMinYears=function(d,a,b){if(!a||"dateselect"!==a.type)return!0;a=Ha(d,a);d=b.minYears;if(!Be(a)||!d)return!0;var c=new Date,a=Math.abs(((new Date(a)).getTime()-c.getTime())/864E5),a=Math.floor(a/365.242199);a>=d||b.actions&&b.actions.minYears&&
dc.push(b.actions.minYears);return a>=d};ga.prototype.hasValue=function(d,a,b){var c;if("select"===a.element)c=d.options[d.selectedIndex].value;else if("checkbox"===a.type&&!("multiCheckbox"===a.element||"multiRadio"===a.element))c=d.checked;else if("multiCheckbox"===a.element||"multiRadio"===a.element)if(c=a.elementName){c=document.getElementsByName(c);for(var e=c.length,f=[],g=0;g<e;g++)c[g].checked&&f.push(c[g]);c=f.length}else c=!1;else c=d.value;if(!a||!b.required)return!0;if("dateselect"===
a.type)return c=Ha(d,a),!c?!1:!0;c||b.actions&&b.actions.required&&dc.push(b.actions.required);return c};ga.prototype.isUnique=function(d,a,b,c){var a=d.form.getAttribute("data-capturefield"),b=d.getAttribute("data-capturefield"),a=xa({value:d.value,form:a,capture_screen:L(d),field:b}),e={};ha(d.form,function(d){Ca(o.fields[b],"validation.unique.alongWith")===d.name&&(e[d.name]=d.value)});a=ya(a,e);if(d=o.fields[b])if(d=d.idFieldElementId)if(d=document.getElementById(d))a.pluralId=d.value;ia&&(a.access_token=
ia);Bb&&(a.flow_path=Bb);i("/widget/unique.jsonp",a,c)};ga.prototype.isBlacklisted=function(d,a,b){function c(){var a=d.value,b=response;if(!b||0===b.length)return!0;for(var r,l=0;l<b.length;l++)if(r=RegExp("^"+b[l]+"$","i"),r.test(a))return!0;return!1}captureUIBlacklistCallback=function(d){b(c(d))};t(a)?b(c(a)):"string"===typeof a?captureUIBlacklistCallback(["chad"]):b(!0)};ga.prototype.isValidFormat=function(d,a,b){var c={alpha:/^[a-z]+$/i,numeric:/^(\d+)$/,numericReal:/^(\d+\.?\d*|\.\d+|\-\d+\.?\d*|\-\.\d+)$/,
alphaExtended:/^[a-zA-Z\-']+$/,alphaExtendedSpaces:/^[a-zA-Z\-'\s]+$/,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,noWhitespace:/^\S*$/,zipCode:/^\d{5}$/,"zipCode+4":/^\d{5}(\-\d{4})?$/,phone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,phoneInternational:/^(\d{1,4}[-. ]?)?\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!a||!b.format)return!0;
a=b.format;if("string"===typeof a&&c[a])a=c[a];else return!1;(d=a.test(d.value))||b.actions&&b.actions.format&&dc.push(b.actions.format);return d};ga.prototype.isValidMatch=function(d,a,b){if(!a)return!0;a=b.match;if(!a)return!0;a=o.fields[a];a=n(d)+(a.elementId||a.elementName);a=document.getElementById(a);d.value!==a.value&&b.actions&&b.actions.match&&dc.push(b.actions.match);return d.value===a.value};var m={autoSelectPreferredTab:function(d,a){var b=(new D).setUseLocalStorage(!0),b=parseInt(b.getCookie("janrainCaptureSelectedTab"),
10);isNaN(b)&&"capture_selected_tab"in Ja&&(b=parseInt(Ja.capture_selected_tab));isNaN(b)||(b=d.collection[b])&&w.push({elementName:a+"_"+b.elementName,handler:function(d){var a=document.getElementById(d);setTimeout(function(){a.click()},0)},eventType:"render"})},getValueFromObject:function(d,a,b){a=Ca(a,b);void 0!==d.trueValueReplace&&a?a=d.trueValueReplace:void 0!==d.falseValueReplace&&!a&&(a=d.falseValueReplace);!a&&!1!==a&&0!==a&&(a="");return a},setElementAttributeWithLocalStorage:function(d,
a,b){var c=d.profileStoragePath.split("."),e=c.shift(),f=c.join(".");w.push({handler:function(){function c(d){var e=document.getElementById(a);return e&&(d||!e.getAttribute("placeholder"))?(e[b]=d,!0):!1}janrain.settings.multiDomainLocalStorage?Vc(e,function(a){c(m.getValueFromObject(d,a,f))}):c(m.getValueFromObject(d,Vc(e),f))},eventType:"render"})},attachFieldEventHandlers:function(d){d.type||(d.type="");var a=d.elementId||d.elementName;w.push({elementName:a,handler:function(d){d=N(d);n(d);(d=qd(d,
"capture_form_item"))&&q(d).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()},eventType:ud&&"checkbox"===d.type?"click":"focus"});w.push({elementName:a,handler:function(d){d=N(d);n(d);(d=qd(d,"capture_form_item"))&&q(d).remove("capture_focused")},eventType:"blur"});d.validation&&(w.push({elementName:a,handler:Jb,eventType:d.validation.eventType||"blur"}),d.validation.match&&"password"===d.type&&w.push({elementName:d.validation.match,handler:function(){setTimeout(function(){var d=
document.getElementById(O+a);vb(d,!1)},0)},eventType:"keydown"}));d.rendererFieldName&&d.rendererChildFieldName&&o.fields[d.rendererFieldName].validation&&o.fields[d.rendererFieldName].validation[d.rendererChildFieldName]&&w.push({elementName:d.rendererFieldName+"_"+d.rendererChildFieldName,handler:Jb,eventType:"blur"});if("password"===d.type){d.validation&&("function"===typeof d.validation.rating?w.push({elementName:a,handler:function(a){var a=db(a),b=Wc.getRating(a);d.validation.rating(a,b)},eventType:"keyup"}):
d.validation.rating&&w.push({elementName:a,handler:function(d){d=db(d);d=Wc.getRating(d);aa("Password Strength",d)},eventType:"keyup"}));for(var b=[],c=0,e=w.length;c<e;c++)w[c].elementName===a&&b.push(w[c]);w.push({elementName:a,handler:function(d){return m.togglePasswordInput(d,b)},eventType:"click"});w.push({elementName:a,handler:function(d){return m.togglePasswordInput(d,b)},eventType:"focus"})}if("text"===d.type||"password"===d.type||"email"===d.type)w.push({elementName:a,handler:m.clearPlaceHolder,
eventType:"focus"}),w.push({elementName:a,handler:m.restorePlaceHolder,eventType:"blur"})},attachModifyEventHandler:function(d){w.push({elementName:d.elementId||d.elementName,eventType:d.modify.event,handler:function(){var a=document.getElementById(d.modify.element),b=d.modify.attributes;if(b&&a)for(var c in b)b.hasOwnProperty(c)&&a.setAttribute(c,b[c])}})},wrapStringData:function(d,a,b){var c="",e=["capture_data_item"];b&&e.push(b);c+=m.createDiv({elementId:"stringdata_"+d.name,classes:e});d.label&&
(c+=m.createLabel({elementId:d.name,label:d.label,classes:["capture_data_label"]}));c+=m.createDiv({elementId:d.name,classes:["capture_data"]});return c+a+"</div></div>"},wrapFormItemStart:function(d){var a="",b=[],c=d.classes||[],e="elementCollection"===d.type?"form_collection":"form_item";if(d.justElement||"submit"===d.type||"button"===d.type)return"";-1===c.indexOf("capture_"+e)&&c.push("capture_"+e);d.errors&&-1===c.indexOf("capture_error")&&!d.collection&&c.push("capture_error");!d.collection&&
d.type&&-1===c.indexOf("capture_"+d.type)&&("checkbox"===d.type||"radio"===d.type?b.push("capture_"+d.type):c.push("capture_"+d.type));"elementCollection"===d.type&&d.displayInline&&-1===c.indexOf("capture_form_collection_inline")&&c.push("capture_form_collection_inline");d.collection?(-1===c.indexOf("capture_"+e+"_"+d.elementName)&&c.push("capture_"+e+"_"+d.elementName),d.checked&&c.push("capture_toggled"),a+=m.createDiv({elementName:e+"_"+d.elementId,hide:d.hide,classes:c})):a+=m.createDiv({elementName:e+
"_"+d.elementName,hide:d.hide,classes:c});if(("checkbox"===d.type||"radio"===d.type)&&!d.collection)a+=m.createDiv({elementName:e+"_inner_"+d.elementName,classes:b});return a},wrapFormItemEnd:function(d){return d.justElement||"submit"===d.type||"button"===d.type?"":"</div>"},createPublicPrivateToggle:function(d){function a(){for(var d=zd.publicPrivateTogglers,b=d.length,c=0;c<b;c++)d[c]&&(d[c].style.display="none");zd.publicPrivateTogglers=[]}function b(a){var c=N(a),r=n(c),l=document.getElementById(r+
"display_toggle_options_"+d.elementName),e=document.getElementById(r+"display["+(d.rendererFieldName||d.elementName)+"]"),B=function(){if(!t(d.publicPrivateBoundFields))return!1;var a=[];ha(d.publicPrivateBoundFields,function(d){a.push(document.getElementById(r+"display["+d+"]"))});return a}(),f=document.getElementById(r+"display_indicator_public_"+d.elementName),g=document.getElementById(r+"display_indicator_private_"+d.elementName),h=r+"display_option_public_"+d.elementName,ea=r+"display_option_private_"+
d.elementName,i=c.parentNode?c.parentNode.id||"":"";if(i===h||i===ea)c=c.parentNode;c.id===h?(e.value="public",B&&ha(B,function(d){d.value="public"}),q(document.getElementById(h)).append("capture_checked"),q(document.getElementById(ea)).remove("capture_checked"),e.value="public",q(f).append("capture_toggled"),q(g).remove("capture_toggled")):(e.value="private",B&&ha(B,function(d){d.value="private"}),q(document.getElementById(h)).remove("capture_checked"),q(document.getElementById(ea)).append("capture_checked"),
e.value="private",q(f).remove("capture_toggled"),q(g).append("capture_toggled"));P(e);l.style.display="none";S(a)}var c="",e=["capture_display_option"],f=["capture_display_option"];d.forcePublicPrivate&&("public"===d.forcePublicPrivate.toLowerCase()?d.displayPublic=!0:"private"===d.forcePublicPrivate.toLowerCase()&&(d.displayPublic=!1));c+=m.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+d.elementName});c+=m.createDiv({classes:["capture_display_toggle_options"],
elementId:"display_toggle_options_"+d.elementName});d.displayPublic&&e.push("capture_checked");c+=m.createDiv({classes:e,elementId:"display_option_public_"+d.elementName});c+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';d.displayPublic||f.push("capture_checked");c+=m.createDiv({classes:f,elementId:"display_option_private_"+d.elementName});c+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';
e=["capture_display_toggle","capture_public"];d.disablePublicPrivate&&e.push("capture_display_toggle_disabled");d.displayPublic&&e.push("capture_toggled");c+=m.createDiv({classes:e,elementId:"display_indicator_public_"+d.elementName});c+='&nbsp;<span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';f=["capture_display_toggle","capture_private"];d.disablePublicPrivate&&f.push("capture_display_toggle_disabled");d.displayPublic||f.push("capture_toggled");
c+=m.createDiv({classes:f,elementId:"display_indicator_private_"+d.elementName});c+='<span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';t(d.publicPrivateBoundFields)&&ha(d.publicPrivateBoundFields,function(a){c+=m.createInput({type:"hidden",elementName:"display["+a+"]",value:d.displayPublic?"public":"private"})});c+=m.createInput({type:"hidden",elementName:"display["+(d.rendererFieldName||d.elementName)+"]",value:d.displayPublic?
"public":"private"});w.push({elementName:"display_toggle_wrap_"+d.elementName,eventType:"click",handler:function(b){var c=N(b),l=n(c),l=document.getElementById(l+"display_toggle_options_"+d.elementName),e="none"===l.style.display||""===l.style.display?"block":"none";c.parentNode&&q(c.parentNode).has("capture_display_toggle")&&(c=c.parentNode);q(c).has("capture_display_toggle")&&!q(c).has("capture_display_toggle_disabled")&&("block"===e&&(a(),zd.publicPrivateTogglers.push(l)),l.style.display=e);S(b)}},
{elementName:"display_option_public_"+d.elementName,handler:b,eventType:"click"},{elementName:"display_option_private_"+d.elementName,handler:b,eventType:"click"});Oe||(y(document.body,"click",function(d){d=N(d);d.parentNode&&q(d.parentNode).has("capture_display_toggle")&&(d=d.parentNode);!q(d).has("capture_display_toggle")&&!q(d).has("capture_display_option")&&a()}),Oe=!0);return c},createAnchor:function(d){var a="",b=d.fieldPrefix||O,c=d.elementId||d.elementName,e="object"===typeof d.elementAttributes?
d.elementAttributes:{},f=d.elementClasses&&t(d.elementClasses)?d.elementClasses:[];A(f,"capture_"+c)||f.push("capture_"+c);a=a+"<a "+("id='"+b+c+"' ");d.target&&(a+="target='"+d.target+"' ");a+="class='"+f.join(" ")+"' ";a+=Ib(e)+" ";a+="data-capturefield='"+d.name+"' ";a+="href='"+d.elementHref+"' ";a+="name='"+d.elementName+"' ";a+=">";d.elementText&&(a+=d.elementText);return a+"</a>"},createTextarea:function(d){var a="",b=d.fieldPrefix||O,c=d.elementId||d.elementName,e=d.elementClasses&&t(d.elementClasses)?
d.elementClasses:[],f=d.rows||"5",a=a+m.createLabel(d);A(e,"capture_"+c)||e.push("capture_"+c);A(e,"capture_textarea")||e.push("capture_textarea");a=a+"<textarea "+("id='"+b+c+"' ")+("class='"+e.join(" ")+"' ");a+="data-capturefield='"+d.name+"' ";a=a+("rows='"+f+"' ")+("name='"+d.elementName+"' ");d.placeholder&&nb&&(a+="placeholder='"+d.placeholder+"'");a+=">";d.value&&(a+=d.value);a+="</textarea>";d.publicPrivateToggle&&(a+=m.createPublicPrivateToggle(d));return a+=m.createTip(d)},createTip:function(d){var a;
a="<div class='capture_tip' ";d.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof d.tip?d.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+(" data-elementName='"+d.elementName+"'>");a+=Ve+"</div>";a=a+"<div class='capture_tip_error'"+(" data-elementName='"+d.elementName+"'>");d.errors&&t(d.errors)&&(a+=d.errors.join(" "),janrain.events.onCaptureServerValidationFailed.fire(d));return a+"</div>"},createLabel:function(d,a){var b,c=d.fieldPrefix||O,e=d.elementId||d.elementName;
if(!d.label)return a?a:"";b="<label ";"elementCollection"!==d.type&&(b+=" for='"+c+e+"'");b+=">";a&&(b+=a);d.label&&(b+=d.label);return b+"</label>"},createSelect:function(d){var a="",b=d.fieldPrefix||O,c=d.rendererFieldName,e=d.rendererChildFieldName,f,h=d.justElement,i=d.elementClasses&&t(d.elementClasses)?d.elementClasses:[],j=d.elementId||d.elementName;A(i,"capture_"+j)||i.push("capture_"+j);A(i,"capture_select")||i.push("capture_select");a+=m.createLabel(d);a=a+'<span class="capture_select_arrow"><select '+
("id='"+b+j+"' ")+("class='"+i.join(" ")+"' ");c&&(a+="data-capturerendererfield='"+c+"' ");d.showFieldWhere&&(a+='data-showFieldWhere="'+d.showFieldWhere+'" ');e&&(a+="data-capturerendererchildfieldname='"+e+"' ");a+="data-capturefield='"+d.name+"' ";a+="name='"+d.elementName+"' ";a+=">";c=d.options||[];e=c.length;for(i=0;i<e;i++){var k=c[i],o=k.value||""===k.value?k.value:k.text,a=a+('<option value="'+o+'"');k.disabled&&(a+=' disabled="true"');t(k.showField)&&(a+=' data-showField="'+k.showField.join(",")+
'"');o===Je(d.value)&&(a+=' selected="selected"',f=k.showField);a+=">"+k.text+"</option>"}a+="</select></span>";d.publicPrivateToggle&&(a+=m.createPublicPrivateToggle(d));h||(a+=m.createTip(d));w.push({handler:function(){f&&T(f,d.showFieldWhere,b)},eventType:"render"});w.push({elementName:j,handler:function(d){var d=N(d),a=n(d),b=d.getElementsByTagName("option")[d.selectedIndex].getAttribute("data-showField"),c=d.getAttribute("data-showFieldWhere");b&&b.length&&(b=b.split(","));g&&9>g&&P(d);T(b,c,
a)},eventType:"change"});return a},createButton:function(d){var a="",b=d.fieldPrefix||O,c=d.elementId||d.elementName,e=d.elementClasses&&t(d.elementClasses)?d.elementClasses:[],f="object"===typeof d.elementAttributes?d.elementAttributes:{},g=d.type?d.type:"submit";A(e,"capture_"+c)||e.push("capture_"+c);A(e,"capture_btn")||e.push("capture_btn");A(e,"capture_primary")||e.push("capture_primary");a+="<button ";d.hide&&(a+="style='display:none' ");a=a+("id='"+b+c+"' ")+("class='"+e.join(" ")+"' ");a=
a+("type='"+g+"' ")+("data-capturefield='"+d.name+"' ");d.value&&(a+="value='"+d.value+"' ");a+=Ib(f)+" ";a+="name='"+d.elementName+"' ";a+=">";d.elementContent&&(a+=d.elementContent);a+="</button>";d.modify&&m.attachModifyEventHandler(d);return a},createInput:function(d){var a="",b="",c=d.fieldPrefix||O,e=d.elementId||d.elementName,f=d.elementClasses&&t(d.elementClasses)?d.elementClasses:[],g="object"===typeof d.elementAttributes?d.elementAttributes:{},h="button"===d.type||"submit"===d.type||"checkbox"===
d.type||"radio"===d.type||"hidden"===d.type,i=d.justElement||d.collection||"hidden"===d.type||"button"===d.type||"submit"===d.type,j="password"===d.type&&!nb&&d.placeholder?"text":d.type,k=("checkbox"===d.type&&!d.collection||"radio"===d.type&&!d.collection)&&!d.justElement,n=d.rendererFieldName,o=d.rendererChildFieldName,q=Mc&&!d.collection;A(f,"capture_"+e)||f.push("capture_"+e);h||(b+=m.createLabel(d));d.validation&&d.validation.required&&f.push("capture_required");a+="<input ";d.hide&&(a+="style='display:none' ");
a=a+("id='"+c+e+"' ")+(Ib(g)+" ");"text"===d.type||"email"===d.type||"password"===d.type||"file"===d.type?A(f,"capture_text_input")||f.push("capture_text_input"):"checkbox"===d.type||"radio"===d.type?A(f,"capture_input_"+d.type)||f.push("capture_input_"+d.type):"submit"===d.type&&(A(f,"capture_btn")||f.push("capture_btn"),A(f,"capture_primary")||f.push("capture_primary"));a+="data-capturefield='"+d.name+"' ";d.collection&&(a+="data-capturecollection='true' ");n&&(a+="data-capturerendererfield='"+
n+"' ");o&&(a+="data-capturerendererchildfieldname='"+o+"' ");("checkbox"===d.type||"radio"===d.type)&&d.elementValue?a+="value='"+rd(d.elementValue)+"' ":d.value||"string"===typeof d.displaySavedValue?(g=d.value,h="string"===typeof d.displaySavedValue?d.displaySavedValue:d.value,d.displaySavedValue&&Xc[h]&&(g=rd(Xc[h]),"password"===d.type&&(j="password")),("password"===d.type||"text"===d.type||"email"===d.type)&&!d.errors&&q&&yd.push(c+e),a+="value='"+g+"' "):d.placeholder&&!nb?(a+="value='"+rd(d.placeholder)+
"' ",A(f,"capture_input_placeholder")||f.push("capture_input_placeholder")):a+="value='' ";a=a+("type='"+j+"' ")+("class='"+f.join(" ")+"' ");d.subId&&(a+='data-subid="'+d.subId+'" ');d.placeholder&&(a+="placeholder='"+rd(d.placeholder)+"' ");if(d.checked||d.elementValue&&d.value===d.elementValue)a+="checked='checked' ";a+="name='"+d.elementName+"' ";a+="/>";b="checkbox"===d.type||"radio"===d.type?b+m.createLabel(d,a):b+a;d.modify&&m.attachModifyEventHandler(d);d.publicPrivateToggle&&(b+=m.createPublicPrivateToggle(d));
k&&(b+="</div>");i||(b+=m.createTip(d));d.profileStoragePath&&"undefined"===typeof d.value&&m.setElementAttributeWithLocalStorage(d,c+e,"value");return b},createDiv:function(d){var a="<div ",b=d.fieldPrefix||O,c=d.elementId||d.elementName,e="object"===typeof d.elementAttributes?d.elementAttributes:{},f=d.classes||[];A(f,"capture_"+c)||f.push("capture_"+c);a+="id='"+b+c+"'";if("option"===d.type&&!d["default"]||d.hide)a+=" style='display:none'";"radioCollection"===d.type&&f.push("radio_set");t(f)&&
f.length&&(a=a+' class="'+f.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),a+='" ');a+=Ib(e)+" ";a+="data-capturefield='"+d.name+"' ";a+=">";d.elementText&&(a+=d.elementText);d.closeDiv&&(a+="</div>");return a},createImage:function(d){var a,b=d.fieldPrefix||O,c=d.classes||[],e=d.elementId||d.imageId||d.elementName||"";a="<img "+('src="'+d.src+'"');e&&!A(c,"capture_"+e)&&c.push("capture_"+e);d.hide&&(a+=" style='display:none'");d.alt&&(a+=" alt='"+d.alt+"'");"undefined"!==typeof d.width&&(a+=" width='"+
d.width+"'");"undefined"!==typeof d.height&&(a+=" height='"+d.height+"'");e&&(a+=' id="'+b+d.imageId+'" ');t(c)&&c.length&&(a=a+'class="'+c.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(a,b){var c,e="captureIFrame_"+a;if(document.getElementById(e))return!1;if(oe[b]&&(c=document.getElementById(oe[b])))c="div"==c.parentNode.tagName.toLowerCase()?c.parentNode:c,Hb(c);oe[b]=e;if(g){c="";var f=document.createElement("div");f.innerHTML=c+"<iframe "+('name="'+e+'" ')+('data-transactionId="'+
a+'" ')+('id="'+e+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(f)}else c=document.createElement("iframe"),c.setAttribute("name",e),c.setAttribute("data-transactionId",a),c.id=e,c.setAttribute("src","about:blank"),c.style.display="none",c.className="",document.body.appendChild(c)},createAnchor:function(a){var b=a.fieldPrefix||O,c=document.createElement("a");if(!a.classes||a.classes&&!t(a.classes))a.classes=[];a.elementId&&!A(a.classes,b+a.elementId)&&a.classes.push(b+
a.elementId);c.setAttribute("href",a.elementHref);c.innerHTML=a.elementText;a.elementId&&(c.id=b+a.elementId);c.className=a.classes.join(" ");a.hideElement&&(c.style.display="none");return c},createDiv:function(a){var b=a.fieldPrefix||O,c=document.createElement("div");if(!a.classes||a.classes&&!t(a.classes))a.classes=[];a.elementId&&!A(a.classes,b+a.elementId)&&a.classes.push(b+a.elementId);a.elementId&&(c.id=b+a.elementId);c.className=a.classes.join(" ");a.hideElement&&(c.style.display="none");return c},
createImage:function(a){var b=a.fieldPrefix||O,c=document.createElement("img");if(!a.classes||a.classes&&!t(a.classes))a.classes=[];a.elementId&&!A(a.classes,b+a.elementId)&&a.classes.push(b+a.elementId);a.alt&&c.setAttribute("alt",a.alt);"undefined"!==typeof a.width&&c.setAttribute("width",a.width);"undefined"!==typeof a.height&&c.setAttribute("height",a.height);c.src=a.elementSrc;a.elementId&&(c.id=b+a.elementId);c.className=a.classes.join(" ");a.hideElement&&(c.style.display="none");return c},
createInput:function(a){var b=document.createElement("input"),c=a.fieldPrefix||O,e="object"===typeof a.elementAttributes?a.elementAttributes:{},f=a.containerDivClasses||[],g;"submit"===a.elementType&&a.containerDiv&&(g=this.createDiv({elementName:a.elementName+"_containverDiv",classes:f}));if(!a.classes||a.classes&&!t(a.classes))a.classes=[];for(var h in e)e.hasOwnProperty(h)&&b.setAttribute(h,e[h]);a.elementId&&!A(a.classes,c+a.elementId)&&a.classes.push(c+a.elementId);a.elementType&&b.setAttribute("type",
a.elementType);a.name&&b.setAttribute("data-capturefield",a.name);a.elementValue&&(b.value=a.elementValue);a.elementName&&(b.name=a.elementName);a.elementId&&(b.id=c+a.elementId);a.hideElement&&(b.style.display="none");b.className=a.classes.join(" ");return g?(g.appendChild(b),g):b},createForm:function(a){a.transactionId||(a.transactionId=Ba());var b=a.transactionId,c=a.captureScreen||da,e=a.fieldPrefix?a.fieldPrefix:n(c),f=document.createElement("form"),g=t(a.fields)?a.fields:[],h=g.length;m.domHelpers.createIFrame(b,
e+a.elementId);a.needsResponse&&eb(b);if(!a.classes||a.classes&&!t(a.classes))a.classes=[];a.elementId&&!A(a.classes,e+a.elementId)&&a.classes.push(e+a.elementId);f.id=e+a.elementId+"_"+b;f.className=a.classes.join(" ");f.setAttribute("target","captureIFrame_"+b);f.setAttribute("data-transactionId",b);a.name&&f.setAttribute("data-capturefield",a.name);f.setAttribute("action",a.elementAction);f.setAttribute("method","POST");f.setAttribute("data-capturedomelement","true");a.validate&&f.setAttribute("data-capturedomelementvalidate",
"true");f.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:"\u2713",elementName:"utf8"}));o&&o.mergeToken&&f.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:o.mergeToken,elementName:"merge_token",elementId:"merge_token_"+b}));janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&f.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Backplane.getChannelID(),elementName:"bp_channel",
elementId:"bp_channel_"+b}));Bb&&f.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Bb,elementName:"flow_path",elementId:"flow_path_"+b}));if(J)f.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:J,elementName:"access_token",elementId:"access_token_"+b}));else{var i=a.elementAction.substring(janrain.settings.capture.captureServer.length+1,a.elementAction.length);a&&a.elementAction&&!A(We,i)&&ia&&f.appendChild(m.domHelpers.createInput({elementType:"hidden",
fieldPrefix:e,elementValue:ia,elementName:"access_token",elementId:"access_token_"+b}))}da&&f.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:c,elementName:"capture_screen",elementId:"screen_"+b}));Nb&&f.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Nb,elementName:"js_version",elementId:"js_version_"+b}));a.serverNextScreen&&f.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:a.serverNextScreen,
elementName:"serverNextScreen",elementId:"serverNextScreen_"+b}));a.engageTokenRequired&&f.appendChild(m.domHelpers.createInput({elementType:"hidden",elementValue:Ea,fieldPrefix:e,elementName:"token",elementId:"token_"+b}));f.appendChild(m.domHelpers.createInput({elementType:"hidden",elementValue:b,fieldPrefix:e,elementName:"capture_transactionId",elementId:"transactionId_"+b}));f.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:a.name,elementName:"form",elementId:"form_"+
b}));f.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:o.flow,elementName:"flow",elementId:"flow_"+b}));f.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementName:"client_id",elementId:"client_id_"+b,elementValue:janrain.settings.capture.clientId}));f.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementName:"redirect_uri",elementId:"redirect_uri_"+b,elementValue:janrain.settings.capture.redirectUri}));f.appendChild(m.domHelpers.createInput({elementType:"hidden",
fieldPrefix:e,elementValue:janrain.settings.capture.responseType,elementName:"response_type",elementId:"response_type_"+b}));f.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Ad,elementName:"flow_version",elementId:"flow_version_"+b}));f.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:ka,elementName:"settings_version",elementId:"settings_version_"+b}));f.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,
elementValue:vc,elementName:"locale",elementId:"locale_"+b}));for(c=0;c<h;c++)switch(b=g[c],b.elementType){case "div":b.fieldPrefix=b.fieldPrefix||e;f.appendChild(m.domHelpers.createDiv(b));break;case "anchor":b.fieldPrefix=b.fieldPrefix||e;f.appendChild(m.domHelpers.createAnchor(b));break;case "hidden":b.fieldPrefix=b.fieldPrefix||e;f.appendChild(m.domHelpers.createInput(b));break;case "file":b.fieldPrefix=b.fieldPrefix||e;f.setAttribute("enctype","multipart/form-data");f.appendChild(m.domHelpers.createInput(b));
break;case "submit":b.fieldPrefix=b.fieldPrefix||e,f.appendChild(m.domHelpers.createInput(b))}m.domHelpers.createFormHandler(f,a);return f},createFormHandler:function(a,b){"function"===typeof b.callback&&(a.setAttribute("next",'{"function":"'+b.elementId+'"}'),he[b.elementId]=b.callback);y(a,"submit",Kb)},createFormAndPost:function(a){var b=a.fieldPrefix||O,c=Ba();a.fieldPrefix=a.fieldPrefix||b;a.transactionId=c;var e=m.domHelpers.createForm(a),b=m.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+
c,fieldPrefix:b,elementId:"createFormAndPostSubmit_"+c,elementValue:"submit",hideElement:!0});e.appendChild(b);document.body.appendChild(e);m.domHelpers.createFormHandler(e,a);b.click()}},createListOfLinks:function(a,b){var c=a.fieldPrefix||O,e;optionsLength=a.length;e="<ul";t(b)&&b.length&&(e=e+' class="'+b.join(" "),e+='"');e+=">";for(var f=0;f<optionsLength;f++){e+="<li";"string"===typeof a[f].listItemId&&(e+=' id="'+c+a[f].listItemId+'" ');a[f].hide&&(e+=' style="display: none;" ');if(!a[f].listItemClasses||
!t(a[f].listItemClasses))a[f].listItemClasses=[];"string"===typeof a[f].listItemId&&!A(a[f].listItemClasses,"capture_"+a[f].listItemId)&&a[f].listItemClasses.push("capture_"+a[f].listItemId);t(a[f].listItemClasses)&&a[f].listItemClasses.length&&(e+=' class="',e+=a[f].listItemClasses.join(" "),e+='"');e+=">";e+='<a href="'+a[f].anchorHref+'"';e+=' data-capture-tab-index="'+f+'"';"string"===typeof a[f].anchorId&&(e+=' id="'+c+a[f].anchorId+'" ');if(!a[f].anchorClasses||!t(a[f].anchorClasses))a[f].anchorClasses=
[];"string"===typeof a[f].anchorId&&!A(a[f].anchorClasses,"capture_"+a[f].anchorId)&&a[f].anchorClasses.push("capture_"+a[f].anchorId);t(a[f].anchorClasses)&&a[f].anchorClasses.length&&(e+=' class="',e+=a[f].anchorClasses.join(" "),e+='"');e+=">";e+=a[f].anchorText;e+="</a>";e+="</li>"}return e+"</ul>"},togglePasswordInput:function(a,b){var c=db(a),e=c.getAttribute("data-capturefield"),e=o&&o.fields&&e?o.fields[e]:"";n(c);if(e&&!e.placeholder)return!1;"text"===c.type&&c.getAttribute("value")===c.getAttribute("placeholder")&&
c.setAttribute("value","");if(g&&"text"===c.type){var f=document.createElement("span"),h=c.parentElement;h.insertBefore(f,c);h.removeChild(c);e=document.createElement("input");e.id=c.id;e.setAttribute("data-capturefield",c.name);e.className="capture_password capture_text_input";e.name=c.name;e.setAttribute("type","password");h.insertBefore(e,f);h.removeChild(f);for(c=0;c<b.length;c++)"function"===typeof b[c].handler&&y(e,b[c].eventType,b[c].handler);e.focus()}else"password"!=c.getAttribute("type")&&
c.setAttribute("type","password")},clearPlaceHolder:function(a){if(nb)return!0;a="value"in a?a:db(a);a.value===a.getAttribute("placeholder")&&(g?a.value="":a.setAttribute("value",""),q(a).remove("capture_input_placeholder"))},restorePlaceHolder:function(a){if(nb)return!0;var a="value"in a?a:db(a),b=a.getAttribute("placeholder");if(!b||"password"===a.getAttribute("type"))return!1;b&&""===a.value&&(g?a.value=b:a.setAttribute("value",b),q(a).append("capture_input_placeholder"))},setField:function(a,
b,c){c+=a.name;if("dateselect"===a.type){if(b=pd("{yyyy}-{0m}-{0d}",b),Ka(b)&&(a=document.getElementById(c+"_dateselectmonth")))a.selectedIndex=b.getMonth()+1,wb(a,"change"),a=document.getElementById(c+"_dateselectday"),a.selectedIndex=b.getDate(),wb(a,"change"),a=document.getElementById(c+"_dateselectyear"),a.value=b.getFullYear(),wb(a,"change")}else if("text"===a.type||"hidden"===a.type){if(a=document.getElementById(c))a.value=Je(b),wb(a,"change")}else k.forceError("Setting a field with type '"+
a.type+"' is not supported yet.")},resetField:function(a,b){var c,e=b+a.name;if("dateselect"===a.type){if(c=document.getElementById(e+"_dateselectmonth"))c.selectedIndex=0,q(c).append("capture_disabled"),c=document.getElementById(e+"_dateselectday"),c.selectedIndex=0,q(c).append("capture_disabled"),c=document.getElementById(e+"_dateselectyear"),c.selectedIndex=0,q(c).append("capture_disabled")}else if("text"===a.type||"hidden"===a.type){if(c=document.getElementById(e))c.value="",wb(c,"change")}else k.forceError("Resetting a field with type '"+
a.type+"' is not supported yet.")},validation:function(){function a(d){e=d;var c=b.id||b.name;Qb.add({id:c,valid:"valid"===d},{merge:!0});pa[c].status=e}var b,c,e,f,g;return{getElement:function(){return b},getParentDiv:function(){return c},getState:function(){return e},getValidation:function(){return g},setState:function(b){a(b)},setUnique:function(a){f=a;pa[b.id||b.name].unique=f},setValidation:function(a){g=a},setParentDiv:function(a){(c=a)&&c.className.split(" ")},setElement:function(a){b=a;c&&
c.className.split(" ")},valid:function(e){e||q(c).append("capture_validated");q(c).remove("capture_validating").remove("capture_error");a("valid");e={};b&&(e.field=b);janrain.events.onCaptureValidationSuccess.fire(e);janrain.events.onCaptureContentChange.fire()},pending:function(){a("pending");q(c).append("capture_validating").remove("capture_validated").remove("capture_error");janrain.events.onCaptureContentChange.fire()},notValid:function(){var e;switch(arguments.length){case 1:message=arguments[0];
break;case 2:message=arguments[0];"function"===typeof arguments[1]?callback=arguments[1]:e=arguments[1];break;case 3:message=arguments[0],e=arguments[1],callback=arguments[2]}a("invalid");if(message){if("noValidationMessage"!==message){q(c).append("capture_error").remove("capture_validated");for(var f,h=n(c),B=c.getElementsByTagName("div"),i=B.length,j=0;j<i;j++)if("capture_tip_error"===B[j].className){var m=0===c.id.indexOf(h+"form_collection_")?h+"form_collection_":h+"form_item_";if(c.id.split(m)[1]===
B[j].getAttribute("data-elementName")||c.id.split(m)[1]+"[dateselect_year]"===B[j].getAttribute("data-elementName")){f=B[j];break}}f&&(f.innerHTML=message)}"function"===typeof callback&&callback();janrain.events.onCaptureContentChange.fire()}f={};b&&(f.field=b);f.message=message;f.parentDiv=c;f.invalidType=e;g&&(f.validation=g);janrain.events.onCaptureValidationFailed.fire(f)}}}},je={createSelect:m.createSelect,createTextarea:m.createTextarea,createAnchor:m.createAnchor,createInput:m.createInput,
createLabel:m.createLabel,createDiv:m.createDiv,createImage:m.createImage,createListOfLinks:m.createListOfLinks,togglePassword:m.togglePasswordInput,clearPlaceHolder:m.clearPlaceHolder,restorePlaceHolder:m.restorePlaceHolder,getElementByEventAttribute:db},Xe=0;z.prototype.render={data:{engageCookie:function(a){return Fc(a.cookieName)},localStorage:function(a){var b="",c=(a.fieldPrefix||O)+(a.elementId||a.elementName),e=a.classes?a.classes.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"):"",f=a.valuePath,
g="";if(!janrain.settings.capture.setProfileCookie)return I.log("localStorage renderer can not be used without janrain.settings.capture.setProfileCookie set to true"),I.show(),"";janrain.settings.multiDomainLocalStorage?Vc(a.data,function(b){b=m.getValueFromObject(a,b,f);qa(function(){var a;a=b;var d=document.getElementById(c);d?(za(d,a),a=!0):a=!1;return a}).setDelay(500).setMaxAttempts(20).setFailCallback(function(){k.warn("Poll to get local storage data failed. Key: "+a.data)}).start()}):b=Vc(a.data);
g='<span id="'+c+'" class="'+e+'">'+m.getValueFromObject(a,b,f);return g+"</span>"},string:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b="",c,b=o.fields&&o.fields[a.value]?o.fields[a.value]:"";a.displaySavedValue&&(c=b&&b.type&&"password"===b.type);c=a.displaySavedValue&&Xc[a.value]&&(!c||c&&Pc)?Xc[a.value]:a.value;b=a.justString?c:m.wrapStringData(a,c);"undefined"!==typeof a.hideWhenValue&&c===a.hideWhenValue&&(b="");return b},image:function(a){var b;a.value&&
(a.returnImageTag?(b={elementName:a.elementname,hide:a.hide,src:a.value},a.classes&&(b.classes=a.classes),a.elementId&&(b.elementId=a.elementId),b=m.createImage(b)):b=a.value);return b}},html:{anchor:function(a){return a=""+m.createAnchor(a)},textarea:function(a){var b;b=""+m.wrapFormItemStart(a);b+=m.createTextarea(a);b+=m.wrapFormItemEnd(a);m.attachFieldEventHandlers(a);return b},select:function(a){var b;b=""+m.wrapFormItemStart(a);b+=m.createSelect(a);b+=m.wrapFormItemEnd(a);m.attachFieldEventHandlers(a);
return b},multi:function(a,b){var c="",e,f,g=a.options.length;f=t(a.value)?a.value:"string"===typeof a.value?a.value.split(","):"boolean"===typeof a.value||"number"===typeof a.value?[a.value]:[];var h=0;for(e=f.length;h<e;h++)f[h]=f[h].toString();a.type="elementCollection";c+=m.wrapFormItemStart(a);c+=m.createLabel(a);for(h=0;h<g;h++)e=a.options[h],e.value="undefined"===typeof e.value?"":e.value.toString(),e.label="undefined"===typeof e.label?"":e.label.toString(),e.value=e.value||e.label,e.label=
e.label||e.value,c+=this.input({elementName:a.elementName,type:b,elementId:a.elementName+"_"+e.value+"_"+h,name:a.name,value:e.value,collection:!0,label:e.label,checked:A(f,e.value)}),w.push({elementName:a.elementName+"_"+e.value+"_"+h,handler:function(b,c){return function(){for(var e=n(this),l=document.getElementById(e+"form_collection_"+a.elementName),l=$("capture_form_item_"+a.elementName,l),e=document.getElementById(e+"form_item_"+a.elementName+"_"+b+"_"+c),r=0,f=l.length;r<f;r++)q(l[r]).remove("capture_toggled");
e&&q(e).append("capture_toggled")}}(e.value,h),eventType:"click"});c+=m.createTip(a);return c+=m.wrapFormItemEnd(a)},multiCheckbox:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},multiRadio:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},input:function(a){var b;b=""+m.wrapFormItemStart(a);b+=m.createInput(a);b+=m.wrapFormItemEnd(a);m.attachFieldEventHandlers(a);return b},button:function(a){var b;b=""+m.wrapFormItemStart(a);b+=m.createButton(a);
b+=m.wrapFormItemEnd(a);m.attachFieldEventHandlers(a);return b},form:function(a){var b="<form ",c="object"===typeof a.elementAttributes?a.elementAttributes:{},e=a.localFieldPrefix||O,f=a.classes||[];f.indexOf("capture_form"===-1)&&f.push("capture_form");f.indexOf(-1==="capture_"+a.elementName)&&f.push("capture_"+a.elementName);b+="id='"+e+a.elementName+"' ";b+=Ib(c)+" ";b+="name='"+a.elementName+"' ";b+="data-capturefield='"+a.name+"' ";b+="action='"+janrain.settings.capture.captureServer+"/"+a.action+
"' ";t(f)&&(b+="class='"+f.join(" ")+"' ");var b=b+"method='POST' novalidate='novalidate' "+("data-transactionId='"+a.transactionId+"' "),b=b+("target='captureIFrame_"+a.transactionId+"' "),b=b+"accept-charset='UTF-8' >"+('<div id="'+e+a.elementName+'_defaultSavedProfileMessage"></div>'),b=b+('<div id="'+e+a.elementName+'_errorMessages"></div>'),g="";if(a.errors){janrain.events.onCaptureFormError.fire(a.errors);for(var h in a.errors)a.errors.hasOwnProperty(h)&&(g+=m.createDiv({elementId:"formerror_"+
(new Date).getTime(),classes:["capture_form_error"]}),g+=a.errors[h]+"</div>")}w.push({handler:function(){eb(a.transactionId)},eventType:"render"});w.push({handler:function(){var b=document.getElementById(e+a.elementName);if(!b)return!1;var c=$("capture_form_error_container",b),c=c.length?c[0]:document.getElementById(e+a.elementName+"_errorMessages");g?(c.innerHTML=g,q(b).append("capture_form_level_error")):c.innerHTML=""},eventType:"render"});if(janrain.settings.capture.dataDefaults&&"object"===
typeof janrain.settings.capture.dataDefaults){var c=janrain.settings.capture.dataDefaults,i;for(i in c)c.hasOwnProperty(i)&&(b+=m.createInput({elementName:i,type:"hidden",value:c[i]}))}b+=m.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&(b+=m.createInput({elementName:"bp_channel",elementId:"bp_channel"+a.transactionId,type:"hidden",value:Backplane.getChannelID()}));Bb&&(b+=m.createInput({elementName:"flow_path",elementId:"flow_path_"+
a.transactionId,type:"hidden",value:Bb}));o&&o.mergeToken&&(b+=m.createInput({elementName:"merge_token",elementId:"merge_token_"+a.transactionId,type:"hidden",value:o.mergeToken}));J?b+=m.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,classes:["capture_accessToken"],type:"hidden",value:J}):a&&a.action&&!A(We,a.action)&&ia&&(b+=m.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,classes:["capture_accessToken"],type:"hidden",value:ia}));
da&&(b+=m.createInput({elementName:"capture_screen",elementId:"screen_"+a.transactionId,type:"hidden",value:da}));Nb&&(b+=m.createInput({elementName:"js_version",elementId:"js_version_"+a.transactionId,type:"hidden",value:Nb}));a.serverNextScreen&&(b+=m.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+a.transactionId,type:"hidden",value:a.serverNextScreen}));if(a.engageTokenRequired||cd)b+=m.createInput({elementName:"token",elementId:"token_"+a.transactionId,type:"hidden",
value:Ea});b+=m.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+a.transactionId,type:"hidden",value:a.transactionId});b+=m.createInput({elementName:"form",elementId:"form_"+a.transactionId,type:"hidden",value:a.name});b+=m.createInput({elementName:"flow",elementId:"flow_"+a.transactionId,type:"hidden",value:o.flow});b+=m.createInput({elementName:"client_id",elementId:"client_id_"+a.transactionId,type:"hidden",value:janrain.settings.capture.clientId});b+=m.createInput({elementName:"redirect_uri",
elementId:"redirect_uri_"+a.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});b+=m.createInput({elementName:"response_type",elementId:"response_type_"+a.transactionId,type:"hidden",value:janrain.settings.capture.responseType});b+=m.createInput({elementName:"flow_version",elementId:"flow_version_"+a.transactionId,type:"hidden",value:Ad});b+=m.createInput({elementName:"settings_version",elementId:"settings_version_"+a.transactionId,type:"hidden",value:ka});b+=m.createInput({elementName:"locale",
elementId:"locale_"+a.transactionId,type:"hidden",value:vc});m.domHelpers.createIFrame(a.transactionId,e+a.elementName);!1!==a.listenToFields&&w.push({handler:function(){var b=document.getElementById(e+a.elementName);b&&(y(b,"keyup",function(a){(8==a.keyCode||46==a.keyCode)&&Sa(a)}),y(b,"keypress",function(a){(a.charCode||a.keyCode)&&Sa(a)}),y(b,"change",Sa),b.addEventListener?(b.addEventListener("focus",Zb,!0),b.addEventListener("blur",pb,!0)):(b.attachEvent("onfocusin",Zb),b.attachEvent("onfocusout",
pb)))},eventType:"render"});return b},div:function(a){return m.createDiv(a)},close:function(a){return"capture"===a.element?"photoManager"===a.type?"</div>":"":"</"+a.element+">"}},capture:{table:function(a){var b='<table class="capture_table">',c=z.prototype.render.html;if(a.th.display){var b=b+"<tr>",e;for(e in a.th.cols)b+="<th>"+a.th.cols[e]+"</th>";b+="</tr>"}for(var f in a.rows){var b=b+"<tr>",g;for(g in a.rows[f].cells)a.rows[f].cells[g].type&&"radio"===a.rows[f].cells[g].type?(e=a.rows[f].cells[g],
e.name="table",a.value&&e.elementValue===a.value[e.rendererChildFieldName]&&(e.checked=!0),b+="<td>",b+=m.wrapFormItemStart(a),b+=c.input(e),b+=m.wrapFormItemEnd(a),b+="</td>"):b+="<td>"+a.rows[f].cells[g]+"</td>";b+="</tr>"}return b+"</table>"},countrySelect:function(a){a.customText||(a.customText={});a.options=[{text:a.customText.countryLabel||"country",value:"",disabled:!0},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",
value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},
{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},
{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",
value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo",value:"Congo"},{text:"Congo",value:"Congo"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia",value:"Croatia"},{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",
value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},
{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},
{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},
{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea",value:"Korea"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",
value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",
value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},
{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},
{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",
value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},
{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},
{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",
value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}];return z.prototype.render.html.select(a)},stateSelect:function(a){a.customText||(a.customText={});var b=[{text:a.customText.stateLabel||"state",value:"",
disabled:!0}],b=a.noCanadianProvinces?b.concat(Ie):b.concat(Ie,mf);a.options=b;return z.prototype.render.html.select(a)},keepMeLoggedIn:function(a){var b=a.fieldPrefix||O;Hd=a.checked||!1;a=""+m.createInput({label:a.label||"Keep me logged in",type:"checkbox",name:a.name,justElement:!0,value:"yes",checked:Hd,elementName:"capture_keep_me_logged_in"});w.push({elementName:"capture_keep_me_logged_in",handler:function(){loggedInElement=document.getElementById(b+"capture_keep_me_logged_in");janrain.engage.signin.appendTokenParams({keepMeLoggedIn:loggedInElement.checked},
!0,!0)},eventType:"render"});w.push({elementName:"capture_keep_me_logged_in",handler:function(a){a=N(a);Hd=a.checked;janrain.engage.signin.appendTokenParams({keepMeLoggedIn:a.checked},!0,!0)},eventType:"click"});return a},captcha:function(a){var b=a.fieldPrefix||O,c="http:"===document.location.protocol?"http://www.google.com/recaptcha/api/js/recaptcha_ajax.js":"https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",c=janrain.settings.capture.recaptchaUrl||c;"undefined"!==typeof Recaptcha&&(ce=
!0);ce||ma(c,function(){ce=!0});var e="recaptcha_container";0<Xe&&(e=b+"_"+e);w.push({elementName:a.name,handler:function(){function a(){if("undefined"===typeof Recaptcha)setTimeout(a,20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,e,{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}a()},eventType:"render"});b=""+m.wrapFormItemStart(a);a.label&&
(b+=m.createLabel(a));b=b+('<div id="'+e+'"></div>')+m.createTip(a);b+=m.wrapFormItemEnd(a);Xe++;return b},mergeAccounts:function(a,b){var b=b?M.parse(b):{custom:!1},c=z.prototype.render,e=a.value,f="";e.existing_provider="legacy"===e.existing_provider?"email":e.existing_provider;a.customText||(a.customText={});var g=a.customText.connectRadio||'Connect this session with your existing account. <span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>',
h=a.customText.connectLegacyRadio||'Connect this session with your existing account <span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',i=a.customText.createRadio||"Create a new account using {| current_provider |} sign-in.",j=a.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",m=a.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',
k=a.customText.moreInfo||"More Info ?",n=a.customText.createButton||"Create",o=a.customText.connectButton||"Connect";e.connectRadioText=G(e,g);e.connectLegacyRadioText=G(e,h);e.createRadioText=G(e,i);e.foundExistingAccountText=G(e,j);e.moreInfoHoverText=G(e,m);e.moreInfoText=G(e,k);e.createButtonText=G(e,n);e.connectButtonText=G(e,o);j="";if("useConnectIcons"in a?a.useConnectIcons:1)j+='<span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.existing_provider.toLowerCase().replace("+",
"plus")+'"></span><span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.current_provider.toLowerCase().replace("+","plus")+'"></span>';e.connect_button=c.html.button({elementContent:j+o,elementName:a.name+"_connectButton",name:a.name+"_connectButton",element:"button",type:"button"});e.create_button=c.html.button({elementContent:n,hide:!0,elementName:a.name+"_createButton",name:a.name+"_createButton",element:"button",type:"submit"});e.merge_radio=c.html.multiRadio({element:"multiRadio",
value:[1],elementName:a.name+"_mergeRadio",classes:["capture_form_collection_merge_radioButtonCollection"],options:[{label:"email"===e.existing_provider?G(e,h):G(e,g),value:1},{label:i,value:2}]});e.rendered_current_photo=e.current_photo?'<img src="'+e.current_photo+'" height="25" width="25" />':"";e.rendered_existing_provider_photo=e.existing_provider_photo?'<div class="capture_icon_col"><img src="'+e.existing_provider_photo+'" height="25" width="25" /></div>':"";e.current_provider_lowerCase=e.current_provider.toLowerCase().replace("+",
"plus");e.existing_provider_lowerCase=e.existing_provider.toLowerCase().replace("+","plus");b.custom?w.push({handler:function(){var b=document.getElementById(a.name);b.innerHTML=G(e,b.innerHTML)},eventType:"render"}):f+=G(e,'<div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">     <div class="capture_header">         <div class="capture_icon_col">             {| rendered_current_photo |}         </div>         <div class="capture_displayName_col">             {| current_displayName |}<br />             {| current_emailAddress |}         </div>         <span class="capture_mergeProvider janrain-provider-icon-24 janrain-provider-icon-{| current_provider_lowerCase |}"></span>     </div>     <div class="capture_dashed">         <div class="capture_mergeCol capture_centerText capture_left">             <p class="capture_bigText">{| foundExistingAccountText |}</b>.</p>             <div class="capture_hover">                 <div class="capture_popup_container">                     <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}                 </div>                 {| moreInfoText |}             </div>         </div>         <div class="capture_mergeCol capture_mergeExisting_col capture_right">             <div class="capture_shadow capture_backgroundColor capture_border">                 {| rendered_existing_provider_photo |}                 <div class="capture_displayName_col">                     {| existing_displayName |}<br />                     {| existing_provider_emailAddress |}                 </div>                 <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>                 <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>             </div>         </div>     </div>     {| merge_radio |}     <div class="capture_footer">         {| connect_button |}         {| create_button |}     </div> </div>');
w.push({elementName:a.name+"_connectButton",handler:function(){"email"===e.existing_provider?(janrain.capture.ui.renderScreen(a.traditionalMergeScreen),janrain.events.onCaptureContentChange.fire()):(mb=!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(e.existing_provider),janrain.engage.signin.setCustom(!1))},eventType:"click"});w.push({elementName:a.name+"_createButton",handler:function(){$c?C():(uc=null,janrain.apps.capture.ui.renderScreen(janrain.settings.capture.mergeFlow||
janrain.settings.capture.registerFlow||"socialRegister"))},eventType:"click"});w.push({elementName:a.name+"_mergeRadio_1_0",handler:function(){document.getElementById(O+a.name+"_connectButton").style.display="";document.getElementById(O+a.name+"_createButton").style.display="none";q(document.getElementById(O+"form_item_"+a.name+"_mergeRadio_1_0")).append("capture_toggled");q(document.getElementById(O+"form_item_"+a.name+"_mergeRadio_2_1")).remove("capture_toggled")},eventType:"click"});w.push({elementName:a.name+
"_mergeRadio_2_1",handler:function(){document.getElementById(O+a.name+"_connectButton").style.display="none";document.getElementById(O+a.name+"_createButton").style.display="";q(document.getElementById(O+"form_item_"+a.name+"_mergeRadio_2_1")).append("capture_toggled");q(document.getElementById(O+"form_item_"+a.name+"_mergeRadio_1_0")).remove("capture_toggled")},eventType:"click"});return f},publicProfileLink:function(a,b){var c="",e=b?M.parse(b).elementHref:a.elementHref;a.elementAttributes="object"===
typeof a.elementAttributes?a.elementAttributes:{};a.addUUIDToLink&&(a.elementAttributes["data-captureuseruuid"]=a.value);a.elementHref=e+"?uuid="+a.value;a.elementText=a.elementText||"Public Profile";return c+=m.createAnchor(a)},linkSocialAccount:function(a){var b=da,c=m.createDiv({elementId:"link_social_account_"+a.provider,name:a.name}),c=c+m.createButton(a),c=c+"</div>";w.push({elementName:a.name,handler:function(c){Db.triggerLinkSocialAccountFlow(c,b,a.provider)},eventType:"click"});w.push({elementName:a.name,
handler:function(c){Db.triggerLinkSocialAccountFlow(c,b,a.provider)},eventType:"keypress"});Uc||sa();return c},linkAccounts:function(a){function b(c){var e=a.value.providers[c],l=a.value.displayNames[c],r=a.value.identifiers[c],g=a.value.prettyProviders?a.value.prettyProviders[c]:e,h=f+a.name+"_extraFields_"+e,c=""+('<li class="capture_provider_linked" data-capturerelatedfieldsid="'+h+'">')+'<span class="'+("janrain-provider-icon-"+k+" janrain-provider-icon-"+e+(a.customIcons?"-custom":"")+'">'),
c=c+'</span><span class="',i=l&&"null"!==l.toLowerCase(),m=/\{\|\s*displayName\s*\|}/.test(a.displayFormat),l=i||!m?G({provider:g,displayName:l},a.displayFormat):g,c=c+("janrain-provider-text-"+e+(a.customIcons?"-custom":"")+'">'+l+"</span>");!Cd&&1===j||(c+='<span tabindex="0" class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" data-captureprovider="'+e+'" data-captureidentifier="'+r+'"></span>');c+="</li>";a.additionalFields&&a.additionalFields[e]&&(c=c+('<div class="capture_linkAccounts_additionalFields" id="'+
h+'">')+cf(a.additionalFields[e],function(a){return"{* "+a+" *}"}).join("\n"),c+="</div>");return c}function c(b){N(b);Db.unLinkAccount(b,a,e,function(){p--;!Cd&&1>=p&&setTimeout(function(){var a=$("capture_remove_linkedaccount");Hb(a[0])},0)})}a.value||(a.value={});a.customText||(a.customText={});var e=da,f=a.fieldPrefix||O,g='<div class="capture_linkAccounts" id="'+f+a.name+'_currentlinkedaccounts">',h=o.fields[a.linkAccountContainer].elementName||o.fields[a.linkAccountContainer].name||a.linkAccountContainer,
i=a.customText.linkAnotherAccount||"Link account",j=t(a.value.providers)?a.value.providers.length:0,m=f+a.name+"_linkaccountsscreen",k=a.providerIconSize&&A(lf,a.providerIconSize)?a.providerIconSize:16,g=g+('<ul class="capture_provider" id="'+f+a.name+'_linkedproviderlist">');if(a.customAddLinks){for(var n=0,i=a.customProviders.length;n<i;n++)if(A(a.value.providers,a.customProviders[n]))var q=a.value.providers.indexOf(a.customProviders[n]),g=g+b(q);else g+='<li tabindex="0" class="capture_custom_add_linkedaccount" data-captureprovider="'+
a.customProviders[n]+'">',g+=G({provider:a.customProviders[n]},a.customAddLinkFormat)+"</li>";w.push({elementName:a.name+"_linkedproviderlist",handler:function(a){Db.linkWithCustomLink(a,e)},eventType:"click"});w.push({elementName:a.name+"_linkedproviderlist",handler:function(a){Db.linkWithCustomLink(a,e)},eventType:"keypress"})}else{for(n=0;n<j;n++)g+=b(n);g+='<li class="capture_linkAccount"><a href="#" id="'+f+a.name+'_linknewlink">'+i+"</a></li>"}g+="</ul></div>";w.push({elementName:a.name+"_linknewlink",
handler:function(a){Db.openInModal(a,e,m)},eventType:"click"});var p=j;w.push({elementName:a.name+"_currentlinkedaccounts",handler:c,eventType:"keypress"});w.push({elementName:a.name+"_currentlinkedaccounts",handler:c,eventType:"click"});g=g+'<div style="display: none;">'+('<div id="'+m+'"')+' class="janrain-capture-ui capture-ui-content capture_addLinkedAccount';hb&&(g+=" janrain-capture-ui-mobile");g=g+'">'+('<div id="'+f+a.name+'_linkAccountContainerContainer">');g+="</div></div></div>";a.customAddLinks||
w.push({handler:function(){Db.renderHandler(f+h,f+a.name+"_linkAccountContainerContainer")},eventType:"render"});return g},errorMessages:function(){var a;a=""+z.prototype.render.html.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});return a+"</div>"},savedProfileMessage:function(){var a;a=""+z.prototype.render.html.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),hide:!0,classes:["capture_save_success","capture_profileSavedMessage_container"]});
return a+"</div>"},nameFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b="",b="";a.value.firstname&&(b+=a.justString?a.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+a.value.firstname+"</span> ");a.value.middlename&&!a.hideMiddlename&&(b+=a.justString?a.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+a.value.middlename+"</span> ");a.value.lastname&&(b+=a.justString?a.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+
a.value.lastname+"</span>");return b=a.justString?b:m.wrapStringData(a,b,"capture_stringdata_nameBlock")},nameFull:function(a){var b,c=z.prototype.render.html;b='<div class="capture_form_item capture_nameBlock">'+c.input({elementName:a.name+"[firstname]",elementId:a.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&
a.value.firstname?a.value.firstname:"",placeholder:a.placeholder&&a.placeholder.firstname?a.placeholder.firstname:""});a.hideMiddlename||(b+=c.input({elementName:a.name+"[middlename]",elementId:a.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:a.name,value:a.value&&a.value.middlename?a.value.middlename:"",placeholder:a.placeholder&&a.placeholder.middlename?a.placeholder.middlename:""}));b+=c.input({elementName:a.name+
"[lastname]",elementClasses:["capture_nameFull_lastName"],elementId:a.name+"_lastname",type:"text",rendererFieldName:a.name,rendererChildFieldName:"lastname",value:a.value&&a.value.lastname?a.value.lastname:"",placeholder:a.placeholder&&a.placeholder.lastname?a.placeholder.lastname:""});return b+"</div>"},multipurposeAuth:function(a){var b;a.type="text";b=""+m.wrapFormItemStart(a);b+=m.createInput(a);b+=m.wrapFormItemEnd(a);m.attachFieldEventHandlers(a);a.type="multipurposeAuth";return b},dateselect_public:function(a){if("undefined"!==
typeof a.displayPublic&&!1===a.displayPublic||!a.value||!a.value.dateselect_month||!a.value.dateselect_year||!a.value.dateselect_day)return"";var b="",b="",c,b=parseInt(a.value.dateselect_month,10);c=parseInt(a.value.dateselect_year,10);var e=parseInt(a.value.dateselect_day,10);a.format?(b=new Date(c,b-1,e),c=a.format,b=Na(c,b,{monthNames:a.monthNames,dayNames:a.dayNames})):b=b+"/"+e+"/"+c;return b=a.justString?b:m.wrapStringData(a,b,"capture_stringdata_dateselectBlock")},dateselect:function(a){function b(c){c=
N(c);c=n(c);c=document.getElementById(c+"form_item_"+a.elementName);q(c).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()}function c(b){var e=N(b),f=n(e),f=document.getElementById(f+"form_item_"+a.elementName);q(f).remove("capture_focused");Ha(e,a)&&Jb(b)}a.customText||(a.customText={});var e=a.customText.dayLabelDateSelect||"day",f=a.customText.monthLabelDateSelect||"month",g=a.customText.yearLabelDateSelect||"year",h=Ce;a.monthNames&&t(a.monthNames)&&
12===a.monthNames.length&&(h=a.monthNames);var i=a.fieldPrefix||O,k='<div id="'+i+"form_item_"+a.name+'" class="capture_form_item capture_dateselectBlock">',o,p,u,s=t(a.format)&&3===a.format.length?a.format:["month","day","year"],v=a.value&&a.value.dateselect_day?parseInt(a.value.dateselect_day):"",x=a.value&&a.value.dateselect_year?parseInt(a.value.dateselect_year):"",y=a.value&&a.value.dateselect_month?parseInt(a.value.dateselect_month):"",f=[{text:f,value:"",disabled:!0},{text:h[0],value:1},{text:h[1],
value:2},{text:h[2],value:3},{text:h[3],value:4},{text:h[4],value:5},{text:h[5],value:6},{text:h[6],value:7},{text:h[7],value:8},{text:h[8],value:9},{text:h[9],value:10},{text:h[10],value:11},{text:h[11],value:12}],h=a.monthStart||1,z=a.monthEnd||13,A=a.dayStart||1,C=a.dayEnd||31,D=a.yearStart||1929,G=a.yearEnd||(new Date).getFullYear();u={elementName:a.name+"[dateselect_month]",elementId:a.name+"_dateselectmonth",rendererFieldName:a.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],
justElement:!0,value:y,options:f.slice(0,1).concat(f.slice(h,z))};p={elementName:a.name+"[dateselect_day]",elementId:a.name+"_dateselectday",elementClasses:["capture_dateselect_day"],rendererFieldName:a.name,rendererChildFieldName:"dateselect_day",justElement:!0,value:v,options:j(A,C,"asc",e)};D=parseInt(D,10);G=parseInt(G,10);o={elementName:a.name+"[dateselect_year]",justElement:!0,elementId:a.name+"_dateselectyear",rendererFieldName:a.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],
value:x,options:j(D,G,"desc",g)};for(e=0;3>e;e++){var E;switch(s[e]){case "month":E=u;break;case "day":E=p;break;case "year":E=o}0===e&&(E.label=a.label);2===e&&(E.publicPrivateToggle=a.publicPrivateToggle,E.displayPublic=a.displayPublic,E.tip=a.tip,E.justElement=!1);k+=m.createSelect(E)}if(a.datePicker){var H,s=new Date(y+"/"+v+"/"+x),F;F=isNaN(s.getMonth())?{provideOpenButton:!0}:{provideOpenButton:!0,defaultDate:s,preSelectedDate:s};ya(F,a.datePickerSettings||{});w.push({elementName:o.elementName,
eventType:"render",handler:function(){var a=document.getElementById(i+u.elementId),d=document.getElementById(i+p.elementId),b=document.getElementById(i+o.elementId);F.elementAttachedTo=b.parentNode;F.extraTargetElements=[a,d,b];F.callback=function(c){a.value=c.getMonth()+1;b.value=c.getFullYear();d.value=c.getDate();P(a);P(d);P(b);q(a).remove("capture_disabled");q(b).remove("capture_disabled");q(d).remove("capture_disabled");b.focus();b.blur()};H=new ib(F)}});var I=function(){if("undefined"!==typeof H){var a=
document.getElementById(i+u.elementId),d=document.getElementById(i+p.elementId),b=document.getElementById(i+o.elementId),c=new Date;c.setFullYear(b.value);c.setMonth(a.value-1);c.setDate(d.value);H.setSelectedDate(c)}};w.push({elementName:o.elementId,eventType:"change",handler:function(){I()}});w.push({elementName:u.elementId,eventType:"change",handler:function(){I()}});w.push({elementName:p.elementId,eventType:"change",handler:function(){I()}})}k+="</div>";w.push({elementName:a.name+"_dateselectyear",
handler:b,eventType:"focus"});w.push({elementName:a.name+"_dateselectyear",handler:c,eventType:"blur"});w.push({elementName:a.name+"_dateselectday",handler:b,eventType:"focus"});w.push({elementName:a.name+"_dateselectday",handler:c,eventType:"blur"});w.push({elementName:a.name+"_dateselectmonth",handler:b,eventType:"focus"});w.push({elementName:a.name+"_dateselectmonth",handler:c,eventType:"blur"});return k},addressFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";
var b="",b="";a.value.streetaddress&&(b+='<div class="capture_stringdata_addressBlock_streetaddress">'+a.value.streetaddress+"</div>");a.value.streetaddress2&&(b+='<div class="capture_stringdata_addressBlock_streetaddress2">'+a.value.streetaddress2+"</div>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)b+='<div class="capture_stringdata_addressBlock_citystatezip">';a.value.city&&(b+='<span class="capture_stringdata_addressBlock_city">'+a.value.city+"</span>, ");a.value.stateprovince&&
(b+='<span class="capture_stringdata_addressBlock_stateprovince">'+a.value.stateprovince+"</span> ");a.value.zippostalcode&&(b+='<span class="capture_stringdata_addressBlock_zippostalcode">'+a.value.zippostalcode+"</span>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)b+="</div>";a.value.country&&(b+='<div class="capture_stringdata_addressBlock_country">'+a.value.country+"</div>");return b=m.wrapStringData(a,b,"capture_stringdata_addressBlock")},addressFull:function(a){var b=a.defaultCountry||
"United States",c,e=z.prototype.render.html;a.value||(a.value={});a.customText||(a.customText={});var f=a.customText.stateLabel||"state",g=a.customText.countryLabel||"country";c='<div class="capture_form_item capture_addressBlock">'+e.input({elementName:a.name+"[streetaddress]",elementId:a.name+"_streetaddress",label:a.label||"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&
a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&a.placeholder.streetaddress?a.placeholder.streetaddress:""});c+=e.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});c+=e.input({elementName:a.name+"[city]",elementId:a.name+
"_city",elementClasses:["capture_addressFull_city"],type:"text",rendererChildFieldName:"city",rendererFieldName:a.name,value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});c+=z.prototype.render.capture.stateSelect({elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",rendererFieldName:a.name,label:"",customText:{stateLabel:f},placeholder:"State/Province",
hide:!("United States"===a.value.country||"Canada"===a.value.country||("United States"===b||"Canada"===b)&&"undefined"===typeof a.value.country),value:a.value&&a.value.stateprovince?a.value.stateprovince:""});c+=e.input({elementName:a.name+"[zippostalcode]",elementId:a.name+"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&
a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});c+=z.prototype.render.capture.countrySelect({elementName:a.name+"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],customText:{countryLabel:g},value:a.value&&a.value.country?a.value.country:b,placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:""});w.push({elementName:a.name+"_country",handler:function(b){var b=N(b),b=n(b),c=
this.options[this.selectedIndex].value||"",e=document.getElementById(b+a.name+"_stateprovince"),f=document.getElementById(b+a.name+"_stateprovince_hidden");"United States"===c||"Canada"===c?(document.getElementById(b+"form_item_"+a.name+"[stateprovince]").style.display="inline-block",f&&f.parentNode.removeChild(f)):(document.getElementById(b+"form_item_"+a.name+"[stateprovince]").style.display="none",e.selectedIndex=0,e[0].setAttribute("disabled","disabled"),e.parentNode.appendChild(m.domHelpers.createInput({elementType:"hidden",
fieldPrefix:b,elementValue:"",elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince_hidden"})))},eventType:"change"});return c+"</div>"},backButton:function(a){var b;a.type="button";a.elementContent='<span class="janrain-icon-16 janrain-icon-back"></span>';b=""+m.createButton(a);a.type="backButton";w.push({elementName:a.elementName,handler:function(){Ld=!1;var a=wc.pop();a&&(a.flow.oneTimeRender=void 0,janrain.capture.ui.render(a.flow,a.values))},eventType:"click"});return b},partial:function(a){var b=
document.getElementById(a.layout);if(b)return b.innerHTML;throw fa(a.layout);},photoManager:function(a,b){function c(b){dd=!1;var f=document.getElementById(j+a.name+"_profile_pic_uploadform_container"),l=document.getElementById(j+a.name+"_upload_photo_form");document.createElement("div").appendChild(l);f.innerHTML="";var g=document.createElement("div");g.innerHTML=s.uploadNewPhotoInstructionPhotoManager;f.appendChild(g);f.appendChild(l);e(document.getElementById(p));f=document.getElementById(j+"photo_chooser");
y(f,"change",la);var h=janrain.events.onModalClose.addHandler(function(){dd=!0;janrain.events.onModalClose.removeHandler(h)},!0);b&&S(b)}var b=b?M.parse(b):{custom:!1},f={};if(t(a.value)&&a.value.length){Va={};for(var g=0,h=a.value.length;g<h;g++)Va[a.value[g].type]=a.value[g]}else Va=!1;var g=m.createDiv({elementName:a.elementName+"_parent"}),i=da,j=a.fieldPrefix||O,h=z.prototype.render.html,k="object"===typeof Va,o=k?"":"capture_profile_pic ",p=j+a.name+"_uploadphotoscreen";k&&Va.original&&Va.original.value.indexOf("?");
f.profilePicClass=o;f.uploadPhotoScreenId=p;var u={elementName:a.elementName};k&&Va.large&&(u.classes=["capture_userphoto"]);f.mainDiv=m.createDiv(u);f.closeDiv="</div>";a.customText||(a.customText={});var s=af(a.customText||{},{profilePhotoTitlePhotoManager:"Profile Photo",chooseNewPhotoLinkPhotoManager:"Choose new photo",removePhotoLinkPhotoManager:"Remove photo",chooseDifferentPhotoLinkPhotoManager:"Choose a different photo",uploadPhotoButtonTextPhotoManager:"Upload",removePhotoButtonTextPhotoManager:"Remove",
removePhotoCantBeUndoneText:"Can&#39;t Be Undone",removePhotoCancelButtonTextPhotoManager:"Cancel",uploadNewPhotoInstructionPhotoManager:""});f.profilePhotoTitle=s.profilePhotoTitlePhotoManager;f.prefixFieldName=j+a.name;Hb(document.getElementById(p));f.profileImage='<div style="cursor: pointer;" id="'+j+a.name+'_profile_pic" class="'+o+"capture_profile_pic_display"+(k?"":" capture_default")+'">';k&&Va.large&&(f.profileImage+=m.createImage({src:Va.large.value,imageId:a.name+"_profile_pic_image"}));
f.profileImage+="</div>";f.photoLinks=m.createListOfLinks([{listItemId:"upload_photo",listItemClasses:[],anchorText:s.chooseNewPhotoLinkPhotoManager,anchorHref:"#",anchorClasses:["capture_upload_photo_link"],anchorId:"upload_photo_link"},{listItemId:"remove_photo",listItemClasses:[],anchorText:s.removePhotoLinkPhotoManager,anchorHref:"#",anchorClasses:["capture_remove_photo_link"],anchorId:"remove_photo_link",hide:!k}],["options"]);f.uploadImage=k&&Va.large?m.createImage({src:Va.large.value,imageId:a.name+
"_profile_pic_image_upload"}):"";f.photoChooserErrors=m.createDiv({elementId:"photo_chooser_errors",classes:["capture_photo_chooser_form_error"]});f.photoChooserErrors+="</div>";var v=Ba();m.domHelpers.createIFrame(v,a.name+"_upload_photo_form");f.uploadFormOpen=h.form({action:"widget/photo/upload_photo.jsonp",elementAttributes:{enctype:"multipart/form-data"},transactionId:v,name:a.name+"_upload_photo_form",elementName:a.name+"_upload_photo_form",listenToFields:!1});f.uploadFileField=m.createInput({elementName:"photo",
elementId:"photo_chooser",justElement:!0,elementAttributes:{"data-capturefield":a.name},type:"file"});f.uploadSubmitButton=m.createInput({elementName:"photo_submit",elementId:"photo_submit",value:s.uploadPhotoButtonTextPhotoManager,classes:["capture_btn","capture_primary","capture_disabled"],justElement:!0,type:"submit"});f.uploadFormClose="</form>";f.chooseDifferentPhotoLink=m.createAnchor({elementHref:"#",elementText:s.chooseDifferentPhotoLinkPhotoManager,elementId:a.name+"_different_photo_link"});
b.custom?w.push({handler:function(){var b=document.getElementById(j+a.name+"_parent");b.innerHTML=G(f,b.innerHTML);w.push({elementName:a.name+"_upload_photo_form",handler:Kb,eventType:"submit"});eb(v)},eventType:"render"}):(g+=G(f,'{| mainDiv |}     {| profileImage |}     {| photoLinks |}     &nbsp; {| closeDiv |}  <\!-- hidden upload form --\> <div style="display: none;">     {| uploadFormOpen |}     {| uploadFileField |}     <div class="capture_footer">         {| uploadSubmitButton |}     </div>     {| uploadFormClose |} </div>  <\!-- hidden upload screen --\> <div style="display: none;">     <div id="{| uploadPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| profilePhotoTitle |}</h1>         </div>{| photoChooserErrors |}         <div id="{| prefixFieldName |}_profile_pic_upload" class="{| profilePicClass |}capture_profile_pic_upload capture_default">             {| uploadImage |}             &nbsp;         </div>         <div id="{| prefixFieldName |}_profile_pic_uploadform_container" class="capture_uploadPhoto_container">         </div>     </div> </div> '),
g+="</div>",w.push({elementName:a.name+"_upload_photo_form",handler:Kb,eventType:"submit"}),eb(v));w.push({eventType:"render",handler:function(){var b=document.getElementById(j+a.name+"_different_photo_link");y(b,"click",c)}});w.push({elementName:a.name+"_profile_pic",eventType:"click",handler:c});w.push({elementName:"upload_photo_link",handler:c,eventType:"click"});w.push({elementName:"remove_photo_link",handler:function(a){var b=N(a),d=n(b);if(!document.getElementById(d+"remove_photo_contain")){var c=
m.domHelpers.createDiv({elementId:"remove_photo_contain",fieldPrefix:d,classes:["capture_popup_container pad"]}),b=m.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementText:s.removePhotoButtonTextPhotoManager,elementId:"confirm_remove_photo_link"}),e=m.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementId:"cancel_remove_photo_link",elementText:s.removePhotoCancelButtonTextPhotoManager});c.innerHTML='<div class="capture_popup-arrow"></div><p>'+s.removePhotoCantBeUndoneText+"</p>";
c.appendChild(b);c.appendChild(e);document.getElementById(d+"remove_photo").appendChild(c);var f=function(a){var b=[d+"createFormAndPostSubmit",d+"confirm_remove_photo_link",d+"remove_photo_link"],e=N(a).getAttribute("id")||"";!A(b,N(a).getAttribute("id"))&&0>e.indexOf(d+"createFormAndPostSubmit_")&&(c.innerHTML="",Hb(c),xb(document,"click",f),S(a))};y(e,"click",f);y(document,"click",f);y(b,"click",function(a){m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",
fieldPrefix:d,captureScreen:i,needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});S(a)});S(a)}},eventType:"click"});w.push({eventType:"render",handler:function(){function a(){var b=document.getElementById(j+"photo_chooser").value?"remove":"append";q(d())[b]("capture_disabled")[b]("btn_disabled")}function b(a){var c;if(c=!hb)c=q(d()),c=(c.has("capture_disabled")||c.has("btn_disabled"))&&("click"==a.type||"keyup"==a.type&&a.keyCode==Fa);c&&S(a)}function d(){return document.getElementById(j+
"photo_submit")}a();y(document.getElementById(j+"photo_chooser"),"change",a);y(d(),"click",b);y(d(),"keyup",b)}});return g},datePicker:function(a){var b="",c={provideOpenButton:!0};a.type="text";ya(c,a.settings||{});b+=m.wrapFormItemStart(a);b+=m.createInput(a);b+=m.wrapFormItemEnd(a);w.push({elementName:a.elementName,eventType:"render",handler:function(a){a=document.getElementById(a);c.targetElement=a;new ib(c)}});m.attachFieldEventHandlers(a);a.type="datePicker";return b},slider:function(a){if(a.publicDisplay&&
"undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b=m.createDiv({elementName:"slider capture_form_item"}),c=z.prototype.render.html,e=a.fieldPrefix||O,f="initialPosition"in a?a.initialPosition:0,g=a.value&&0<=a.value.score?a.value.score:f,b=b+("<label>"+a.label+"</label>"),b=b+m.createDiv({elementName:a.elementName+"_container",classes:["capture_slider_container"]}),b=b+m.createDiv({elementName:a.elementName+"_base",classes:["capture_slider_base"]}),b=b+m.createDiv({elementName:a.elementName+
"_marker",classes:["capture_slider_marker"]}),b=b+'</div></div><div class="capture_slider_list"><ul>',f=0,h;for(;h=a.legend_items[f];f++)b+="<li>"+h+"</li> ";b+="</ul></div></div>";a.publicPrivateToggle&&(b+=m.createPublicPrivateToggle(a));b+=c.input({elementName:a.elementName+"[score]",elementId:a.elementName+"_score",name:a.elementName+"_score",rendererChildFieldName:"score",rendererFieldName:a.elementName,type:"hidden",validation:!1,value:a.value&&0<=a.value.score?a.value.score:"initialValue"in
a?a.initialValue:""});b+="</div>";w.push({elementName:a.elementName+"_marker",eventType:"render",handler:function(){document.getElementById(e+a.elementName+"_marker").style.left=(0<=g?g:"initialPosition"in a?a.initialPosition:0)+"%"}});if(!0===a.enabled){var i=!1;w.push({elementName:a.elementName+"_marker",eventType:re,handler:function(b){i=!0;var c=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),c=c.getBoundingClientRect(),l=c.width?c.width:c.right-
c.left,c=new Yd;c.setElement(document.getElementById(e+a.elementName+"_marker")).setElementBoundary(document.getElementById(e+a.elementName+"_container")).setCallback(function(a){f.value=Math.round(100*(a.pos_x/l));P(f)}).drag(b);Zd.push(c);ed&&clearTimeout(ed)}});w.push({elementName:a.elementName+"_marker",eventType:hd,handler:function(){var b=document.getElementById(e+a.elementName+"_marker"),c=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),
b=parseInt(xe(b.id,"left")),c=c.getBoundingClientRect();f.value=Math.round(100*(b/(c.width?c.width:c.right-c.left)))}});w.push({elementName:a.elementName+"_container",eventType:"mouseover",handler:function(){document.getElementById(e+a.elementName+"_container").style.cursor="pointer"}});w.push({elementName:a.elementName+"_container",eventType:"click",handler:function(b){if(!0===i)i=!1;else{var c=document.getElementById(e+a.elementName+"_marker"),f=document.getElementById(e+a.elementName+"_base"),
l=document.getElementById(e+a.elementName+"_score"),g=f.getBoundingClientRect(),h=g.width?g.width:g.right-g.left,r=b.clientX-He(f).x,b=parseInt(xe(c.id,"left")),b=isNaN(b)?0:b;(new Yd).setElement(c).setAcceleration("sinusoidal").setDuration(500).startPosition(b).endPosition(r).setDirection("horizontal").setCallback(function(){l.value=Math.round(100*(r/h));P(l)}).animate()}}})}return b},radioCollection:function(a){for(var b=a.fieldPrefix||O,c=m.createDiv({elementName:a.elementName,classes:a.classes||
[]}),e=0;e<a.collection.length;e++)c+="<div class='capture_radio_toggle",c+=(0===e?" capture_toggled":"")+"'>",c+="<input type='radio' id='"+b+"radio_"+a.collection[e].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===e?"checked='true' ":"")+"/>",c+="<label ",c+="class='capture_radio_label' ",c+="for='"+b+"radio_"+a.collection[e].elementName+"'>"+a.collection[e].label+" ",c+="</label></div>",w.push({elementName:"radio_"+a.collection[e].elementName,handler:function(b){Aa(b,
a)},eventType:"click"});m.autoSelectPreferredTab(a,"radio");return c+"</div>"},tabCollection:function(a){for(var b,c=[],e=m.createDiv({elementName:a.elementName,classes:a.classes||[]}),f=0;f<a.collection.length;f++)b={listItemId:"tab_li_"+a.collection[f].elementName,listItemClasses:["capture_tab_toggle"],anchorId:"tab_"+a.collection[f].elementName,anchorText:a.collection[f].label,anchorHref:"#"},0===f&&b.listItemClasses.push("capture_toggled"),c.push(b),w.push({elementName:"tab_"+a.collection[f].elementName,
handler:function(b){Aa(b,a)},eventType:"click"});m.autoSelectPreferredTab(a,"tab");e+=m.createListOfLinks(c,["capture_tabs"]);return e+"</div>"},newsletterSubscriptions:function(a){var b="",c=a.format||"",e=a.startHTML||"",f=a.endHTML||"",g=a.delimiter||"",h=t(a.value)?a.value:[],j=t(a.classes)?" "+a.classes.join(" "):[],k="capture_newsletter_checkbox"+j,n=h.length,o=(a.fieldPrefix||O)+"form_item_"+a.elementName,q=a.bulkUpdate,p,s,u;if(0<n){b+=m.wrapFormItemStart(a);b+=m.createLabel(a);b+=e;for(e=
0;e<n;++e)""!==c?b+=G(h[e],c)+g:(s=h[e],p=s.display_name||"",checked="","active"===s.status&&(checked='checked="checked"'),p='<label><input type="checkbox" class="'+k+'" data-subId="'+s.list_id+'" value="'+s.list_id+'" name="'+a.name+'[]" '+checked+">"+p+"</label>",u="undefined"!==typeof s.description?'<p class="capture_newsletter_description'+j+'">'+s.description+"</p>":"",s="undefined"!==typeof s.image?m.createImage({src:s.image,classes:["capture_newsletter_image"].concat(j)}):"",b+=p+u+s+g);g&&
(b=b.slice(0,-g.length));b=b+f+m.createTip(a);b+=m.wrapFormItemEnd(a);q||w.push({handler:function(){for(var a=$("capture_newsletter_checkbox",document.getElementById(o)),b=0,d=a.length;b<d;++b)y(a[b],"change",function(a){var b=N(a),a=b.getAttribute("data-subId"),d=b.checked?"active":"inactive",b=Ba(),a=xa({list_id:a,token:ia,subscription_status:d,capture_transactionId:b});i("/widget/update_subscription.jsonp",a);Ia(b)})},eventType:"render"})}return b},pluralIterator:function(a){var b="",c="",e=a.format||
"",f=a.startHTML||"",g=a.endHTML||"",h=a.delimiter||"",i="undefined"===typeof a.emptyMessage?"There are no "+a.schemaId+".":a.emptyMessage,j=t(a.value)?a.value:[],n={},q=j.length,p,s=(a.fieldPrefix||O)+(a.elementId||a.elementName),u="<div id='"+s+"'>";if(0===q)b=i;else{for(p=0;p<q;++p)i=bf(j[p],a.propertyFormats),c+=G(i,e)+h,n[j[p].id]=j[p];h&&(c=c.slice(0,-h.length));c&&(b+=f+c+g)}a.editable&&w.push({handler:function(){var b=document.getElementById(s),c=$("janrainCapturePluralEditBtn",b),e=c.length,
f=$("janrainCapturePluralDeleteBtn",b),l=f.length,b=$("janrainCapturePluralCreateBtn",b),g=o.fields[a.idField],h=g?document.getElementById(O+g.name):null;if(h){var r=tb(h,"form");if(r){var i=function(b){var b=N(b),c=b.getAttribute("data-plural-item-id"),e;null!==c&&(e=n[c],janrain.events.onCapturePluralItemEdit.fire({item:e,element:b,editor:a.name}),h.disabled=!1,F(a.fieldMapping,function(a,b){var d=o.fields[b];d&&m.setField(d,e[a],O)}))},q=function(b){var b=N(b),c=b.getAttribute("data-plural-item-id"),
e;null!==c&&(e=n[c],janrain.events.onCapturePluralItemDelete.fire({item:e,element:b,editor:a.name}),m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile/delete_from_plural",name:a.deleteForm,needsResponse:!0,fields:[{elementType:"hidden",elementName:"delete",elementValue:a.name+"["+c+"]"}],callback:function(){ic(!1)}}))},p;for(p=0;p<e;++p)c[p].setAttribute("data-plural-item-id",j[p].id),y(c[p],"click",i);if(a.deleteForm)for(p=0;p<l;++p)f[p].setAttribute("data-plural-item-id",
j[p].id),y(f[p],"click",q);else 0<l&&k.forceError("Plural iterator editor requires a delete form in the flow for deletions to work.");F(a.fieldMapping,function(a,b){var d=o.fields[b];d&&(d.idFieldElementId=O+g.name)});0<b.length&&(b=b[0],y(b,"click",function(b){b=N(b);janrain.events.onCapturePluralItemCreate.fire({element:b,editor:a.name});h.disabled=!0;F(a.fieldMapping,function(a,b){var d=o.fields[b];d&&m.resetField(d,O)})}));y(r,"submit",function(){var b=null;h.disabled||(b=n[h.value]);janrain.events.onCapturePluralItemSave.fire({item:b,
editor:a.name})})}else k.forceError("Plural iterator editor requires a form.")}else k.forceError("Plural iterator editor requires idField in flow and in your form.")},eventType:"render"});return u+b+"</div>"},datetime_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b,c,e,f=a.format||"{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}",g=(new Date).getFullYear(),h="01",i="01",j="NA",k="NA",n="NA",o;if("undefined"===typeof a.value||""===a.value)return"";
b=a.value.split(" ");c=b.length;for(o=0;o<c;++o)e=b[o].split("-"),3===e.length?(g=e[0],h=e[1],i=e[2]):(e=b[o].split(":"),3===e.length?(j=e[0],k=e[1],n=e[2].split(".")[0]):(e=b[o].split("/"),3===e.length&&(g=e[0],h=e[1],i=e[2])));b=new Date;"NA"!==j||"NA"!==k||"NA"!==n?(b.setUTCHours(j),b.setUTCMinutes(k),b.setUTCSeconds(n),b.setUTCMilliseconds(0),b.setUTCMonth(h-1),b.setUTCDate(i),b.setUTCFullYear(g)):(b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0),b.setMonth(h-1),b.setDate(i),
b.setFullYear(g));return"[object Date]"!==Object.prototype.toString.call(b)||isNaN(b.getTime())?a.value:a.justString?Na(f,b,{monthNames:a.monthNames,dayNames:a.dayNames}):m.wrapStringData(a,Na(f,b,{monthNames:a.monthNames,dayNames:a.dayNames}))}},widget:{login:function(){w.push({handler:function(){var a=document.getElementById("janrainEngageEmbed"),b=document.getElementById(O+"login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var d=Ba();janrain.engage.signin.appendTokenParams({capture_transactionId:d},
!0,!0)}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):(a=document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());Uc||sa()},eventType:"render"});var a=m.createDiv({elementName:"login_widget",classes:["login_widget"]});return a+"</div>"},share:function(a,b){b=b?M.parse(b):{text:"Share"};w.push({elementName:"share_widget",eventType:"click",handler:function(){janrain.engage.share.show()}});
var c=m.createDiv({elementName:"share_widget",classes:["share_widget"]});return c+=b.text+" </div>"}}};var Ye=function(){function a(b,d,c){b={required:b,type:d};return"object"===typeof c?ya(b,c):b}function b(c,e){return a(!0,c,e)}function c(b,e){return a(!1,b,e)}function e(a,b){F(g,function(d,c){F(c,function(c,e){a.call(b,d,c,e)})})}var f={name:b("string"),elementName:b("string"),value:c("array",{subtype:"string"}),options:b("array",{subtype:"object",subtypeDefinition:{value:c("string"),label:c("string")}})},
g={data:{engageCookie:{name:"Engage Cookie Data",definition:{cookieName:b("string")}},localStorage:{name:"Local Storage Data",definition:{fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),classes:c("array",{subtype:"string"}),data:b("string")}},string:{name:"String Data",definition:{displayPublic:b("boolean"),value:c("string"),displaySavedValue:c("boolean"),justString:c("boolean"),hideWhenValue:c("string")}},image:{name:"Image Data",definition:{value:b("string"),returnImageTag:c("boolean"),
elementName:c("string"),hide:c("boolean"),classes:c("array",{subtype:"string"}),elementId:c("string")}}},html:{anchor:{name:"HTML Anchor",definition:{elementClasses:c("array",{subtype:"string"}),elementText:b("text"),fieldPrefix:c("string"),elementHref:b("string"),elementName:b("string"),target:c("string"),name:b("string")}},textarea:{name:"Text Area",definition:{elementClasses:c("array",{subtype:"string"}),fieldPrefix:c("string"),elementId:c("string"),rows:c("number"),name:b("string"),placeholder:c("string"),
value:c("text"),publicPrivateToggle:c("boolean")}},select:{name:"Select",definition:{elementClasses:c("array",{subtype:"string"}),fieldPrefix:c("string"),rendererFieldName:c("string"),rendererChildFieldName:c("string"),dontShowTip:c("boolean"),showFieldWhere:c("string"),name:b("string"),elementName:b("string"),options:b("array",{subtype:"object",subtypeDefinition:{text:b("string"),value:c("string")}}),publicPrivateToggle:c("boolean")}},multi:{name:"Mutli",definition:f},multiCheckbox:{name:"Checkboxes",
definition:f},multiRadio:{name:"Radio Buttons",definition:f},input:{name:"Input",definition:{type:b("string"),fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),justElement:c("boolean"),collection:c("boolean"),rendererFieldName:c("string"),rendererChildFieldName:c("string"),hide:c("boolean"),elementValue:c("string"),value:c("string"),placeholder:c("string"),engageData:c("string"),checked:c("boolean"),modify:c("boolean"),publicPrivateToggle:c("boolean"),profileStoragePath:c("boolean"),
displaySavedValue:c("boolean")}},button:{name:"Button",definition:{fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),elementClasses:c("array",{subtype:"string"}),type:c("string"),hide:c("boolean"),name:b("string"),value:c("string"),elementContent:c("string"),modify:c("boolean")}},form:{name:"Form",definition:{elementAttributes:c("object",{subtype:"string"}),localFieldPrefix:c("string"),classes:c("array",{subtype:"string"}),action:b("string"),transactionId:b("string"),serverNextScreen:c("boolean"),
hideOnSubmit:c("boolean"),engageTokenRequired:c("boolean"),checkIdentifier:c("boolean")}},div:{name:"Div",definition:{fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),elementAttributes:c("object",{subtype:"string"}),classes:c("array",{subtype:"string"}),type:c("string"),name:b("string"),elementText:b("text")}},close:{name:"Close",definition:{element:b("string"),type:c("string")}}},capture:{table:{name:"Table",definition:{th:b("object",{definition:{display:c("boolean"),cols:c("array",
{subtype:"string"})}}),rows:b("array",{subtype:"object",subtypeDefinition:{cells:b("array",{subtype:"object",subtypeDefinition:{elementValue:"string"}})}})}},countrySelect:{name:"Country Select",definition:{customText:c("object",{definition:{countryLabel:c("string")}})}},stateSelect:{name:"State Select",definition:{customText:b("object",{definition:{stateLabel:c("string")}}),noCanadianProvinces:c("boolean")}},keepMeLoggedIn:{name:"Keep Me Logged In",definition:{fieldPrefix:b("boolean"),label:c("string"),
name:b("string"),checked:c("boolean")}},captcha:{name:"CAPTCHA",definition:{name:b("string"),label:c("string")}},mergeAccounts:{name:"Merge Accounts",definition:{value:b("string"),customText:c("object",{subtype:"string",definition:{connectRadio:c("string"),connecetLegacyRadio:c("string"),createRadio:c("string"),foundExistingAccount:c("string"),moreInfoHover:c("string"),moreInfo:c("string"),createButton:c("string"),name:b("string"),traditionalMergeScreen:b("string"),useConnectIcons:c("boolean"),connectButton:c("string")}})}},
publicProfileLink:{name:"Public Profile Link",definition:{elementHref:c("string"),elementAttributes:c("object",{subtype:"string"}),addUUIDToLink:c("boolean")}},linkSocialAccount:{name:"Link Social Account",definition:{provider:b("string"),elementClasses:c("string"),elementContent:b("string")}},linkAccounts:{name:"Link Accounts",definition:{value:c("object",{definition:{providers:b("array",{subtype:"string"}),displayNames:b("array",{subtype:"string"}),identifiers:b("array",{subtype:"string"}),prettyProviders:b("array",
{subtype:"string"}),customProviders:b("array",{subtype:"string"})}}),customText:c("object",{subtype:"string"}),fieldPrefix:c("string"),name:c("string"),linkAccountContainer:b("string"),providerIconSize:c("number"),displayFormatKnown:c("string"),customIcons:c("boolean"),customAddLinks:c("boolean"),customAddLinkFormat:c("string")}},errorMessages:{name:"Error Messages",definition:{}},savedProfileMessage:{name:"Saved Profile Message",definition:{}},nameFull_public:{name:"Name Full Public",definition:{displayPublic:b("boolean"),
justString:c("boolean"),value:b("object",{definition:{firstname:c("string"),middlename:c("string"),lastname:c("string")}})}},nameFull:{name:"Name Full",definition:{name:b("string"),publicPrivateToggle:b("boolean"),displayPublic:b("boolean"),value:c("object",{definition:{firstname:c("string"),middlename:c("string"),lastname:c("string")}}),placeholder:c("object",{definition:{firstname:c("string"),middlename:c("string"),lastname:c("string")}})}},dateselect_public:{name:"Date Select Public",definition:{displayPublic:b("boolean"),
justString:c("boolean"),format:c("string"),value:b("object",{definition:{dateselect_year:b("number"),dateselect_month:b("number"),dateselect_day:b("number")}})}},dateselect:{name:"Date Select",definition:{customText:c("object",{definition:{yearLabelDateSelect:c("string"),monthLabelDateSelect:c("string"),dayLabelDateSelect:c("string"),fieldPrefix:c("string"),name:b("string"),format:c("array",{subtype:"string"}),monthStart:c("number"),monthEnd:c("number"),dayStart:c("number"),dayEnd:c("number"),yearStart:c("number"),
yearEnd:c("number"),label:c("string"),publicPrivateToggle:c("boolean"),displayPublic:b("boolean"),tip:c("string"),datePickerSettings:c("object"),elementName:b("string")}})}},addressFull_public:{name:"Address Full Public",definition:{displayPublic:c("boolean"),value:b("object",{definition:{streetaddress:c("string"),streetaddress2:c("string"),stateprovince:c("string"),zippostalcode:c("string"),country:c("string"),city:c("string")}})}},addressFull:{name:"Address Full",definition:{name:b("string"),publicPrivateToggle:c("boolean"),
displayPublic:c("boolean"),value:c("object",{definition:{streetaddress:c("string"),streetaddress2:c("string"),stateprovince:c("string"),zippostalcode:c("string"),country:c("string"),city:c("string")}}),customText:c("object",{definition:{stateLabel:c("string"),countryLabel:c("string")}}),placeholder:c("object",{definition:{streetaddress:c("string"),streetaddress2:c("string"),stateprovince:c("string"),zippostalcode:c("string"),country:c("string"),city:c("string")}})}},backButton:{name:"Back Button",
definition:null},partial:{name:"Partial",definition:{layout:b("string")}},photoManager:{name:"Photo Manager",definition:{elementName:b("string"),fieldPrefix:c("string"),previewSizeWidth:c("number"),previewSizeHeight:c("number"),originalMaxWidth:c("number"),originalMaxHeight:c("number"),name:b("string"),value:c("array",{subtype:"object",subtypeDefinition:{type:b("string")}}),customText:c("object",{definition:{profilePhotoTitlePhotoManager:c("string"),editProfilePhotoTitlePhotoManager:c("string"),editProfileInstructionPhotoManager:c("string"),
chooseNewPhotoLinkPhotoManager:c("string"),removePhotoLinkPhotoManager:c("string"),editPhotoLinkPhotoManager:c("string"),chooseDifferentPhotoLinkPhotoManager:c("string"),editPhotoButtonTextPhotoManager:c("string"),uploadPhotoButtonTextPhotoManager:c("string"),removePhotoButtonTextPhotoManager:c("string"),removePhotoCancelButtonTextPhotoManager:c("string"),uploadNewPhotoInstructionPhotoManager:c("string"),uploadNextStepInstructionPhotoManager:c("string"),editPhotoPreviewTitlePhotoManager:c("string")}})}},
datePicker:{name:"Date Picker",definition:{monthPreviousText:c("string"),monthNextText:c("string"),openOnTargetElementFocus:c("boolean"),provideOpenButton:c("boolean"),hasCloseButton:c("boolean"),minimumSelectableDate:c("string"),maximumSelectableDate:c("string"),monthAndYearSelectable:c("boolean"),defaultDate:c("string"),arrowKeyNavigation:c("boolean"),format:c("string"),calendarTitleFormat:c("string"),monthNames:c("array",{subtype:"string"}),weekStartsOnMonday:c("boolean"),daysOfWeek:c("array",
{subtype:"string"}),additionalClasses:c("array",{subtype:"string"})}},slider:{name:"Slider",definition:{publicDisplay:c("boolean"),displayPublic:c("boolean"),fieldPrefix:c("string"),initialPosition:c("number"),label:b("string"),elementName:b("string"),legend_items:b("array",{subtype:"string"}),publicPrivateToggle:c("boolean"),enabled:c("boolean"),value:c("object",{definition:{score:c("number")}})}},radioCollection:{name:"Radio Collection",definition:{classes:c("array",{subtype:"string"}),fieldPrefix:c("string"),
elementName:c("string"),collection:b("array",{subtype:"object",subtypeDefinition:{elementName:b("string")}})}},tabCollection:{name:"Tab Collection",definition:{classes:c("array",{subtype:"string"}),elementName:c("string"),collection:b("array",{subtype:"object",subtypeDefinition:{elementName:b("string")}})}},newsletterSubscriptions:{name:"Newsletter Subscriptions",definition:{format:c("string"),startHTML:c("string"),endHTML:c("string"),delimiter:c("string"),value:c("array",{subtype:"string"}),classes:c("array",
{subtype:"string"}),fieldPrefix:c("string"),elementName:b("string")}},pluralIterator:{name:"Plural Iterator",definition:{format:c("string"),startHMTL:c("string"),endHTML:c("string"),delimiter:c("string"),emptyMessage:c("string"),value:c("array",{subtype:"object"})}},datetime_public:{name:"Date Time Public",definition:{displayPublic:c("boolean"),format:c("string"),value:c("string"),justString:c("boolean")}}},widget:{login:{name:"Login Widget",definition:{}},share:{name:"Share Widget",definition:{}}}},
h=[];e(function(a,b){h.push(a+"."+b)});var i=g,f=i.capture,i=i.html;f.dateselect.definition.customText.definition.datePickerSettings=f.datePicker.definition;f.backButton.definition=ya({},i.button.definition);e(function(a,b,d){d.path=a+"."+b;d.group=a;d.name=b;ya(d.definition,{schemaId:c("string"),label:c("string"),tip:c("string")});"html"===a?d.definition.element=b:(d.definition.element=a,d.definition.type=b)});return{listComponents:function(){return h},componentDefinition:function(a){0>a.indexOf(".")&&
(a="html."+a);return Ca(g,a)}}}(),ie=!0,pa={},qe,Db={addCustomLink:function(a,b,c){var e=b.fieldPrefix||O,f=document.createElement("li");f.className="capture_custom_add_linkedaccount";f.setAttribute("data-captureprovider",a);f.innerHTML=G({provider:a},b.customAddLinkFormat);c&&c.parentNode?c.parentNode.insertBefore(f,c):document.getElementById(e+b.name+"_linkedproviderlist").appendChild(f)},unLinkAccountSuccessCallback:function(a,b){janrain.events.onCaptureProfileUnlink.fire({provider:b});var c=a.value.providers.indexOf(b);
F(a.value,function(a,b){t(b)&&b.splice(c,1)})},unLinkAccount:function(a,b,c,e){if(!("keypress"===a.type&&a.keyCode!==Fa)){var f=N(a);"#"===f.getAttribute("href")&&S(a);if(q(f).has("capture_remove_linkedaccount")){var g=this.completeUnLinkAccount;qe=function(){e&&e();g(f,b,c)};b.confirmRemoval?("undefined"===typeof gd&&(gd=new hf,gd.setTitle(oa.confirmRemoveLinkedTitle||"Remove Linked Account?").setMessage(oa.confirmRemoveLinkedMessage||"Are you sure you want to remove this linked account?").setButtons(oa.confirmRemoveLinkedNoText||
"Cancel",oa.confirmRemoveLinkedYesText||"Yes").setCallback(function(a){1===a.index&&qe();gd.close()})),gd.open()):qe()}}},completeUnLinkAccount:function(a,b,c){var e=a.getAttribute("data-captureidentifier"),f=a.getAttribute("data-captureprovider"),g=a.parentNode.getAttribute("data-capturerelatedfieldsid");b.customAddLinks&&Db.addCustomLink(f,b,a.parentNode);Hb(a.parentNode);g&&Hb(document.getElementById(g));m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",
elementId:"getUserData_form",fieldPrefix:b.fieldPrefix||O,captureScreen:c,needsResponse:!0,callback:function(){Db.unLinkAccountSuccessCallback(b,f)},fields:[{elementName:"identifier[]",elementType:"hidden",elementValue:e},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:e}]})},openInModal:function(a,b,c){janrain.engage&&janrain.engage.signin&&(janrain.engage.signin.setNoReturnExperience(!0),janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:b},!0));e(document.getElementById(c));
S(a)},linkWithCustomLink:function(a,b){if(!("keypress"===a.type&&a.keyCode!=Fa)){var c=N(a),c=tb(c,"li");q(c).has("capture_custom_add_linkedaccount")&&(c=c.getAttribute("data-captureprovider"),Lb(b,c))}},triggerLinkSocialAccountFlow:function(a,b,c){"keypress"===a.type&&a.keyCode!==Fa||Lb(b,c)},renderHandler:function(a,b){var c=document.getElementById(a);document.getElementById(b).appendChild(c)}},dd=!0,Qe=0,Re,ed=0,ke=0,Vd=janrain.settings.capture.autoSaveUpdateInterval||1E4,Wd=janrain.settings.capture.autoSaveDelay||
janrain.settings.capture.autoSaveInterval||1E4;Ke=function(a){if(janrain.settings.capture.redirectFlow){var b=cc(Hd?"true":"false");Ia(b.capture_transactionId);b.flow=E();delete b.token;a&&(b.capture_screen=da,b.engage_add_account=!0,b.access_token=ia);a=a?"/widget/profile":"/widget/token_url";b=Kc(b);return janrain.settings.capture.captureServer+a+b}};var Se={reactivateAccount:function(a){if("accountReactivated"===a.statusMessage||"invalidReactivationCode"===a.statusMessage)"success"===a.status?
janrain.events.onCaptureAccountReactivateSuccess.fire(a):janrain.events.onCaptureAccountReactivateFailed.fire(a)},deactivateAccount:function(a){a.statusMessage&&("success"===a.status&&"accountDeactivated"===a.statusMessage?janrain.events.onCaptureAccountDeactivateSuccess.fire(a):janrain.events.onCaptureAccountDeactivateFailed.fire(a))},emailCode:function(a){if("verified"===a.statusMessage||"invalidVerificationCode"===a.statusMessage)"success"===a.status?ub(a)?(a.accessToken||a.authorizationCode)&&
Cb(a,"onCaptureEmailVerificationSuccess"):janrain.events.onCaptureEmailVerificationSuccess.fire(a):janrain.events.onCaptureEmailVerificationFailed.fire(a);else if("forgotPasswordCodeRedeemed"===a.statusMessage||"invalidForgotPasswordCode"===a.statusMessage)"success"===a.status?ub(a)?(a.accessToken||a.authorizationCode)&&Cb(a,"onCaptureForgotPasswordCodeSuccess"):janrain.events.onCaptureForgotPasswordCodeSuccess.fire(a):janrain.events.onCaptureForgotPasswordCodeFailed.fire(a)},profile:function(a){"profileFound"!==
a.statusMessage&&("success"===a.status?(ee=!0,ke=(new Date).getTime(),janrain.events.onCaptureProfileSaveSuccess.fire(a)):janrain.events.onCaptureProfileSaveFailed.fire(a))},traditionalSignin:function(a){ad=!1;if("success"!==a.status)janrain.events.onCaptureLoginFailed.fire(a);else{if(a.authorizationCode){var b=od(janrain.settings.capture.redirectUri,{code:a.authorizationCode});a.redirectUri=b}if(a.accessToken||a.authorizationCode){if(ub(a))a.oneTime?(ad=!0,a.fireEvent="onCapturePostLoginScreen"):
Cb(a,"onCaptureLoginSuccess");else if(Id)Id=!1;else if(a.oneTime){ad=!0;var c=X(a);delete c.accessToken;janrain.events.onCapturePostLoginScreen.fire(c)}else janrain.events.onCaptureLoginSuccess.fire(a);("traditionalSignin"===a.action||"socialSignin"===a.action)&&ja(a.action);janrain.settings.capture.federate&&a.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(a),Ub(a.transactionId),K=!0)}a.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=b)}},postLoginConfirmation:function(a){"success"!==
a.status?janrain.events.onCaptureLoginFailed.fire(a):a.oneTime?janrain.events.onCapturePostLoginScreen.fire(a):bd&&!ad?janrain.events.onCaptureRegistrationSuccess.fire(a):!bd&&ad&&janrain.events.onCaptureLoginSuccess.fire(a)},traditionalRegister:function(a){bd=!1;if("success"!==a.status)janrain.events.onCaptureRegistrationFailed.fire(a);else{if(!ub(a))if(a.oneTime){bd=!0;var b=X(a);delete b.accessToken;janrain.events.onCaptureRegistrationSuccessNoLogin.fire(b);janrain.events.onCapturePostLoginScreen.fire(b)}else janrain.events.onCaptureRegistrationSuccess.fire(a);
cd&&(cd=!1);if(a.accessToken||a.authorizationCode)"socialRegister"===a.action?ja("socialSignin"):ja("traditionalSignin"),ub(a)&&(a.oneTime?(bd=!0,a.fireEvent=["onCapturePostLoginScreen","onCaptureRegistrationSuccessNoLogin"]):Cb(a,"onCaptureRegistrationSuccess"))}},control:function(a){"success"===a.status?janrain.events.onCaptureControlSuccesss.fire(a):janrain.events.onCaptureControlFailed.fire(a)}};(function(){this.otpSignin=this.ssoSignin=this.socialSignin=this.traditionalSignin;this.socialRegister=
this.traditionalRegister}).call(Se);var Te=function(){Rb("accessDenied","capture_access","Sorry. Access denied.");Rb("retrievingUserData","capture_retrieving","Please wait while we retrieve your user data.");Rb("dialog","capture_dialog","",{layout:"captureDialogBuiltIn",modal:!0,modalLoadOnLoad:!0,source:"server"})};Te();var Xd=[],pe={};return{modal:{close:function(){"object"==typeof x&&x.close()},closeConfirm:function(){"object"==typeof x&&x.closeConfirm()},open:function(a){Q=!0;var b=a||Z.flow.defaultScreen;
if("object"==typeof x&&(a&&janrain.capture.ui.renderScreen(b),a=Z.div))x.setShowContentOnLoad(!0),x.addContent(a).show(),janrain.events.onCaptureContentChange.fire()},setBorder:function(a){"object"===typeof x&&(x.setBorder(a),x.refresh({center:!0}));return!0},setBorderColor:function(a){"object"===typeof x&&(x.setBorderColor(a),x.refresh());return!0},setBorderOpacity:function(a){"object"===typeof x&&(x.setBorderOpacity(a),x.refresh());return!0},setBorderRadius:function(a){"object"==typeof x&&(x.setBorderRadius(a),
x.refresh());return!0},setOverlayZIndex:function(a){"object"==typeof x&&(x.setZIndex(a),x.refresh());return!0}},start:function(a,b){Fb.fire();if(janrain.settings.capture.hasSettings&&janrain.settings.capture.appId&&janrain.settings.capture.clientId){var c=V()+"/widget_data/settings/"+janrain.settings.capture.appId+"/"+janrain.settings.capture.clientId+".js";md(c,function(){f(a,b)}).setTimeoutCallback(function(){janrain.settings.capture.hasSettings=!1;k.forceError("Failed to load capture settings.");
f(a,b)}).load()}else f(a,b)},hasActiveSession:function(){return!!ia},renderComponent:cb().renderField,listComponents:Ye.listComponents,componentDefinition:Ye.componentDefinition,render:function(a,c){if(janrain.settings.capture.hasSettings){var e,f,g,h,i,j;e=vd.mergeFlow;f=a.mergeFromSettings;if(e&&f)for(h=0,i=f.length;h<i;++h)g=f[h],j=Ca(e,g),g=Ca(a,g),j&&g&&De(g,j);nc(a)}Hc(a);Qb||(Qb=b());a.i18nStrings&&(oa=a.i18nStrings);oa.validatingText&&(Ve=oa.validatingText);if(a.version)Ad=a.version;else throw Error("MissingVersionError: Missing version.");
zc(a);Cd=a.hasTraditionalAccount;ae=a.form;if(Cd){e=$("janrain_traditional_account_only");f=e.length;for(h=0;h<f;h++)e[h].style.display="block"}Pb(a);e=new cb;f=!1;$c&&cd&&(f=janrain.settings.capture.registerFlow||"socialRegister");f=o.oneTimeRender||f||janrain.settings.capture.screenToRender||o.defaultScreen;e.setScreenData(f,o.screens[f]);if(c)for(var k in c)c[k].id&&c[k].value&&(e=document.getElementById(c[k].id),e.value=c[k].value,"radio"===c[k].type&&(e.checked=c[k].checked,c[k].checked&&e.click()))},
renderScreen:function(a,b){var c=o.screens[a];c?(Ld=!1,b||wc.push(Z),(new cb).setScreenData(a,c)):k.forceError("Can't render - Missing screen '"+a+"' in flow.")},applySettings:function(a){vd=a;ka=a.janrain_settings_version||""},getClientSettings:function(){return X(vd)},setHandler:function(a,b,c){this.setFieldAttribute(a,b+"Handler",c)},setFieldAttribute:function(a,b,c){Zc.push({field:a,attribute:b,value:c})},setRenderer:function(a,b,c){z.prototype.render[a].helpers=je;z.prototype.render[a][b]=c},
setValidator:function(a,b){ga.prototype[a]=b},registerFunction:function(a,b){pe[a]=b},addRenderer:function(a,b,c){this.setRenderer(a,b,c)},trackLoadedCssFiles:function(a){me.push(a)},handleCaptureUniqueResponse:function(a){Lc(a)},handleCaptureResponse:function(a,b){Jc(a,b)},handleErrorResponse:function(a,b){Oc(a,b)},createCaptureSession:function(a){ba(a)},endCaptureSession:function(){La()},addTransactionIds:function(a){Sb(a)},getFailedLogins:function(){return tc},setCustomHtml:function(a,b){Ec(a,
b)},getEngageCookie:function(a){return Fc(a)},getProfileCookieData:function(a,b){return Vc(a,b)},getReturnExperienceData:function(a,b){return jd(a,b)},federateLogoutCallbackFired:function(a,b){k.info("Federate logout callback fired");A(Ed,a)||(Ed.push(a),b())},federateNoLogin:function(a){k.info("federateNoLogin called at "+new Date);janrain.events.onCaptureFederateNoLogin.fire(a.result);Ub(a.transactionId);bc();K=!0},federateSetLoginSuccess:function(a){k.info("Federate set login success");a&&a.transactionId&&
Ob&&Ob[a.transactionId]&&(Ob[a.transactionId].setLoginSuccess=!0,Ob[a.transactionId].eventFiredDueToSlowResponse||rc(a.transactionId))},federateRefreshToken:function(b){b&&"ok"===b.stat?(ba(b.accessToken,!1,!0),s()):6>=++a?(k.warn("SSO refresh token returned: "+b.stat+" at "+new Date),k.warn("SSO refresh token retry attempt: "+a),s()):k.error("SSO refresh token failed with stat: "+b.stat+" at "+new Date)},linkSocialAccount:function(a){Uc||sa();Lb(da,a)},scriptLoader:function(a,b){return md(a,b)},
noop:function(){},validationHandler:function(a){var b=document.getElementById(a.elementId),c=new m.validation;c.setParentDiv(b);c.setElement(b);c.valid();a.valid?c.valid():c.notValid(a.reason)},setNoReturnExperience:function(){var a=new D;a.setUseLocalStorage(!0).setName("janrainLastAuthMethod");a.remove();janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);Yc&&janrain.capture.ui.renderScreen(Yc)},getPublicProfile:function(a,b){Gc(a,b)},activateCaptureControl:function(a){jb(a)},
postCaptureForm:function(a,b){nd(a,b)}}};Mc();return{engage:{signin:"loaded"===Ca(janrain,"engage.signin.status")?janrain.engage.signin:rf,share:"loaded"===Ca(janrain,"engage.share.status")?janrain.engage.share:sf},capture:{ui:tf}}}();janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;